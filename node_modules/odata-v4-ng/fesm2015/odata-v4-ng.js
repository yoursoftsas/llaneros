import { HttpHeaders, HttpResponse, HttpClient, HttpClientModule } from '@angular/common/http';
import { UUID } from 'angular2-uuid';
import { map } from 'rxjs/operators';
import { Injectable, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const OperatorComparison = {
    EQ: 0, NE: 1, GT: 2, GE: 3, LT: 4, LE: 5, HAS: 6,
};
OperatorComparison[OperatorComparison.EQ] = 'EQ';
OperatorComparison[OperatorComparison.NE] = 'NE';
OperatorComparison[OperatorComparison.GT] = 'GT';
OperatorComparison[OperatorComparison.GE] = 'GE';
OperatorComparison[OperatorComparison.LT] = 'LT';
OperatorComparison[OperatorComparison.LE] = 'LE';
OperatorComparison[OperatorComparison.HAS] = 'HAS';
/** @enum {number} */
const OperatorLogical = {
    AND: 0, OR: 1, NOT: 2,
};
OperatorLogical[OperatorLogical.AND] = 'AND';
OperatorLogical[OperatorLogical.OR] = 'OR';
OperatorLogical[OperatorLogical.NOT] = 'NOT';
/** @enum {number} */
const OperatorArithmetic = {
    ADD: 0, SUB: 1, MUL: 2, DIV: 3, MOD: 4,
};
OperatorArithmetic[OperatorArithmetic.ADD] = 'ADD';
OperatorArithmetic[OperatorArithmetic.SUB] = 'SUB';
OperatorArithmetic[OperatorArithmetic.MUL] = 'MUL';
OperatorArithmetic[OperatorArithmetic.DIV] = 'DIV';
OperatorArithmetic[OperatorArithmetic.MOD] = 'MOD';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class QuotedString {
    /**
     * @param {?} value
     */
    constructor(value) {
        this.value = value;
    }
    /**
     * @return {?}
     */
    toString() {
        return this.value;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class Utils {
    /**
     * @param {?} value
     * @return {?}
     */
    static isNull(value) {
        return value === null;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static isUndefined(value) {
        return value === undefined;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static isNullOrUndefined(value) {
        return Utils.isNull(value) || Utils.isUndefined(value);
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static isNotNullNorUndefined(value) {
        return !Utils.isNull(value) && !Utils.isUndefined(value);
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static isEmpty(value) {
        if (Utils.isNullOrUndefined(value)
            || typeof (value) === 'string' && !value.length
            || value instanceof Array && !value.length
            || typeof (value.isEmpty) === 'function' && value.isEmpty()) {
            return true;
        }
        if (value instanceof Array && value) {
            for (const v of value) {
                if (!Utils.isEmpty(v)) {
                    return false;
                }
            }
            return true;
        }
        return false;
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNull(fieldValue, fieldName) {
        if (fieldValue !== null) {
            throw new Error(fieldName + ' must be null');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireUndefined(fieldValue, fieldName) {
        if (fieldValue !== undefined) {
            throw new Error(fieldName + ' must be undefined');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNotNull(fieldValue, fieldName) {
        if (fieldValue === null) {
            throw new Error(fieldName + ' cannot be null');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNotUndefined(fieldValue, fieldName) {
        if (fieldValue === undefined) {
            throw new Error(fieldName + ' cannot be undefined');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNotNullNorUndefined(fieldValue, fieldName) {
        Utils.requireNotNull(fieldValue, fieldName);
        Utils.requireNotUndefined(fieldValue, fieldName);
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNullOrUndefined(fieldValue, fieldName) {
        if (!Utils.isNull(fieldValue) && !Utils.isUndefined(fieldValue)) {
            throw new Error(fieldName + ' must be null or undefined');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNotEmpty(fieldValue, fieldName) {
        if (Utils.isEmpty(fieldValue)) {
            throw new Error(fieldName + ' cannot be empty');
        }
    }
    /**
     * @param {?} fieldValue
     * @param {?} fieldName
     * @return {?}
     */
    static requireNotNegative(fieldValue, fieldName) {
        if (fieldValue < 0) {
            throw new Error(fieldName + ' cannot be negative');
        }
    }
    /**
     * @param {?} path
     * @param {?} segment
     * @return {?}
     */
    static appendSegment(path, segment) {
        Utils.requireNotNullNorUndefined(path, 'path');
        Utils.requireNotNullNorUndefined(segment, 'segment');
        if (!path.endsWith('/')) {
            path += '/';
        }
        return path + segment;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    static removeEndingSeparator(value) {
        Utils.requireNotNullNorUndefined(value, 'value');
        if (value.endsWith('/')) {
            if (value.length === 1) {
                return '';
            }
            return value.substring(0, value.length - 1);
        }
        return value;
    }
    /**
     * @param {?} value
     * @param {?} encodeURI
     * @return {?}
     */
    static getValueURI(value, encodeURI) {
        Utils.requireNotUndefined(value, 'value');
        Utils.requireNotNullNorUndefined(encodeURI, 'encodeURI');
        /** @type {?} */
        let res = value;
        if (typeof (res) === 'string') {
            // encode uri component
            if (Utils.isNotNullNorUndefined(encodeURI) && encodeURI) {
                res = encodeURIComponent(res);
            }
        }
        else if (res instanceof QuotedString) {
            // escape single quote
            res = res.toString().replace(/'/g, '\'\'');
            // encode uri component
            if (Utils.isNotNullNorUndefined(encodeURI) && encodeURI) {
                res = encodeURIComponent(res);
            }
            // add start/ending quotes
            res = '\'' + res + '\'';
        }
        // boolean, number
        return res;
    }
    /**
     * @param {?} items
     * @param {?=} operator
     * @param {?=} operatorUppercase
     * @return {?}
     */
    static toString(items, operator, operatorUppercase = false) {
        /** @type {?} */
        let res = '';
        if (Utils.isNullOrUndefined(items) || !items.length) {
            return res;
        }
        for (const item of items) {
            if (res.length) {
                if (Utils.isNotNullNorUndefined(operator)) {
                    /** @type {?} */
                    const operatorString = Utils.getOperatorString(operator, operatorUppercase);
                    res += ` ${operatorString} `;
                }
                else {
                    res += ',';
                }
            }
            if (Utils.isNotNullNorUndefined(operator) && operator === OperatorLogical.NOT) {
                /** @type {?} */
                const operatorString = Utils.getOperatorString(operator, operatorUppercase);
                res += `${operatorString} `;
            }
            res += item;
        }
        if (Utils.isNotNullNorUndefined(operator)) {
            return `(${res})`;
        }
        return res;
    }
    /**
     * @param {?} operator
     * @param {?} operatorUppercase
     * @return {?}
     */
    static getOperatorString(operator, operatorUppercase) {
        /** @type {?} */
        let operatorString = OperatorLogical[operator].toLowerCase();
        if (Utils.isNotNullNorUndefined(operatorUppercase) && operatorUppercase) {
            operatorString = operatorString.toUpperCase();
        }
        return operatorString;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class ODataQueryAbstract {
    /**
     * @param {?} odataService
     * @param {?} serviceRoot
     */
    constructor(odataService, serviceRoot) {
        Utils.requireNotNullNorUndefined(odataService, 'odataService');
        Utils.requireNotNullNorUndefined(serviceRoot, 'serviceRoot');
        Utils.requireNotEmpty(serviceRoot, 'serviceRoot');
        this.odataService = odataService;
        this.serviceRoot = serviceRoot;
        this.queryString = serviceRoot;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const Method = {
    GET: 0, POST: 1, PUT: 2, PATCH: 3, DELETE: 4,
};
Method[Method.GET] = 'GET';
Method[Method.POST] = 'POST';
Method[Method.PUT] = 'PUT';
Method[Method.PATCH] = 'PATCH';
Method[Method.DELETE] = 'DELETE';
class BatchRequest {
    /**
     * @param {?} method
     * @param {?} odataQuery
     * @param {?=} body
     * @param {?=} httpOptions
     */
    constructor(method, odataQuery, body, httpOptions) {
        this.method = method;
        this.odataQuery = odataQuery;
        this.body = body;
        this.httpOptions = httpOptions;
    }
}
class ODataQueryBatch extends ODataQueryAbstract {
    /**
     * @param {?} odataService
     * @param {?} serviceRoot
     */
    constructor(odataService, serviceRoot) {
        super(odataService, serviceRoot);
        Utils.requireNotNullNorUndefined(odataService, 'odataService');
        Utils.requireNotNullNorUndefined(serviceRoot, 'serviceRoot');
        Utils.requireNotEmpty(serviceRoot, 'serviceRoot');
        this.queryString = Utils.appendSegment(serviceRoot, ODataQueryBatch.$BATCH);
        this.requests = [];
        this.batchBoundary = ODataQueryBatch.BATCH_PREFIX + this.getUUID();
        this.changesetBoundary = null;
        this.changesetID = 1;
    }
    /**
     * @param {?} odataQuery
     * @param {?=} httpOptions
     * @return {?}
     */
    get(odataQuery, httpOptions) {
        Utils.requireNotNullNorUndefined(odataQuery, 'odataQuery');
        this.requests.push(new BatchRequest(Method.GET, odataQuery, undefined, httpOptions));
        return this;
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} httpOptions
     * @return {?}
     */
    post(odataQuery, body, httpOptions) {
        Utils.requireNotNullNorUndefined(odataQuery, 'odataQuery');
        this.requests.push(new BatchRequest(Method.POST, odataQuery, body, httpOptions));
        return this;
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} httpOptions
     * @return {?}
     */
    put(odataQuery, body, httpOptions) {
        Utils.requireNotNullNorUndefined(odataQuery, 'odataQuery');
        this.requests.push(new BatchRequest(Method.PUT, odataQuery, body, httpOptions));
        return this;
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} httpOptions
     * @return {?}
     */
    patch(odataQuery, body, httpOptions) {
        Utils.requireNotNullNorUndefined(odataQuery, 'odataQuery');
        this.requests.push(new BatchRequest(Method.PATCH, odataQuery, body, httpOptions));
        return this;
    }
    /**
     * @param {?} odataQuery
     * @param {?=} httpOptions
     * @return {?}
     */
    delete(odataQuery, httpOptions) {
        Utils.requireNotNullNorUndefined(odataQuery, 'odataQuery');
        this.requests.push(new BatchRequest(Method.DELETE, odataQuery, undefined, httpOptions));
        return this;
    }
    /**
     * @param {?=} httpOptions
     * @return {?}
     */
    execute(httpOptions) {
        // set headers
        if (Utils.isNullOrUndefined(httpOptions)) {
            httpOptions = {};
        }
        if (Utils.isNullOrUndefined(httpOptions.headers)) {
            httpOptions.headers = new HttpHeaders();
        }
        httpOptions.headers = httpOptions.headers.set(ODataQueryBatch.ODATA_VERSION, ODataQueryBatch.VERSION_4_0);
        httpOptions.headers = httpOptions.headers.set(ODataQueryBatch.CONTENT_TYPE, ODataQueryBatch.MULTIPART_MIXED_BOUNDARY + this.batchBoundary);
        httpOptions.headers = httpOptions.headers.set(ODataQueryBatch.ACCEPT, ODataQueryBatch.MULTIPART_MIXED);
        // send request
        return this.odataService.post(this, this.getBody(), httpOptions);
    }
    /**
     * @return {?}
     */
    toString() {
        return this.queryString;
    }
    /**
     * @return {?}
     */
    getBody() {
        /** @type {?} */
        let res = '';
        for (const request of this.requests) {
            /** @type {?} */
            const method = request.method;
            /** @type {?} */
            const odataQuery = request.odataQuery;
            /** @type {?} */
            const httpOptions = request.httpOptions;
            /** @type {?} */
            const body = request.body;
            // if method is GET and there is a changeset boundary open then close it
            if (method === Method.GET && Utils.isNotNullNorUndefined(this.changesetBoundary)) {
                res += ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + this.changesetBoundary + ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + ODataQueryBatch.NEWLINE;
                this.changesetBoundary = null;
            }
            // if there is no changeset boundary open then open a batch boundary
            if (Utils.isNullOrUndefined(this.changesetBoundary)) {
                res += ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + this.batchBoundary + ODataQueryBatch.NEWLINE;
            }
            // if method is not GET and there is no changeset boundary open then open a changeset boundary
            if (method !== Method.GET) {
                if (Utils.isNullOrUndefined(this.changesetBoundary)) {
                    this.changesetBoundary = ODataQueryBatch.CHANGESET_PREFIX + this.getUUID();
                    res += ODataQueryBatch.CONTENT_TYPE + ': ' + ODataQueryBatch.MULTIPART_MIXED_BOUNDARY + this.changesetBoundary + ODataQueryBatch.NEWLINE;
                    res += ODataQueryBatch.NEWLINE;
                }
                res += ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + this.changesetBoundary + ODataQueryBatch.NEWLINE;
            }
            res += ODataQueryBatch.CONTENT_TYPE + ': ' + ODataQueryBatch.APPLICATION_HTTP + ODataQueryBatch.NEWLINE;
            res += ODataQueryBatch.CONTENT_TRANSFER_ENCODING + ': ' + ODataQueryBatch.BINARY + ODataQueryBatch.NEWLINE;
            if (method !== Method.GET) {
                res += ODataQueryBatch.CONTENT_ID + ': ' + this.changesetID++ + ODataQueryBatch.NEWLINE;
            }
            res += ODataQueryBatch.NEWLINE;
            res += Method[method] + ' ' + odataQuery + ' ' + ODataQueryBatch.HTTP11 + ODataQueryBatch.NEWLINE;
            res += this.getHeaders(method, httpOptions);
            res += ODataQueryBatch.NEWLINE;
            if (method === Method.GET || method === Method.DELETE) {
                res += ODataQueryBatch.NEWLINE;
            }
            else {
                res += JSON.stringify(body) + ODataQueryBatch.NEWLINE;
            }
        }
        if (res.length) {
            if (Utils.isNotNullNorUndefined(this.changesetBoundary)) {
                res += ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + this.changesetBoundary + ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + ODataQueryBatch.NEWLINE;
                this.changesetBoundary = null;
            }
            res += ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX + this.batchBoundary + ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX;
        }
        return res;
    }
    /**
     * @param {?} method
     * @param {?} httpOptions
     * @return {?}
     */
    getHeaders(method, httpOptions) {
        /** @type {?} */
        let res = '';
        if (method === Method.POST || method === Method.PATCH || method === Method.PUT) {
            res += ODataQueryBatch.CONTENT_TYPE + ': ' + ODataQueryBatch.APPLICATION_JSON + ODataQueryBatch.NEWLINE;
        }
        if (Utils.isNullOrUndefined(httpOptions) || Utils.isNullOrUndefined(httpOptions.headers)) {
            return res;
        }
        for (const key of httpOptions.headers.keys()) {
            res += key + ': ' + httpOptions.headers.getAll(key) + ODataQueryBatch.NEWLINE;
        }
        return res;
    }
    /**
     * @return {?}
     */
    getUUID() {
        return UUID.UUID();
    }
}
ODataQueryBatch.BOUNDARY_PREFIX_SUFFIX = '--';
ODataQueryBatch.BATCH_PREFIX = 'batch_';
ODataQueryBatch.CHANGESET_PREFIX = 'changeset_';
ODataQueryBatch.NEWLINE = '\r\n';
ODataQueryBatch.$BATCH = '$batch';
ODataQueryBatch.HTTP11 = 'HTTP/1.1';
ODataQueryBatch.ODATA_VERSION = 'OData-Version';
ODataQueryBatch.CONTENT_TYPE = 'Content-Type';
ODataQueryBatch.ACCEPT = 'Accept';
ODataQueryBatch.CONTENT_TRANSFER_ENCODING = 'Content-Transfer-Encoding';
ODataQueryBatch.CONTENT_ID = 'Content-ID';
ODataQueryBatch.VERSION_4_0 = '4.0';
ODataQueryBatch.MULTIPART_MIXED = 'multipart/mixed';
ODataQueryBatch.MULTIPART_MIXED_BOUNDARY = 'multipart/mixed;boundary=';
ODataQueryBatch.APPLICATION_HTTP = 'application/http';
ODataQueryBatch.BINARY = 'binary';
ODataQueryBatch.APPLICATION_JSON = 'application/json';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FilterString {
    /**
     * @param {?} filter
     */
    constructor(filter) {
        Utils.requireNotNullNorUndefined(filter, 'filter');
        Utils.requireNotEmpty(filter, 'filter');
        this.filter = filter;
    }
    /**
     * @return {?}
     */
    toString() {
        return this.filter;
    }
    /**
     * @return {?}
     */
    isEmpty() {
        return Utils.isNullOrUndefined(this.filter) || !this.filter.length;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class Expand {
    /**
     * @param {?} entitySet
     */
    constructor(entitySet) {
        Utils.requireNotNullNorUndefined(entitySet, 'entitySet');
        Utils.requireNotEmpty(entitySet, 'entitySet');
        this.entitySet = entitySet;
        this.queryOptions = new QueryOptions(Expand.SEPARATOR);
    }
    /**
     * @param {?} select
     * @return {?}
     */
    select(select) {
        this.queryOptions.select(select);
        return this;
    }
    /**
     * @param {?} filter
     * @return {?}
     */
    filter(filter) {
        this.queryOptions.filter(filter);
        return this;
    }
    /**
     * @param {?} expand
     * @return {?}
     */
    expand(expand) {
        this.queryOptions.expand(expand);
        return this;
    }
    /**
     * @param {?} orderby
     * @return {?}
     */
    orderby(orderby) {
        this.queryOptions.orderby(orderby);
        return this;
    }
    /**
     * @param {?} search
     * @return {?}
     */
    search(search) {
        this.queryOptions.search(search);
        return this;
    }
    /**
     * @param {?} skip
     * @return {?}
     */
    skip(skip) {
        this.queryOptions.skip(skip);
        return this;
    }
    /**
     * @param {?} top
     * @return {?}
     */
    top(top) {
        this.queryOptions.top(top);
        return this;
    }
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    customOption(key, value) {
        this.queryOptions.customOption(key, value);
        return this;
    }
    /**
     * @return {?}
     */
    toString() {
        /** @type {?} */
        let res = this.entitySet;
        if (!Utils.isEmpty(this.queryOptions)) {
            res += '(' + this.queryOptions + ')';
        }
        return res;
    }
    /**
     * @return {?}
     */
    isEmpty() {
        return Utils.isEmpty(this.entitySet);
    }
}
Expand.SEPARATOR = ';';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const Order = {
    ASC: 0, DESC: 1,
};
Order[Order.ASC] = 'ASC';
Order[Order.DESC] = 'DESC';
class Orderby {
    /**
     * @param {?} property
     * @param {?=} order
     */
    constructor(property, order) {
        Utils.requireNotNullNorUndefined(property, 'property');
        this.property = property;
        this.order = order;
    }
    /**
     * @return {?}
     */
    toString() {
        /** @type {?} */
        let res = this.property;
        if (!Utils.isNullOrUndefined(this.order)) {
            res += ' ' + Order[this.order].toLowerCase();
        }
        return res;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class QueryOptions {
    /**
     * @param {?} separator
     */
    constructor(separator) {
        Utils.requireNotNullNorUndefined(separator, 'separator');
        Utils.requireNotEmpty(separator, 'separator');
        this._separator = separator;
        this._select = null;
        this._filter = null;
        this._expand = null;
        this._orderby = null;
        this._search = null;
        this._skip = null;
        this._top = null;
        this._count = null;
        this._customOptions = null;
        this._format = null;
    }
    /**
     * @param {?} select
     * @return {?}
     */
    select(select) {
        if (Utils.isNullOrUndefined(select) || Utils.isEmpty(select)) {
            this._select = null;
        }
        else {
            this._select = typeof (select) === 'string' ? [select] : select;
        }
        return this;
    }
    /**
     * @param {?} filter
     * @return {?}
     */
    filter(filter) {
        if (Utils.isNullOrUndefined(filter) || Utils.isEmpty(filter)) {
            this._filter = null;
        }
        else {
            this._filter = typeof (filter) === 'string' ? new FilterString(filter) : filter;
        }
        return this;
    }
    /**
     * @param {?} expand
     * @return {?}
     */
    expand(expand) {
        if (Utils.isNullOrUndefined(expand) || Utils.isEmpty(expand)) {
            this._expand = null;
        }
        else {
            this._expand = typeof (expand) === 'string' ? [new Expand(expand)] : expand instanceof Expand ? [expand] : expand;
        }
        return this;
    }
    /**
     * @param {?} orderby
     * @return {?}
     */
    orderby(orderby) {
        if (Utils.isNullOrUndefined(orderby) || Utils.isEmpty(orderby)) {
            this._orderby = null;
        }
        else {
            this._orderby = typeof (orderby) === 'string' ? [new Orderby(orderby)] : orderby;
        }
        return this;
    }
    /**
     * @param {?} search
     * @return {?}
     */
    search(search) {
        this._search = search;
        return this;
    }
    /**
     * @param {?} skip
     * @return {?}
     */
    skip(skip) {
        Utils.requireNotNegative(skip, 'skip');
        this._skip = skip;
        return this;
    }
    /**
     * @param {?} top
     * @return {?}
     */
    top(top) {
        Utils.requireNotNegative(top, 'top');
        this._top = top;
        return this;
    }
    /**
     * @param {?} count
     * @return {?}
     */
    count(count) {
        this._count = count;
        return this;
    }
    /**
     * @param {?} format
     * @return {?}
     */
    format(format) {
        this._format = format;
        return this;
    }
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    customOption(key, value) {
        Utils.requireNotNullNorUndefined(key, 'key');
        if (Utils.isNullOrUndefined(this._customOptions)) {
            this._customOptions = new Map();
        }
        this._customOptions.set(key, value);
        return this;
    }
    /**
     * @return {?}
     */
    toString() {
        /** @type {?} */
        let queryOptions = '';
        // add select
        if (!Utils.isNullOrUndefined(this._select) && !Utils.isEmpty(this._select)) {
            queryOptions += '$select=';
            if (typeof (this._select) === 'string') {
                queryOptions += this._select;
            }
            else {
                queryOptions += Utils.toString(this._select);
            }
        }
        // add filter
        if (!Utils.isNullOrUndefined(this._filter) && !Utils.isEmpty(this._filter)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$filter=' + encodeURIComponent(this._filter.toString());
        }
        // add expand
        if (!Utils.isNullOrUndefined(this._expand) && !Utils.isEmpty(this._expand)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$expand=';
            if (typeof (this._expand) === 'string') {
                queryOptions += this._expand;
            }
            else {
                queryOptions += Utils.toString(this._expand);
            }
        }
        // add orderby
        if (!Utils.isNullOrUndefined(this._orderby) && !Utils.isEmpty(this._orderby)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$orderby=';
            if (typeof (this._orderby) === 'string') {
                queryOptions += this._orderby;
            }
            else {
                queryOptions += Utils.toString(this._orderby);
            }
        }
        // add search
        if (!Utils.isNullOrUndefined(this._search) && !Utils.isEmpty(this._search)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$search=' + encodeURIComponent(this._search.toString());
        }
        // add skip
        if (!Utils.isNullOrUndefined(this._skip) && !Utils.isEmpty(this._skip)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$skip=' + this._skip;
        }
        // add top
        if (!Utils.isNullOrUndefined(this._top) && !Utils.isEmpty(this._top)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$top=' + this._top;
        }
        // add count
        if (!Utils.isNullOrUndefined(this._count) && !Utils.isEmpty(this._count)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$count=' + this._count;
        }
        // add custom query options
        if (Utils.isNotNullNorUndefined(this._customOptions) && this._customOptions.size > 0) {
            this._customOptions.forEach((value, key, map$$1) => {
                if (Utils.isNotNullNorUndefined(key) && !Utils.isEmpty(key)
                    && Utils.isNotNullNorUndefined(value) && !Utils.isEmpty(value)) {
                    if (queryOptions.length) {
                        queryOptions += this._separator;
                    }
                    queryOptions += key + '=' + encodeURIComponent(value);
                }
            });
        }
        // add format
        if (!Utils.isNullOrUndefined(this._format) && !Utils.isEmpty(this._format)) {
            if (queryOptions.length) {
                queryOptions += this._separator;
            }
            queryOptions += '$format=' + this._format;
        }
        return queryOptions;
    }
    /**
     * @return {?}
     */
    isEmpty() {
        for (const key in this) {
            if (key === '_purpose' || key === '_separator') {
                continue;
            }
            if (this.hasOwnProperty(key) && !Utils.isEmpty(this[key])) {
                return false;
            }
        }
        return true;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class ODataQuery extends ODataQueryAbstract {
    /**
     * @param {?} odataService
     * @param {?} serviceRoot
     */
    constructor(odataService, serviceRoot) {
        super(odataService, serviceRoot);
        Utils.requireNotNullNorUndefined(odataService, 'odataService');
        Utils.requireNotNullNorUndefined(serviceRoot, 'serviceRoot');
        Utils.requireNotEmpty(serviceRoot, 'serviceRoot');
        this.queryOptions = new QueryOptions(ODataQuery.SEPARATOR);
        this.segments = [];
        this.lastSegment = null;
    }
    /**
     * @return {?}
     */
    metadata() {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.METADATA), ODataQuery.METADATA);
        if (this.segments.length) {
            throw new Error('metadata segment cannot be appended to other segments');
        }
        this.queryString = Utils.appendSegment(this.queryString, ODataQuery.$METADATA);
        this.addSegment(ODataQuery.METADATA);
        return this;
    }
    /**
     * @param {?} entitySet
     * @return {?}
     */
    entitySet(entitySet) {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.ENTITY_SET), ODataQuery.ENTITY_SET);
        Utils.requireNotNullNorUndefined(entitySet, 'entitySet');
        Utils.requireNotEmpty(entitySet, 'entitySet');
        this.queryString = Utils.appendSegment(this.queryString, entitySet);
        this.addSegment(ODataQuery.ENTITY_SET);
        return this;
    }
    /**
     * @param {?} entityKey
     * @return {?}
     */
    entityKey(entityKey) {
        if (this.lastSegment !== ODataQuery.ENTITY_SET && this.lastSegment !== ODataQuery.NAVIGATION_PROPERTY) {
            throw new Error('entityKey can only be appended to entitySet or navigationProperty');
        }
        Utils.requireNotNullNorUndefined(entityKey, 'entityKey');
        Utils.requireNotEmpty(entityKey, 'entityKey');
        entityKey = Utils.getValueURI(entityKey, true);
        this.queryString = Utils.removeEndingSeparator(this.queryString) + '(' + entityKey + ')';
        this.addSegment(ODataQuery.ENTITY_KEY);
        return this;
    }
    /**
     * @param {?} singleton
     * @return {?}
     */
    singleton(singleton) {
        if (this.segments.length) {
            throw new Error('singleton segment cannot be appended to other segments');
        }
        Utils.requireNotNullNorUndefined(singleton, 'singleton');
        Utils.requireNotEmpty(singleton, 'singleton');
        this.queryString = Utils.appendSegment(this.queryString, singleton);
        this.addSegment(ODataQuery.SINGLETON);
        return this;
    }
    /**
     * @param {?} typeName
     * @return {?}
     */
    typeName(typeName) {
        if (this.lastSegment !== ODataQuery.ENTITY_SET && this.lastSegment !== ODataQuery.NAVIGATION_PROPERTY && this.lastSegment !== ODataQuery.ENTITY_KEY) {
            throw new Error('typeName can only be appended to entitySet, navigationProperty or entityKey');
        }
        Utils.requireNotNullNorUndefined(typeName, 'typeName');
        Utils.requireNotEmpty(typeName, 'typeName');
        this.queryString = Utils.appendSegment(this.queryString, typeName);
        this.addSegment(ODataQuery.TYPE_NAME);
        return this;
    }
    /**
     * @param {?} property
     * @return {?}
     */
    property(property) {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.PROPERTY), ODataQuery.PROPERTY);
        if (this.lastSegment !== ODataQuery.ENTITY_KEY && this.lastSegment !== ODataQuery.SINGLETON) {
            throw new Error('property can only be appended to entityKey or singleton');
        }
        Utils.requireNotNullNorUndefined(property, 'property');
        Utils.requireNotEmpty(property, 'property');
        this.queryString = Utils.appendSegment(this.queryString, property);
        this.addSegment(ODataQuery.PROPERTY);
        return this;
    }
    /**
     * @param {?} navigationProperty
     * @return {?}
     */
    navigationProperty(navigationProperty) {
        if (this.lastSegment !== ODataQuery.ENTITY_KEY && this.lastSegment !== ODataQuery.SINGLETON && this.lastSegment !== ODataQuery.TYPE_NAME) {
            throw new Error('navigationProperty can only be appended to entityKey, singleton or typeName');
        }
        Utils.requireNotNullNorUndefined(navigationProperty, 'navigationProperty');
        Utils.requireNotEmpty(navigationProperty, 'navigationProperty');
        this.queryString = Utils.appendSegment(this.queryString, navigationProperty);
        this.addSegment(ODataQuery.NAVIGATION_PROPERTY);
        return this;
    }
    /**
     * @return {?}
     */
    ref() {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.REF), ODataQuery.REF);
        if (this.lastSegment !== ODataQuery.NAVIGATION_PROPERTY) {
            throw new Error('ref can only be appended to navigationProperty');
        }
        this.queryString = Utils.appendSegment(this.queryString, ODataQuery.$REF);
        this.addSegment(ODataQuery.REF);
        return this;
    }
    /**
     * @return {?}
     */
    value() {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.VALUE), ODataQuery.VALUE);
        if (this.lastSegment !== ODataQuery.PROPERTY) {
            throw new Error('value can only be appended to property');
        }
        this.queryString = Utils.appendSegment(this.queryString, ODataQuery.$VALUE);
        this.addSegment(ODataQuery.VALUE);
        return this;
    }
    /**
     * @return {?}
     */
    countSegment() {
        Utils.requireNullOrUndefined(this.getSegment(ODataQuery.COUNT), ODataQuery.COUNT);
        if (this.lastSegment !== ODataQuery.ENTITY_SET && this.lastSegment !== ODataQuery.NAVIGATION_PROPERTY) {
            throw new Error('count can only be appended to entitySet or navigationProperty');
        }
        this.queryString = Utils.appendSegment(this.queryString, ODataQuery.$COUNT);
        this.addSegment(ODataQuery.COUNT);
        return this;
    }
    /**
     * @param {?} functionCall
     * @return {?}
     */
    functionCall(functionCall) {
        Utils.requireNotNullNorUndefined(functionCall, 'functionCall');
        Utils.requireNotEmpty(functionCall, 'functionCall');
        this.queryString = Utils.appendSegment(this.queryString, functionCall);
        this.addSegment(ODataQuery.FUNCTION_CALL);
        return this;
    }
    /**
     * @param {?} actionCall
     * @return {?}
     */
    actionCall(actionCall) {
        Utils.requireNotNullNorUndefined(actionCall, 'actionCall');
        Utils.requireNotEmpty(actionCall, 'actionCall');
        this.queryString = Utils.appendSegment(this.queryString, actionCall);
        this.addSegment(ODataQuery.ACTION_CALL);
        return this;
    }
    /**
     * @return {?}
     */
    batch() {
        return new ODataQueryBatch(this.odataService, this.serviceRoot);
    }
    /**
     * @param {?} select
     * @return {?}
     */
    select(select) {
        this.queryOptions.select(select);
        return this;
    }
    /**
     * @param {?} filter
     * @return {?}
     */
    filter(filter) {
        this.queryOptions.filter(filter);
        return this;
    }
    /**
     * @param {?} expand
     * @return {?}
     */
    expand(expand) {
        this.queryOptions.expand(expand);
        return this;
    }
    /**
     * @param {?} orderby
     * @return {?}
     */
    orderby(orderby) {
        this.queryOptions.orderby(orderby);
        return this;
    }
    /**
     * @param {?} search
     * @return {?}
     */
    search(search) {
        this.queryOptions.search(search);
        return this;
    }
    /**
     * @param {?} skip
     * @return {?}
     */
    skip(skip) {
        this.queryOptions.skip(skip);
        return this;
    }
    /**
     * @param {?} top
     * @return {?}
     */
    top(top) {
        this.queryOptions.top(top);
        return this;
    }
    /**
     * @param {?} count
     * @return {?}
     */
    countOption(count) {
        this.queryOptions.count(count);
        return this;
    }
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    customOption(key, value) {
        this.queryOptions.customOption(key, value);
        return this;
    }
    /**
     * @param {?} format
     * @return {?}
     */
    format(format) {
        this.queryOptions.format(format);
        return this;
    }
    /**
     * @param {?=} httpOptions
     * @return {?}
     */
    get(httpOptions) {
        return this.odataService.get(this, httpOptions);
    }
    /**
     * @param {?} body
     * @param {?=} httpOptions
     * @return {?}
     */
    post(body, httpOptions) {
        return this.odataService.post(this, body, httpOptions);
    }
    /**
     * @param {?} body
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    patch(body, etag, httpOptions) {
        return this.odataService.patch(this, body, etag, httpOptions);
    }
    /**
     * @param {?} body
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    put(body, etag, httpOptions) {
        return this.odataService.put(this, body, etag, httpOptions);
    }
    /**
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    delete(etag, httpOptions) {
        return this.odataService.delete(this, etag, httpOptions);
    }
    /**
     * @return {?}
     */
    toString() {
        /** @type {?} */
        let res = this.queryString;
        if (Utils.isNotNullNorUndefined(this.queryOptions) && !this.queryOptions.isEmpty()) {
            res += '?' + this.queryOptions.toString();
        }
        return res;
    }
    /**
     * @param {?} segment
     * @return {?}
     */
    getSegment(segment) {
        Utils.requireNotNull(segment, 'segment');
        /** @type {?} */
        const res = this.segments.find((value, index, segments) => {
            return value === segment;
        });
        return res;
    }
    /**
     * @param {?} segment
     * @return {?}
     */
    addSegment(segment) {
        Utils.requireNotNull(segment, 'segment');
        this.segments.push(segment);
        if (Utils.isNotNullNorUndefined(this.segments) && this.segments.length) {
            this.lastSegment = this.segments[this.segments.length - 1];
        }
    }
}
// QUERY OPTIONS SEPARATOR
ODataQuery.SEPARATOR = '&';
ODataQuery.METADATA = 'metadata';
ODataQuery.ENTITY_SET = 'entitySet';
ODataQuery.ENTITY_KEY = 'entityKey';
ODataQuery.SINGLETON = 'singleton';
ODataQuery.TYPE_NAME = 'typeName';
ODataQuery.PROPERTY = 'property';
ODataQuery.NAVIGATION_PROPERTY = 'navigationProperty';
ODataQuery.REF = 'ref';
ODataQuery.VALUE = 'value';
ODataQuery.COUNT = 'count';
ODataQuery.FUNCTION_CALL = 'functionCall';
ODataQuery.ACTION_CALL = 'actionCall';
ODataQuery.$METADATA = '$metadata';
ODataQuery.$REF = '$ref';
ODataQuery.$VALUE = '$value';
ODataQuery.$COUNT = '$count';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlAnnotable {
    /**
     * @param {?=} annotationList
     */
    constructor(annotationList) {
        this.annotationList = annotationList;
    }
}
class CsdlAnnotations extends CsdlAnnotable {
    /**
     * @param {?} target
     * @param {?} annotationList
     * @param {?=} qualifier
     */
    constructor(target, annotationList, qualifier) {
        super(annotationList);
        this.target = target;
        this.qualifier = qualifier;
    }
}
class CsdlAnnotation {
    /**
     * @param {?} term
     * @param {?=} qualifier
     */
    constructor(term, qualifier) {
        this.term = term;
        this.qualifier = qualifier;
    }
}
class CsdlTerm {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} baseTerm
     * @param {?=} defaultValue
     * @param {?=} appliesTo
     * @param {?=} nullable
     * @param {?=} maxLength
     * @param {?=} precision
     * @param {?=} scale
     * @param {?=} srid
     */
    constructor(name, type, baseTerm, defaultValue, appliesTo, nullable, maxLength, precision, scale, srid) {
        this.name = name;
        this.type = type;
        this.baseTerm = baseTerm;
        this.defaultValue = defaultValue;
        this.appliesTo = appliesTo;
        this.nullable = nullable;
        this.maxLength = maxLength;
        this.precision = precision;
        this.scale = scale;
        this.srid = srid;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlEntityContainer {
    /**
     * @param {?} name
     * @param {?=} extend
     * @param {?=} entitySets
     * @param {?=} singletons
     * @param {?=} functionImports
     * @param {?=} actionImports
     */
    constructor(name, extend, entitySets, singletons, functionImports, actionImports) {
        this.name = name;
        this.extend = extend;
        this.entitySets = entitySets;
        this.singletons = singletons;
        this.functionImports = functionImports;
        this.actionImports = actionImports;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlEntitySet {
    /**
     * @param {?} name
     * @param {?} entityType
     * @param {?=} navigationPropertyBinding
     * @param {?=} includeInServiceDocument
     */
    constructor(name, entityType, navigationPropertyBinding, includeInServiceDocument) {
        this.name = name;
        this.entityType = entityType;
        this.navigationPropertyBinding = navigationPropertyBinding;
        this.includeInServiceDocument = includeInServiceDocument;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlEnumType {
    /**
     * @param {?} name
     * @param {?} members
     * @param {?=} underlyingType
     * @param {?=} isFlags
     */
    constructor(name, members, underlyingType, isFlags) {
        this.name = name;
        this.members = members;
        this.underlyingType = underlyingType;
        this.isFlags = isFlags;
    }
}
class CsdlEnumMember {
    /**
     * @param {?} name
     * @param {?=} value
     */
    constructor(name, value) {
        this.name = name;
        this.value = value;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlFunction {
    /**
     * @param {?} name
     * @param {?} returnType
     * @param {?=} isBound
     * @param {?=} entitySetPath
     * @param {?=} isComposable
     * @param {?=} parameters
     */
    constructor(name, returnType, isBound, entitySetPath, isComposable, parameters) {
        this.name = name;
        this.returnType = returnType;
        this.isBound = isBound;
        this.entitySetPath = entitySetPath;
        this.isComposable = isComposable;
        this.parameters = parameters;
    }
}
class CsdlAction {
    /**
     * @param {?} name
     * @param {?=} returnType
     * @param {?=} isBound
     * @param {?=} entitySetPath
     * @param {?=} parameters
     */
    constructor(name, returnType, isBound, entitySetPath, parameters) {
        this.name = name;
        this.returnType = returnType;
        this.isBound = isBound;
        this.entitySetPath = entitySetPath;
        this.parameters = parameters;
    }
}
class CsdlFunctionImport {
    /**
     * @param {?} name
     * @param {?} functionName
     * @param {?=} entitySet
     * @param {?=} IncludeInServiceDocument
     */
    constructor(name, functionName, entitySet, IncludeInServiceDocument) {
        this.name = name;
        this.functionName = functionName;
        this.entitySet = entitySet;
        this.IncludeInServiceDocument = IncludeInServiceDocument;
    }
}
class CsdlActionImport {
    /**
     * @param {?} name
     * @param {?} action
     * @param {?=} entitySet
     */
    constructor(name, action, entitySet) {
        this.name = name;
        this.action = action;
        this.entitySet = entitySet;
    }
}
class CsdlParameter {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} nullable
     * @param {?=} maxLength
     * @param {?=} precision
     * @param {?=} scale
     * @param {?=} srid
     */
    constructor(name, type, nullable, maxLength, precision, scale, srid) {
        this.name = name;
        this.type = type;
        this.nullable = nullable;
        this.maxLength = maxLength;
        this.precision = precision;
        this.scale = scale;
        this.srid = srid;
    }
}
class CsdlReturnType {
    /**
     * @param {?} type
     * @param {?=} nullable
     * @param {?=} maxLength
     * @param {?=} precision
     * @param {?=} scale
     * @param {?=} srid
     */
    constructor(type, nullable, maxLength, precision, scale, srid) {
        this.type = type;
        this.nullable = nullable;
        this.maxLength = maxLength;
        this.precision = precision;
        this.scale = scale;
        this.srid = srid;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlNavigationPropertyBinding {
    /**
     * @param {?} path
     * @param {?} target
     */
    constructor(path, target) {
        this.path = path;
        this.target = target;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlReference extends CsdlAnnotable {
    /**
     * @param {?} uri
     * @param {?=} includes
     * @param {?=} includeAnnotations
     * @param {?=} annotationList
     */
    constructor(uri, includes, includeAnnotations, annotationList) {
        super(annotationList);
        this.uri = uri;
        this.includes = includes;
        this.includeAnnotations = includeAnnotations;
    }
}
class CsdlInclude {
    /**
     * @param {?} namespace
     * @param {?=} alias
     */
    constructor(namespace, alias) {
        this.namespace = namespace;
        this.alias = alias;
    }
}
class CsdlIncludeAnnotations {
    /**
     * @param {?} termNamespace
     * @param {?=} qualifier
     * @param {?=} targetNamespace
     */
    constructor(termNamespace, qualifier, targetNamespace) {
        this.termNamespace = termNamespace;
        this.qualifier = qualifier;
        this.targetNamespace = targetNamespace;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlSchema extends CsdlAnnotable {
    /**
     * @param {?} namespace
     * @param {?=} alias
     * @param {?=} enumTypes
     * @param {?=} complexTypes
     * @param {?=} entityTypes
     * @param {?=} functions
     * @param {?=} actions
     * @param {?=} entityContainer
     * @param {?=} typeDefinitions
     * @param {?=} terms
     * @param {?=} annotationsList
     * @param {?=} annotationList
     */
    constructor(namespace, alias, enumTypes, complexTypes, entityTypes, functions, actions, entityContainer, typeDefinitions, terms, annotationsList, annotationList) {
        super(annotationList);
        this.namespace = namespace;
        this.alias = alias;
        this.enumTypes = enumTypes;
        this.complexTypes = complexTypes;
        this.entityTypes = entityTypes;
        this.functions = functions;
        this.actions = actions;
        this.entityContainer = entityContainer;
        this.typeDefinitions = typeDefinitions;
        this.terms = terms;
        this.annotationsList = annotationsList;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlSingleton {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} navigationPropertyBindings
     */
    constructor(name, type, navigationPropertyBindings) {
        this.name = name;
        this.type = type;
        this.navigationPropertyBindings = navigationPropertyBindings;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class CsdlStructuralProperty {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} nullable
     */
    constructor(name, type, nullable) {
        this.name = name;
        this.type = type;
        this.nullable = nullable;
    }
}
class CsdlProperty extends CsdlStructuralProperty {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} nullable
     * @param {?=} maxLength
     * @param {?=} precision
     * @param {?=} scale
     * @param {?=} unicode
     * @param {?=} srid
     * @param {?=} defaultValue
     */
    constructor(name, type, nullable, maxLength, precision, scale, unicode, srid, defaultValue) {
        super(name, type, nullable);
        this.maxLength = maxLength;
        this.precision = precision;
        this.scale = scale;
        this.unicode = unicode;
        this.srid = srid;
        this.defaultValue = defaultValue;
    }
}
class CsdlNavigationProperty extends CsdlStructuralProperty {
    /**
     * @param {?} name
     * @param {?} type
     * @param {?=} nullable
     * @param {?=} partner
     * @param {?=} containsTarget
     * @param {?=} referentialConstraints
     * @param {?=} onDelete
     */
    constructor(name, type, nullable, partner, containsTarget, referentialConstraints, onDelete) {
        super(name, type, nullable);
        this.partner = partner;
        this.containsTarget = containsTarget;
        this.referentialConstraints = referentialConstraints;
        this.onDelete = onDelete;
    }
}
class CsdlReferentialConstraint {
    /**
     * @param {?} property
     * @param {?} referencedProperty
     */
    constructor(property, referencedProperty) {
        this.property = property;
        this.referencedProperty = referencedProperty;
    }
}
class CsdlOnDelete {
    /**
     * @param {?} action
     */
    constructor(action) {
        this.action = action;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlStructuredType {
    /**
     * @param {?} name
     * @param {?=} properties
     * @param {?=} navigationProperties
     * @param {?=} baseType
     * @param {?=} openType
     * @param {?=} abstract
     */
    constructor(name, properties, navigationProperties, baseType, openType, abstract) {
        this.name = name;
        this.properties = properties;
        this.navigationProperties = navigationProperties;
        this.baseType = baseType;
        this.openType = openType;
        this.abstract = abstract;
    }
}
class CsdlComplexType extends CsdlStructuredType {
    /**
     * @param {?} name
     * @param {?=} properties
     * @param {?=} navigationProperties
     * @param {?=} baseType
     * @param {?=} openType
     * @param {?=} abstract
     */
    constructor(name, properties, navigationProperties, baseType, openType, abstract) {
        super(name, properties, navigationProperties, baseType, openType, abstract);
    }
}
class CsdlEntityType extends CsdlStructuredType {
    /**
     * @param {?} name
     * @param {?=} key
     * @param {?=} properties
     * @param {?=} navigationProperties
     * @param {?=} baseType
     * @param {?=} openType
     * @param {?=} abstract
     * @param {?=} hasStream
     */
    constructor(name, key, properties, navigationProperties, baseType, openType, abstract, hasStream) {
        super(name, properties, navigationProperties, baseType, openType, abstract);
        this.key = key;
        this.hasStream = hasStream;
    }
}
class CsdlKey {
    /**
     * @param {?} propertyRefs
     */
    constructor(propertyRefs) {
        this.propertyRefs = propertyRefs;
    }
}
class CsdlPropertyRef {
    /**
     * @param {?} name
     * @param {?=} alias
     */
    constructor(name, alias) {
        this.name = name;
        this.alias = alias;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class CsdlTypeDefinition extends CsdlAnnotable {
    /**
     * @param {?} name
     * @param {?} underlayingType
     * @param {?=} maxLength
     * @param {?=} precision
     * @param {?=} scale
     * @param {?=} unicode
     * @param {?=} srid
     * @param {?=} annotationList
     */
    constructor(name, underlayingType, maxLength, precision, scale, unicode, srid, annotationList) {
        super(annotationList);
        this.name = name;
        this.underlayingType = underlayingType;
        this.maxLength = maxLength;
        this.precision = precision;
        this.scale = scale;
        this.unicode = unicode;
        this.srid = srid;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @template T
 */
class EntitySet {
    /**
     * @param {?} entities
     * @param {?} count
     * @param {?} type
     */
    constructor(entities, count, type) {
        Utils.requireNotNullNorUndefined(entities, 'entities');
        this.entities = [];
        entities.forEach(entity => {
            if (Utils.isNullOrUndefined(type)) {
                this.entities.push(Object.assign({}, entity));
            }
            else {
                this.entities.push(Object.assign(new type(), entity));
            }
        });
        this.count = count;
    }
    /**
     * @return {?}
     */
    getEntities() {
        return this.entities;
    }
    /**
     * @return {?}
     */
    getCount() {
        return this.count;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const FieldType = {
    ATTRIBUTE: 0, TAG: 1,
};
FieldType[FieldType.ATTRIBUTE] = 'ATTRIBUTE';
FieldType[FieldType.TAG] = 'TAG';
class Field {
    /**
     * @param {?} name
     * @param {?} fieldType
     */
    constructor(name, fieldType) {
        this.name = name;
        this.fieldType = fieldType;
    }
}
class Metadata {
    /**
     * @param {?} xml
     */
    constructor(xml) {
        try {
            /** @type {?} */
            const parser = new DOMParser();
            /** @type {?} */
            const document = parser.parseFromString(xml, 'text/xml');
            this.checkVersion(document);
            this.version = this.getFieldValueByAttribute(new Field(Metadata.ATTRIBUTE_VERSION, FieldType.ATTRIBUTE), document.documentElement.attributes);
            this.references = this.getObjects(document.documentElement, Metadata.TAG_REFERENCE, [
                new Field(Metadata.ATTRIBUTE_URI, FieldType.ATTRIBUTE),
                new Field(Metadata.TAG_INCLUDE, FieldType.TAG),
                new Field(Metadata.TAG_INCLUDE_ANNOTATIONS, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
            ]);
            /** @type {?} */
            const dataServices = document.documentElement.getElementsByTagName(Metadata.TAG_DATA_SERVICES)[0];
            this.schemas = this.getObjects(dataServices, Metadata.TAG_SCHEMA, [
                new Field(Metadata.ATTRIBUTE_NAMESPACE, FieldType.ATTRIBUTE),
                new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE),
                new Field(Metadata.TAG_ENUM_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_COMPLEX_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_ENTITY_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_FUNCTION, FieldType.TAG),
                new Field(Metadata.TAG_ACTION, FieldType.TAG),
                new Field(Metadata.TAG_ENTITY_CONTAINER, FieldType.TAG),
                new Field(Metadata.TAG_TYPE_DEFINITION, FieldType.TAG),
                new Field(Metadata.TAG_TERM, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATIONS, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
            ]);
        }
        catch (error) {
            throw new Error('Unable to parse metadata, ' + error);
        }
    }
    /**
     * @param {?} document
     * @return {?}
     */
    checkVersion(document) {
        /** @type {?} */
        const attributes = document.documentElement.attributes;
        if (Utils.isNullOrUndefined(attributes)) {
            throw new Error('OData version is not specified in the metadata');
        }
        /** @type {?} */
        const attr = attributes.getNamedItem('Version');
        if (Utils.isNullOrUndefined(attr)) {
            throw new Error('OData version is not specified in the metadata');
        }
        /** @type {?} */
        const odataVersion = attr.nodeValue;
        if (odataVersion !== '4.0') {
            throw new Error('OData version "' + odataVersion + '" is not supported');
        }
    }
    /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    getObjects(parentElement, tag, fieldNames) {
        /** @type {?} */
        let objects;
        /** @type {?} */
        const children = parentElement.children;
        for (let index = 0; index < children.length; index++) {
            /** @type {?} */
            const element = children.item(index);
            if (element.nodeName !== tag) {
                continue;
            }
            /** @type {?} */
            const attributes = element.attributes;
            /** @type {?} */
            const fieldValues = this.getFieldValues(fieldNames, attributes, element);
            if (Utils.isNullOrUndefined(objects)) {
                objects = [];
            }
            switch (tag) {
                case Metadata.TAG_REFERENCE:
                    objects.push(new CsdlReference(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_INCLUDE:
                    objects.push(new CsdlInclude(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_INCLUDE_ANNOTATIONS:
                    objects.push(new CsdlIncludeAnnotations(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_TERM:
                    objects.push(new CsdlTerm(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8], fieldValues[9]));
                    break;
                case Metadata.TAG_ANNOTATIONS:
                    objects.push(new CsdlAnnotations(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_ANNOTATION:
                    objects.push(new CsdlAnnotation(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_SCHEMA:
                    objects.push(new CsdlSchema(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8], fieldValues[9], fieldValues[10], fieldValues[11]));
                    break;
                case Metadata.TAG_ENUM_TYPE:
                    objects.push(new CsdlEnumType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_COMPLEX_TYPE:
                    objects.push(new CsdlComplexType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]));
                    break;
                case Metadata.TAG_ENTITY_TYPE:
                    objects.push(new CsdlEntityType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7]));
                    break;
                case Metadata.TAG_FUNCTION:
                    objects.push(new CsdlFunction(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]));
                    break;
                case Metadata.TAG_MEMBER:
                    objects.push(new CsdlEnumMember(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_PROPERTY:
                    objects.push(new CsdlProperty(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8]));
                    break;
                case Metadata.TAG_PROPERTY_REF:
                    objects.push(new CsdlPropertyRef(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_NAVIGATION_PROPERTY:
                    objects.push(new CsdlNavigationProperty(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6]));
                    break;
                case Metadata.TAG_REFERENTIAL_CONSTRAINT:
                    objects.push(new CsdlReferentialConstraint(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_PARAMETER:
                    objects.push(new CsdlParameter(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6]));
                    break;
                case Metadata.TAG_ACTION:
                    objects.push(new CsdlAction(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4]));
                    break;
                case Metadata.TAG_ENTITY_SET:
                    objects.push(new CsdlEntitySet(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_SINGLETON:
                    objects.push(new CsdlSingleton(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_FUNCTION_IMPORT:
                    objects.push(new CsdlFunctionImport(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_ACTION_IMPORT:
                    objects.push(new CsdlActionImport(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_NAVIGATION_PROPERTY_BINDING:
                    objects.push(new CsdlNavigationPropertyBinding(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_TYPE_DEFINITION:
                    objects.push(new CsdlTypeDefinition(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7]));
                    break;
                default: throw new Error('Unknwon tag:' + tag);
            }
        }
        return objects;
    }
    /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    getObject(parentElement, tag, fieldNames) {
        /** @type {?} */
        let object;
        /** @type {?} */
        const children = parentElement.children;
        /** @type {?} */
        let element;
        for (let index = 0; index < children.length; index++) {
            if (children.item(index).nodeName === tag) {
                if (Utils.isNotNullNorUndefined(element)) {
                    throw new Error('Expected one ' + tag);
                }
                element = children.item(index);
            }
        }
        if (Utils.isNotNullNorUndefined(element)) {
            /** @type {?} */
            const attributes = element.attributes;
            /** @type {?} */
            const fieldValues = this.getFieldValues(fieldNames, attributes, element);
            switch (tag) {
                case Metadata.TAG_KEY:
                    object = new CsdlKey(fieldValues[0]);
                    break;
                case Metadata.TAG_RETURN_TYPE:
                    object = new CsdlReturnType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]);
                    break;
                case Metadata.TAG_ENTITY_CONTAINER:
                    object = new CsdlEntityContainer(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]);
                    break;
                case Metadata.TAG_ON_DELETE:
                    object = new CsdlOnDelete(fieldValues[0]);
                    break;
                default: throw new Error('Unknwon tag:' + tag);
            }
        }
        return object;
    }
    /**
     * @param {?} fields
     * @param {?} attributes
     * @param {?} element
     * @return {?}
     */
    getFieldValues(fields, attributes, element) {
        /** @type {?} */
        const fieldValues = [];
        for (const field of fields) {
            if (field.fieldType === FieldType.TAG) {
                fieldValues.push(this.getFieldValueByTag(field, element));
            }
            else if (field.fieldType === FieldType.ATTRIBUTE) {
                fieldValues.push(this.getFieldValueByAttribute(field, attributes));
            }
            else {
                throw new Error('Unknown field type: ' + field.fieldType);
            }
        }
        return fieldValues;
    }
    /**
     * @param {?} field
     * @param {?} attributes
     * @return {?}
     */
    getFieldValueByAttribute(field, attributes) {
        switch (field.name) {
            case Metadata.ATTRIBUTE_VERSION:
            case Metadata.ATTRIBUTE_URI:
            case Metadata.ATTRIBUTE_NAMESPACE:
            case Metadata.ATTRIBUTE_ALIAS:
            case Metadata.ATTRIBUTE_TERM_NAMESPACE:
            case Metadata.ATTRIBUTE_TERM:
            case Metadata.ATTRIBUTE_QUALIFIER:
            case Metadata.ATTRIBUTE_TARGET_NAMESPACE:
            case Metadata.ATTRIBUTE_NAME:
            case Metadata.ATTRIBUTE_TYPE:
            case Metadata.ATTRIBUTE_SRID:
            case Metadata.ATTRIBUTE_DEFAULT_VALUE:
            case Metadata.ATTRIBUTE_PARTNER:
            case Metadata.ATTRIBUTE_PROPERTY:
            case Metadata.ATTRIBUTE_REFERENCED_PROPERTY:
            case Metadata.ATTRIBUTE_BASE_TYPE:
            case Metadata.ATTRIBUTE_ENTITY_SET_PATH:
            case Metadata.ATTRIBUTE_ENTITY_TYPE:
            case Metadata.ATTRIBUTE_PATH:
            case Metadata.ATTRIBUTE_TARGET:
            case Metadata.ATTRIBUTE_FUNCTION:
            case Metadata.ATTRIBUTE_ACTION:
            case Metadata.ATTRIBUTE_ENTITY_SET:
            case Metadata.ATTRIBUTE_UNDERLYING_TYPE:
            case Metadata.ATTRIBUTE_EXTENDS:
            case Metadata.ATTRIBUTE_BASE_TERM:
            case Metadata.ATTRIBUTE_APPLIES_TO:
                return this.getAttributeValue(attributes, field.name);
            case Metadata.ATTRIBUTE_NULLABLE:
            case Metadata.ATTRIBUTE_UNICODE:
            case Metadata.ATTRIBUTE_OPEN_TYPE:
            case Metadata.ATTRIBUTE_HAS_STREAM:
            case Metadata.ATTRIBUTE_IS_BOUND:
            case Metadata.ATTRIBUTE_IS_COMPOSABLE:
            case Metadata.ATTRIBUTE_CONTAINS_TARGET:
            case Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT:
            case Metadata.ATTRIBUTE_ABSTRACT:
            case Metadata.ATTRIBUTE_IS_FLAGS:
                return this.propertyValueToBoolean(this.getAttributeValue(attributes, field.name));
            case Metadata.ATTRIBUTE_VALUE:
            case Metadata.ATTRIBUTE_MAX_LENGTH:
            case Metadata.ATTRIBUTE_PRECISION:
            case Metadata.ATTRIBUTE_SCALE:
                return this.propertyValueToNumber(this.getAttributeValue(attributes, field.name));
            default: throw new Error('Unknwon attribute:' + field.name);
        }
    }
    /**
     * @param {?} field
     * @param {?} element
     * @return {?}
     */
    getFieldValueByTag(field, element) {
        switch (field.name) {
            case Metadata.TAG_INCLUDE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAMESPACE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_INCLUDE_ANNOTATIONS:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TERM_NAMESPACE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TARGET_NAMESPACE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_TERM:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_BASE_TERM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_DEFAULT_VALUE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_APPLIES_TO, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ANNOTATIONS:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TARGET, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ANNOTATION, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ANNOTATION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TERM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ENUM_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_MEMBER, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_UNDERLYING_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_IS_FLAGS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_COMPLEX_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PROPERTY, FieldType.TAG),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_BASE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_OPEN_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ABSTRACT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ENTITY_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_KEY, FieldType.TAG),
                    new Field(Metadata.TAG_PROPERTY, FieldType.TAG),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_BASE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_OPEN_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_HAS_STREAM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ABSTRACT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_FUNCTION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_RETURN_TYPE, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_IS_BOUND, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_IS_COMPOSABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PARAMETER, FieldType.TAG)
                ]);
            case Metadata.TAG_MEMBER:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_VALUE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_PROPERTY:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNICODE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_DEFAULT_VALUE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_KEY:
                return this.getObject(element, field.name, [
                    new Field(Metadata.TAG_PROPERTY_REF, FieldType.TAG)
                ]);
            case Metadata.TAG_PROPERTY_REF:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_NAVIGATION_PROPERTY:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PARTNER, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_CONTAINS_TARGET, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_REFERENTIAL_CONSTRAINT, FieldType.TAG),
                    new Field(Metadata.TAG_ON_DELETE, FieldType.TAG)
                ]);
            case Metadata.TAG_REFERENTIAL_CONSTRAINT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_PROPERTY, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_REFERENCED_PROPERTY, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ON_DELETE:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_ACTION, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_PARAMETER:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_RETURN_TYPE:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ACTION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_RETURN_TYPE, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_IS_BOUND, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PARAMETER, FieldType.TAG)
                ]);
            case Metadata.TAG_ENTITY_CONTAINER:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_EXTENDS, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ENTITY_SET, FieldType.TAG),
                    new Field(Metadata.TAG_SINGLETON, FieldType.TAG),
                    new Field(Metadata.TAG_FUNCTION_IMPORT, FieldType.TAG),
                    new Field(Metadata.TAG_ACTION_IMPORT, FieldType.TAG)
                ]);
            case Metadata.TAG_ENTITY_SET:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY_BINDING, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_SINGLETON:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY_BINDING, FieldType.TAG)
                ]);
            case Metadata.TAG_FUNCTION_IMPORT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_FUNCTION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ACTION_IMPORT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ACTION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_NAVIGATION_PROPERTY_BINDING:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TARGET, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_TYPE_DEFINITION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNDERLYING_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNICODE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
                ]);
            default: throw new Error('Unknwon tag:' + field.name);
        }
    }
    /**
     * @param {?} attributes
     * @param {?} attributeName
     * @return {?}
     */
    getAttributeValue(attributes, attributeName) {
        /** @type {?} */
        const attribute = attributes.getNamedItem(attributeName);
        if (Utils.isNotNullNorUndefined(attribute)) {
            return attribute.nodeValue;
        }
        return undefined;
    }
    /**
     * @param {?} attributeValue
     * @return {?}
     */
    propertyValueToNumber(attributeValue) {
        return Utils.isNotNullNorUndefined(attributeValue) ? Number(attributeValue) : undefined;
    }
    /**
     * @param {?} attributeValue
     * @return {?}
     */
    propertyValueToBoolean(attributeValue) {
        return Utils.isNotNullNorUndefined(attributeValue) ? attributeValue === 'true' : undefined;
    }
}
Metadata.TAG_EDMX = 'edmx:Edmx';
Metadata.TAG_DATA_SERVICES = 'edmx:DataServices';
Metadata.TAG_REFERENCE = 'edmx:Reference';
Metadata.TAG_INCLUDE = 'edmx:Include';
Metadata.TAG_INCLUDE_ANNOTATIONS = 'edmx:IncludeAnnotations';
Metadata.TAG_TERM = 'Term';
Metadata.TAG_ANNOTATIONS = 'Annotations';
Metadata.TAG_ANNOTATION = 'Annotation';
Metadata.TAG_SCHEMA = 'Schema';
Metadata.TAG_ENUM_TYPE = 'EnumType';
Metadata.TAG_MEMBER = 'Member';
Metadata.TAG_COMPLEX_TYPE = 'ComplexType';
Metadata.TAG_ENTITY_TYPE = 'EntityType';
Metadata.TAG_PROPERTY = 'Property';
Metadata.TAG_KEY = 'Key';
Metadata.TAG_PROPERTY_REF = 'PropertyRef';
Metadata.TAG_NAVIGATION_PROPERTY = 'NavigationProperty';
Metadata.TAG_REFERENTIAL_CONSTRAINT = 'ReferentialConstraint';
Metadata.TAG_ON_DELETE = 'OnDelete';
Metadata.TAG_FUNCTION = 'Function';
Metadata.TAG_RETURN_TYPE = 'ReturnType';
Metadata.TAG_PARAMETER = 'Parameter';
Metadata.TAG_ACTION = 'Action';
Metadata.TAG_ENTITY_CONTAINER = 'EntityContainer';
Metadata.TAG_ENTITY_SET = 'EntitySet';
Metadata.TAG_SINGLETON = 'Singleton';
Metadata.TAG_FUNCTION_IMPORT = 'FunctionImport';
Metadata.TAG_ACTION_IMPORT = 'ActionImport';
Metadata.TAG_NAVIGATION_PROPERTY_BINDING = 'NavigationPropertyBinding';
Metadata.TAG_TYPE_DEFINITION = 'TypeDefinition';
Metadata.ATTRIBUTE_VERSION = 'Version';
Metadata.ATTRIBUTE_URI = 'Uri';
Metadata.ATTRIBUTE_ALIAS = 'Alias';
Metadata.ATTRIBUTE_NAMESPACE = 'Namespace';
Metadata.ATTRIBUTE_TERM_NAMESPACE = 'TermNamespace';
Metadata.ATTRIBUTE_QUALIFIER = 'Qualifier';
Metadata.ATTRIBUTE_TARGET_NAMESPACE = 'TargetNamespace';
Metadata.ATTRIBUTE_TERM = 'Term';
Metadata.ATTRIBUTE_NAME = 'Name';
Metadata.ATTRIBUTE_VALUE = 'Value';
Metadata.ATTRIBUTE_BASE_TYPE = 'BaseType';
Metadata.ATTRIBUTE_OPEN_TYPE = 'OpenType';
Metadata.ATTRIBUTE_TYPE = 'Type';
Metadata.ATTRIBUTE_NULLABLE = 'Nullable';
Metadata.ATTRIBUTE_MAX_LENGTH = 'MaxLength';
Metadata.ATTRIBUTE_PRECISION = 'Precision';
Metadata.ATTRIBUTE_SCALE = 'Scale';
Metadata.ATTRIBUTE_UNICODE = 'Unicode';
Metadata.ATTRIBUTE_SRID = 'SRID';
Metadata.ATTRIBUTE_DEFAULT_VALUE = 'DefaultValue';
Metadata.ATTRIBUTE_PARTNER = 'Partner';
Metadata.ATTRIBUTE_PROPERTY = 'Property';
Metadata.ATTRIBUTE_REFERENCED_PROPERTY = 'ReferencedProperty';
Metadata.ATTRIBUTE_HAS_STREAM = 'HasStream';
Metadata.ATTRIBUTE_CONTAINS_TARGET = 'ContainsTarget';
Metadata.ATTRIBUTE_IS_BOUND = 'IsBound';
Metadata.ATTRIBUTE_ENTITY_SET_PATH = 'EntitySetPath';
Metadata.ATTRIBUTE_IS_COMPOSABLE = 'IsComposable';
Metadata.ATTRIBUTE_ENTITY_TYPE = 'EntityType';
Metadata.ATTRIBUTE_PATH = 'Path';
Metadata.ATTRIBUTE_TARGET = 'Target';
Metadata.ATTRIBUTE_FUNCTION = 'Function';
Metadata.ATTRIBUTE_ACTION = 'Action';
Metadata.ATTRIBUTE_ENTITY_SET = 'EntitySet';
Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT = 'IncludeInServiceDocument';
Metadata.ATTRIBUTE_ABSTRACT = 'Abstract';
Metadata.ATTRIBUTE_UNDERLYING_TYPE = 'UnderlyingType';
Metadata.ATTRIBUTE_IS_FLAGS = 'IsFlags';
Metadata.ATTRIBUTE_EXTENDS = 'Extends';
Metadata.ATTRIBUTE_BASE_TERM = 'BaseTerm';
Metadata.ATTRIBUTE_APPLIES_TO = 'AppliesTo';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class ODataResponseAbstract {
    /**
     * @param {?} httpResponse
     */
    constructor(httpResponse) {
        this.httpResponse = httpResponse;
    }
    /**
     * @return {?}
     */
    getHttpResponse() {
        return this.httpResponse;
    }
    /**
     * @return {?}
     */
    isOk() {
        return this.httpResponse.ok;
    }
    /**
     * @return {?}
     */
    getBodyAsJson() {
        return null;
    }
    /**
     * @return {?}
     */
    getBodyAsText() {
        return this.httpResponse.body;
    }
    /**
     * @return {?}
     */
    toString() {
        /** @type {?} */
        let res = `${this.httpResponse.status} ${this.httpResponse.statusText}\n`;
        /** @type {?} */
        const headers = this.httpResponse.headers;
        for (const key of headers.keys()) {
            res += key + ': ';
            /** @type {?} */
            let valueString = '';
            for (const value of headers.getAll(key)) {
                if (valueString.length) {
                    valueString += ' ';
                }
                valueString += value;
            }
            res += valueString + '\n';
        }
        /** @type {?} */
        const json = this.getBodyAsJson();
        if (Utils.isNotNullNorUndefined(json)) {
            res += JSON.stringify(json, null, 4);
        }
        else {
            res += this.getBodyAsText();
        }
        return res;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class ODataResponse extends ODataResponseAbstract {
    /**
     * @param {?} httpResponse
     */
    constructor(httpResponse) {
        super(httpResponse);
    }
    /**
     * @return {?}
     */
    getBodyAsJson() {
        /** @type {?} */
        const contentType = this.getHttpResponse().headers.get('Content-Type');
        if (Utils.isNotNullNorUndefined(contentType) && contentType.includes('json')) {
            try {
                return JSON.parse(this.getBodyAsText());
            }
            catch (error) {
                return null;
            }
        }
        return null;
    }
    /**
     * @return {?}
     */
    toMetadata() {
        /** @type {?} */
        const xml = this.getBodyAsText();
        return new Metadata(xml);
    }
    /**
     * @template T
     * @param {?=} type
     * @return {?}
     */
    toEntitySet(type) {
        /** @type {?} */
        const json = this.getBodyAsJson();
        if (Utils.isNotNullNorUndefined(json) && json.hasOwnProperty(ODataResponse.VALUE)) {
            /** @type {?} */
            let count = null;
            if (json.hasOwnProperty(ODataResponse.ODATA_COUNT)) {
                count = json[ODataResponse.ODATA_COUNT];
            }
            return new EntitySet(json[ODataResponse.VALUE], count, type);
        }
        return null;
    }
    /**
     * @template T
     * @param {?=} type
     * @return {?}
     */
    toComplexCollection(type) {
        /** @type {?} */
        const json = this.getBodyAsJson();
        if (Utils.isNotNullNorUndefined(json) && json.hasOwnProperty(ODataResponse.VALUE)) {
            /** @type {?} */
            const res = [];
            for (const object of json[ODataResponse.VALUE]) {
                res.push(this.toObject(object, type));
            }
            return res;
        }
        return null;
    }
    /**
     * @template T
     * @param {?=} type
     * @return {?}
     */
    toEntity(type) {
        /** @type {?} */
        const json = this.getBodyAsJson();
        return this.toObject(json, type);
    }
    /**
     * @template T
     * @param {?=} type
     * @return {?}
     */
    toComplexValue(type) {
        /** @type {?} */
        const json = this.getBodyAsJson();
        return this.toObject(json, type);
    }
    /**
     * @template T
     * @return {?}
     */
    toPropertyValue() {
        /** @type {?} */
        const json = this.getBodyAsJson();
        if (Utils.isNotNullNorUndefined(json)) {
            if (json.hasOwnProperty(ODataResponse.VALUE)) {
                return /** @type {?} */ (json[ODataResponse.VALUE]);
            }
            return null;
        }
        else {
            return /** @type {?} */ (JSON.parse(this.getBodyAsText()));
        }
    }
    /**
     * @return {?}
     */
    toCount() {
        return Number(this.getBodyAsText());
    }
    /**
     * @return {?}
     */
    toODataResponseBatch() {
        return new ODataResponseBatch(this.getHttpResponse());
    }
    /**
     * @template T
     * @param {?} object
     * @param {?} type
     * @return {?}
     */
    toObject(object, type) {
        if (Utils.isNotNullNorUndefined(object)) {
            if (Utils.isNullOrUndefined(type)) {
                return Object.assign({}, object);
            }
            else {
                return Object.assign(new type(), object);
            }
        }
        return null;
    }
}
ODataResponse.VALUE = 'value';
ODataResponse.ODATA_COUNT = '@odata.count';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class ODataResponseBatch extends ODataResponseAbstract {
    /**
     * @param {?} httpResponse
     */
    constructor(httpResponse) {
        super(httpResponse);
        this.odataResponses = [];
        this.parseResponses();
    }
    /**
     * @return {?}
     */
    getODataResponses() {
        return this.odataResponses;
    }
    /**
     * @return {?}
     */
    parseResponses() {
        /** @type {?} */
        const contentType = this.getHttpResponse().headers.get(ODataResponseBatch.CONTENT_TYPE);
        /** @type {?} */
        const boundaryDelimiterBatch = this.getBoundaryDelimiter(contentType);
        /** @type {?} */
        const boundaryEndBatch = this.getBoundaryEnd(boundaryDelimiterBatch);
        /** @type {?} */
        const batchBody = this.getBodyAsText();
        /** @type {?} */
        const batchBodyLines = batchBody.split(ODataResponseBatch.NEWLINE);
        /** @type {?} */
        let odataResponseCS;
        /** @type {?} */
        let contentId;
        /** @type {?} */
        let boundaryDelimiterCS;
        /** @type {?} */
        let boundaryEndCS;
        /** @type {?} */
        let batchPartStartIndex;
        for (let index = 0; index < batchBodyLines.length; index++) {
            /** @type {?} */
            const batchBodyLine = batchBodyLines[index];
            if (batchBodyLine.startsWith(ODataResponseBatch.CONTENT_TYPE)) {
                /** @type {?} */
                const contentTypeValue = this.getHeaderValue(batchBodyLine);
                if (contentTypeValue === ODataResponseBatch.MULTIPART_MIXED) {
                    odataResponseCS = [];
                    contentId = undefined;
                    boundaryDelimiterCS = this.getBoundaryDelimiter(batchBodyLine);
                    boundaryEndCS = this.getBoundaryEnd(boundaryDelimiterCS);
                    batchPartStartIndex = undefined;
                }
                continue;
            }
            else if (Utils.isNotNullNorUndefined(odataResponseCS) && batchBodyLine.startsWith(ODataResponseBatch.CONTENT_ID)) {
                contentId = Number(this.getHeaderValue(batchBodyLine));
            }
            else if (batchBodyLine.startsWith(ODataResponseBatch.HTTP11)) {
                batchPartStartIndex = index;
            }
            else if (batchBodyLine === boundaryDelimiterBatch || batchBodyLine === boundaryDelimiterCS
                || batchBodyLine === boundaryEndBatch || batchBodyLine === boundaryEndCS) {
                if (!batchPartStartIndex) {
                    continue;
                }
                /** @type {?} */
                const odataResponse = this.createODataResponse(batchBodyLines, batchPartStartIndex, index - 1);
                if (Utils.isNotNullNorUndefined(odataResponseCS)) {
                    odataResponseCS[contentId] = odataResponse;
                }
                else {
                    this.odataResponses.push(odataResponse);
                }
                if (batchBodyLine === boundaryDelimiterBatch || batchBodyLine === boundaryDelimiterCS) {
                    batchPartStartIndex = index + 1;
                }
                else if (batchBodyLine === boundaryEndBatch || batchBodyLine === boundaryEndCS) {
                    if (Utils.isNotNullNorUndefined(odataResponseCS)) {
                        for (const response of odataResponseCS) {
                            if (Utils.isNotNullNorUndefined(response)) {
                                this.odataResponses.push(response);
                            }
                        }
                    }
                    odataResponseCS = undefined;
                    boundaryDelimiterCS = undefined;
                    boundaryEndCS = undefined;
                    batchPartStartIndex = undefined;
                }
            }
        }
    }
    /**
     * @param {?} header
     * @return {?}
     */
    getHeaderValue(header) {
        /** @type {?} */
        let res = header.split(';')[0].trim();
        res = res.split(':')[1].trim();
        return res;
    }
    /**
     * @param {?} contentType
     * @return {?}
     */
    getBoundaryDelimiter(contentType) {
        /** @type {?} */
        const contentTypeParts = contentType.split(';');
        if (contentTypeParts.length === 2) {
            /** @type {?} */
            const boundary = contentType.split(';')[1].trim();
            /** @type {?} */
            const boundaryDelimiter = ODataResponseBatch.BOUNDARY_PREFIX_SUFFIX + boundary.split('=')[1];
            return boundaryDelimiter;
        }
        else {
            return '';
        }
    }
    /**
     * @param {?} boundaryDelimiter
     * @return {?}
     */
    getBoundaryEnd(boundaryDelimiter) {
        if (!boundaryDelimiter.length) {
            return '';
        }
        /** @type {?} */
        const boundaryEnd = boundaryDelimiter + ODataResponseBatch.BOUNDARY_PREFIX_SUFFIX;
        return boundaryEnd;
    }
    /**
     * @param {?} batchBodyLines
     * @param {?} batchPartStartIndex
     * @param {?} batchPartEndIndex
     * @return {?}
     */
    createODataResponse(batchBodyLines, batchPartStartIndex, batchPartEndIndex) {
        /** @type {?} */
        let index = batchPartStartIndex;
        /** @type {?} */
        const statusLine = batchBodyLines[index];
        /** @type {?} */
        const statusLineParts = batchBodyLines[index].split(' ');
        /** @type {?} */
        const status = statusLineParts[1];
        /** @type {?} */
        const statusTextIndex = statusLine.indexOf(status) + status.length + 1;
        /** @type {?} */
        const statusText = statusLine.substring(statusTextIndex);
        /** @type {?} */
        let httpHeaders = new HttpHeaders();
        for (++index; index <= batchPartEndIndex; index++) {
            /** @type {?} */
            const batchBodyLine = batchBodyLines[index];
            if (batchBodyLine === '') {
                break;
            }
            /** @type {?} */
            const batchBodyLineParts = batchBodyLine.split(': ');
            httpHeaders = httpHeaders.append(batchBodyLineParts[0].trim(), batchBodyLineParts[1].trim());
        }
        /** @type {?} */
        let body = '';
        for (; index <= batchPartEndIndex; index++) {
            body += batchBodyLines[index];
        }
        return new ODataResponse(new HttpResponse({
            body: body,
            headers: httpHeaders,
            status: Number(status),
            statusText: statusText
        }));
    }
}
ODataResponseBatch.CONTENT_TYPE = 'Content-Type';
ODataResponseBatch.CONTENT_ID = 'Content-ID';
ODataResponseBatch.HTTP11 = 'HTTP/1.1';
ODataResponseBatch.BOUNDARY_PREFIX_SUFFIX = '--';
ODataResponseBatch.NEWLINE = '\r\n';
ODataResponseBatch.MULTIPART_MIXED = 'multipart/mixed';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class HttpOptions {
    /**
     * @param {?=} headers
     * @param {?=} observe
     * @param {?=} params
     * @param {?=} reportProgress
     * @param {?=} responseType
     * @param {?=} withCredentials
     */
    constructor(headers, observe = 'response', params, reportProgress, responseType = 'text', withCredentials) {
        this.headers = headers;
        this.observe = observe;
        this.params = params;
        this.reportProgress = reportProgress;
        this.responseType = responseType;
        this.withCredentials = withCredentials;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class ODataService {
    /**
     * @param {?} http
     */
    constructor(http) {
        this.http = http;
    }
    /**
     * @param {?} odataQuery
     * @param {?=} httpOptions
     * @return {?}
     */
    get(odataQuery, httpOptions) {
        /** @type {?} */
        const url = odataQuery.toString();
        /** @type {?} */
        const options = this.createHttpOptions(httpOptions);
        return this.http.get(url, options).pipe(map(response => new ODataResponse(response)));
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} httpOptions
     * @return {?}
     */
    post(odataQuery, body, httpOptions) {
        /** @type {?} */
        const url = odataQuery.toString();
        /** @type {?} */
        const options = this.createHttpOptions(httpOptions);
        return this.http.post(url, body, options).pipe(map(response => new ODataResponse(response)));
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    patch(odataQuery, body, etag, httpOptions) {
        /** @type {?} */
        const url = odataQuery.toString();
        /** @type {?} */
        let options = this.createHttpOptions(httpOptions);
        options = this.mergeETag(options, etag);
        return this.http.patch(url, body, options).pipe(map(response => new ODataResponse(response)));
    }
    /**
     * @param {?} odataQuery
     * @param {?} body
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    put(odataQuery, body, etag, httpOptions) {
        /** @type {?} */
        const url = odataQuery.toString();
        /** @type {?} */
        let options = this.createHttpOptions(httpOptions);
        options = this.mergeETag(options, etag);
        return this.http.put(url, body, options).pipe(map(response => new ODataResponse(response)));
    }
    /**
     * @param {?} odataQuery
     * @param {?=} etag
     * @param {?=} httpOptions
     * @return {?}
     */
    delete(odataQuery, etag, httpOptions) {
        /** @type {?} */
        const url = odataQuery.toString();
        /** @type {?} */
        let options = this.createHttpOptions(httpOptions);
        options = this.mergeETag(options, etag);
        return this.http.delete(url, options).pipe(map(response => new ODataResponse(response)));
    }
    /**
     * @param {?} httpOptions
     * @return {?}
     */
    createHttpOptions(httpOptions) {
        if (httpOptions instanceof HttpOptions) {
            return httpOptions;
        }
        return Object.assign(new HttpOptions(), httpOptions);
    }
    /**
     * @param {?} httpOptions
     * @param {?} etag
     * @return {?}
     */
    mergeETag(httpOptions, etag) {
        if (Utils.isNullOrUndefined(etag)) {
            return httpOptions;
        }
        if (Utils.isNullOrUndefined(httpOptions)) {
            httpOptions = new HttpOptions();
        }
        if (Utils.isNullOrUndefined(httpOptions.headers)) {
            httpOptions.headers = new HttpHeaders();
        }
        httpOptions.headers[ODataService.IF_MATCH_HEADER] = etag;
        return httpOptions;
    }
}
ODataService.IF_MATCH_HEADER = 'If-Match';
ODataService.decorators = [
    { type: Injectable },
];
/** @nocollapse */
ODataService.ctorParameters = () => [
    { type: HttpClient }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class Filter {
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class FilterHasProperty {
    /**
     * @param {?} property
     */
    constructor(property) {
        this.setProperty(property);
    }
    /**
     * @param {?} property
     * @return {?}
     */
    setProperty(property) {
        Utils.requireNotNullNorUndefined(property, 'property');
        this.property = property;
    }
    /**
     * @return {?}
     */
    getProperty() {
        return this.property;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FilterComparison extends FilterHasProperty {
    /**
     * @param {?} property
     * @param {?} operator
     * @param {?} value
     */
    constructor(property, operator, value) {
        super(property);
        Utils.requireNotNullNorUndefined(property, 'property');
        Utils.requireNotNullNorUndefined(operator, 'operator');
        Utils.requireNotUndefined(value, 'value');
        this.operator = operator;
        this.value = value;
    }
    /**
     * @return {?}
     */
    toString() {
        return `${this.property} ${OperatorComparison[this.operator].toLowerCase()} ${Utils.getValueURI(this.value, false)}`;
    }
    /**
     * @return {?}
     */
    isEmpty() {
        return (Utils.isNullOrUndefined(this.property) || !this.property.length)
            && Utils.isNullOrUndefined(this.operator)
            && Utils.isNullOrUndefined(this.value) || (this.value instanceof Filter && !this.value.isEmpty() || this.value instanceof Array && !this.value.length);
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FilterFunction extends FilterHasProperty {
    /**
     * @param {?} functionName
     * @param {?} property
     * @param {?=} value
     */
    constructor(functionName, property, value) {
        super(property);
        Utils.requireNotNullNorUndefined(functionName, 'functionName');
        Utils.requireNotEmpty(functionName, 'functionName');
        Utils.requireNotNullNorUndefined(property, 'property');
        Utils.requireNotEmpty(property, 'property');
        this.functionName = functionName;
        this.property = property;
        this.value = value;
    }
    /**
     * @return {?}
     */
    toString() {
        if (Utils.isNotNullNorUndefined(this.property) && Utils.isNotNullNorUndefined(this.value)) {
            return `${this.functionName}(${this.property},${Utils.getValueURI(this.value, false)})`;
        }
        else if (Utils.isNotNullNorUndefined(this.property)) {
            return `${this.functionName}(${this.property})`;
        }
        else if (Utils.isNotNullNorUndefined(this.value)) {
            return `${this.functionName}(${Utils.getValueURI(this.value, false)})`;
        }
        else {
            return `${this.functionName}()`;
        }
    }
    /**
     * @return {?}
     */
    isEmpty() {
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNullOrUndefined(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNotNullNorUndefined(this.value) && Utils.isEmpty(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.value)
            && Utils.isNotNullNorUndefined(this.property) && !this.property.length) {
            return true;
        }
        return false;
    }
}
class FilterFunctionString extends FilterFunction {
    /**
     * @param {?} functionName
     * @param {?=} property
     * @param {?=} value
     */
    constructor(functionName, property, value) {
        super(functionName, property, typeof (value) === 'string'
            ? new QuotedString(value)
            : value instanceof FilterFunctionString ? value.toString() : value);
    }
}
class FilterContains extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('contains', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
class FilterEndswith extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('endswith', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
class FilterStartswith extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('startswith', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
class FilterLength extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('length', property);
    }
}
class FilterIndexof extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('indexof', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
class FilterSubstring extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('substring', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
class FilterTolower extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('tolower', property);
    }
}
class FilterToupper extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('toupper', property);
    }
}
class FilterTrim extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('trim', property);
    }
}
class FilterConcat extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('concat', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class FilterHasFilter {
    /**
     * @param {?} filter
     */
    constructor(filter) {
        this.filter = filter;
    }
    /**
     * @return {?}
     */
    getFilter() {
        return this.filter;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const LambdaOperator = {
    ANY: 0, ALL: 1,
};
LambdaOperator[LambdaOperator.ANY] = 'ANY';
LambdaOperator[LambdaOperator.ALL] = 'ALL';
/** @enum {number} */
const LambdaCollection = {
    PROPERTY_COLLECTION: 0, ENTITY_SET: 1,
};
LambdaCollection[LambdaCollection.PROPERTY_COLLECTION] = 'PROPERTY_COLLECTION';
LambdaCollection[LambdaCollection.ENTITY_SET] = 'ENTITY_SET';
class FilterLambda extends FilterHasFilter {
    /**
     * @param {?} lambdaCollection
     * @param {?} propertyOrEntitySet
     * @param {?} lambdaOperator
     * @param {?} filter
     */
    constructor(lambdaCollection, propertyOrEntitySet, lambdaOperator, filter) {
        super(filter);
        Utils.requireNotNullNorUndefined(lambdaCollection, 'lambdaCollection');
        Utils.requireNotNullNorUndefined(propertyOrEntitySet, 'propertyOrEntitySet');
        Utils.requireNotNullNorUndefined(lambdaOperator, 'lambdaOperator');
        Utils.requireNotNullNorUndefined(filter, 'filter');
        if (lambdaCollection === LambdaCollection.PROPERTY_COLLECTION) {
            this.checkProperty(propertyOrEntitySet, filter);
        }
        this.lambdaCollection = lambdaCollection;
        this.propertyOrEntitySet = propertyOrEntitySet;
        this.lambdaOperator = lambdaOperator;
    }
    /**
     * @return {?}
     */
    toString() {
        switch (this.lambdaCollection) {
            case LambdaCollection.PROPERTY_COLLECTION:
                this.replaceProperty(this.filter);
                return `${this.propertyOrEntitySet}/${LambdaOperator[this.lambdaOperator].toLowerCase()}(x:${this.filter.toString()})`;
            case LambdaCollection.ENTITY_SET:
                return `${this.propertyOrEntitySet}/${LambdaOperator[this.lambdaOperator].toLowerCase()}(x:x/${this.filter.toString()})`;
            default:
                throw new Error('unknown lambdaCollection: ' + this.lambdaCollection);
        }
    }
    /**
     * @return {?}
     */
    isEmpty() {
        if (Utils.isNullOrUndefined(this.lambdaCollection)
            && Utils.isNullOrUndefined(this.propertyOrEntitySet)
            && Utils.isNullOrUndefined(this.lambdaOperator)
            && Utils.isNullOrUndefined(this.filter)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.propertyOrEntitySet)
            && Utils.isNotNullNorUndefined(this.filter) && Utils.isEmpty(this.filter)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.filter)
            && Utils.isNotNullNorUndefined(this.propertyOrEntitySet) && !this.propertyOrEntitySet.length) {
            return true;
        }
        if (Utils.isNotNullNorUndefined(this.propertyOrEntitySet) && !this.propertyOrEntitySet.length
            && Utils.isNotNullNorUndefined(this.filter) && Utils.isEmpty(this.filter)) {
            return true;
        }
        return false;
    }
    /**
     * @param {?} propertyOrEntitySet
     * @param {?} filter
     * @return {?}
     */
    checkProperty(propertyOrEntitySet, filter) {
        if (Utils.isNullOrUndefined(filter)) {
            return;
        }
        if (filter instanceof FilterHasProperty) {
            if (propertyOrEntitySet !== filter.getProperty()) {
                throw new Error('lambda property to filter must match inner filters property');
            }
        }
        if (filter instanceof FilterHasFilter) {
            /** @type {?} */
            const filterChild = filter.getFilter();
            if (filterChild instanceof Filter) {
                this.replaceProperty(filterChild);
            }
            else {
                for (const f of filterChild) {
                    this.replaceProperty(f);
                }
            }
        }
    }
    /**
     * @param {?} filter
     * @return {?}
     */
    replaceProperty(filter) {
        if (Utils.isNullOrUndefined(filter)) {
            return;
        }
        if (filter instanceof FilterHasProperty) {
            filter.setProperty('x');
        }
        if (filter instanceof FilterHasFilter) {
            /** @type {?} */
            const filterChild = filter.getFilter();
            if (filterChild instanceof Filter) {
                this.replaceProperty(filterChild);
            }
            else {
                for (const f of filterChild) {
                    this.replaceProperty(f);
                }
            }
        }
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class FilterLogical extends FilterHasFilter {
    /**
     * @param {?} filters
     * @param {?} operator
     */
    constructor(filters, operator) {
        super(filters);
        Utils.requireNotNullNorUndefined(filters, 'filters');
        Utils.requireNotEmpty(filters, 'filters');
        Utils.requireNotNullNorUndefined(operator, 'operator');
        this.operator = operator;
    }
    /**
     * @return {?}
     */
    toString() {
        if (this.filter instanceof Array) {
            return Utils.toString(this.filter, this.operator);
        }
        return this.filter.toString();
    }
    /**
     * @return {?}
     */
    isEmpty() {
        if (Utils.isNullOrUndefined(this.filter)) {
            return true;
        }
        for (const filter of /** @type {?} */ (this.filter)) {
            if (filter.isEmpty()) {
                return true;
            }
        }
        return false;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
class Search {
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SearchLogical extends Search {
    /**
     * @param {?} values
     * @param {?} operator
     */
    constructor(values, operator) {
        super();
        this.values = values;
        this.operator = operator;
        Utils.requireNotNullNorUndefined(values, 'values');
        Utils.requireNotNullNorUndefined(operator, 'operator');
        Utils.requireNotEmpty(values, 'values');
        if (operator === OperatorLogical.NOT && values.length !== 1) {
            throw new Error('operator ' + OperatorLogical[operator] + ' requires a single value');
        }
    }
    /**
     * @return {?}
     */
    toString() {
        return Utils.toString(this.values, this.operator, true);
    }
    /**
     * @return {?}
     */
    isEmpty() {
        if (Utils.isNullOrUndefined(this.values)) {
            return true;
        }
        for (const value of this.values) {
            if (value.isEmpty()) {
                return true;
            }
        }
        return false;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SearchSimple extends Search {
    /**
     * @param {?} value
     */
    constructor(value) {
        super();
        this.value = value;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
    /**
     * @return {?}
     */
    toString() {
        return this.value;
    }
    /**
     * @return {?}
     */
    isEmpty() {
        return Utils.isNullOrUndefined(this.value) || !this.value.length;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SearchPhrase extends SearchSimple {
    /**
     * @return {?}
     */
    toString() {
        return `"${this.value}"`;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class ODataModule {
}
ODataModule.decorators = [
    { type: NgModule, args: [{
                imports: [
                    CommonModule,
                    HttpClientModule
                ],
                providers: [ODataService]
            },] },
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { ODataQueryAbstract, Method, BatchRequest, ODataQueryBatch, ODataQuery, QuotedString, CsdlAnnotable, CsdlAnnotations, CsdlAnnotation, CsdlTerm, CsdlEntityContainer, CsdlEntitySet, CsdlEnumType, CsdlEnumMember, CsdlFunction, CsdlAction, CsdlFunctionImport, CsdlActionImport, CsdlParameter, CsdlReturnType, CsdlNavigationPropertyBinding, CsdlReference, CsdlInclude, CsdlIncludeAnnotations, CsdlSchema, CsdlSingleton, CsdlStructuralProperty, CsdlProperty, CsdlNavigationProperty, CsdlReferentialConstraint, CsdlOnDelete, CsdlStructuredType, CsdlComplexType, CsdlEntityType, CsdlKey, CsdlPropertyRef, CsdlTypeDefinition, EntitySet, FieldType, Field, Metadata, ODataResponseAbstract, ODataResponseBatch, ODataResponse, HttpOptions, ODataService, FilterComparison, FilterFunction, FilterFunctionString, FilterContains, FilterEndswith, FilterStartswith, FilterLength, FilterIndexof, FilterSubstring, FilterTolower, FilterToupper, FilterTrim, FilterConcat, FilterHasFilter, FilterHasProperty, LambdaOperator, LambdaCollection, FilterLambda, FilterLogical, FilterString, Filter, SearchLogical, SearchPhrase, SearchSimple, Search, Expand, OperatorComparison, OperatorLogical, OperatorArithmetic, Order, Orderby, QueryOptions, Utils, ODataModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2RhdGEtdjQtbmcuanMubWFwIiwic291cmNlcyI6WyJuZzovL29kYXRhLXY0LW5nL2xpYi9xdWVyeS1vcHRpb25zL29wZXJhdG9yLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcXVlcnkvcXVvdGVkLXN0cmluZy50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3V0aWxzL3V0aWxzLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcXVlcnkvb2RhdGEtcXVlcnktYWJzdHJhY3QudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1xdWVyeS9vZGF0YS1xdWVyeS1iYXRjaC50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci1zdHJpbmcudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9xdWVyeS1vcHRpb25zL2V4cGFuZC50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvb3JkZXJieS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvcXVlcnktb3B0aW9ucy50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXF1ZXJ5L29kYXRhLXF1ZXJ5LnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvY3NkbC9jc2RsLWFubm90YXRpb24udHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1yZXNwb25zZS9jc2RsL2NzZGwtZW50aXR5LWNvbnRhaW5lci50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXJlc3BvbnNlL2NzZGwvY3NkbC1lbnRpdHktc2V0LnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvY3NkbC9jc2RsLWVudW0tdHlwZS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXJlc3BvbnNlL2NzZGwvY3NkbC1mdW5jdGlvbi1hY3Rpb24udHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1yZXNwb25zZS9jc2RsL2NzZGwtbmF2aWdhdGlvbi1wcm9wZXJ0eS1iaW5kaW5nLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvY3NkbC9jc2RsLXJlZmVyZW5jZS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXJlc3BvbnNlL2NzZGwvY3NkbC1zY2hlbWEudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1yZXNwb25zZS9jc2RsL2NzZGwtc2luZ2xldG9uLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvY3NkbC9jc2RsLXN0cnVjdHVyYWwtcHJvcGVydHkudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1yZXNwb25zZS9jc2RsL2NzZGwtc3RydWN0dXJlZC10eXBlLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvY3NkbC9jc2RsLXR5cGUtZGVmaW5pdGlvbi50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXJlc3BvbnNlL2VudGl0eS1jb2xsZWN0aW9uLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2UvbWV0YWRhdGEudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1yZXNwb25zZS9vZGF0YS1yZXNwb25zZS1hYnN0cmFjdC50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXJlc3BvbnNlL29kYXRhLXJlc3BvbnNlLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvb2RhdGEtcmVzcG9uc2Uvb2RhdGEtcmVzcG9uc2UtYmF0Y2gudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9vZGF0YS1zZXJ2aWNlL2h0dHAtb3B0aW9ucy50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLXNlcnZpY2Uvb2RhdGEuc2VydmljZS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci1oYXMtcHJvcGVydHkudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9xdWVyeS1vcHRpb25zL2ZpbHRlci9maWx0ZXItY29tcGFyaXNvbi50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci1mdW5jdGlvbi50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci1oYXMtZmlsdGVyLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvcXVlcnktb3B0aW9ucy9maWx0ZXIvZmlsdGVyLWxhbWJkYS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL3F1ZXJ5LW9wdGlvbnMvZmlsdGVyL2ZpbHRlci1sb2dpY2FsLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvcXVlcnktb3B0aW9ucy9zZWFyY2gvc2VhcmNoLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvcXVlcnktb3B0aW9ucy9zZWFyY2gvc2VhcmNoLWxvZ2ljYWwudHMiLCJuZzovL29kYXRhLXY0LW5nL2xpYi9xdWVyeS1vcHRpb25zL3NlYXJjaC9zZWFyY2gtc2ltcGxlLnRzIiwibmc6Ly9vZGF0YS12NC1uZy9saWIvcXVlcnktb3B0aW9ucy9zZWFyY2gvc2VhcmNoLXBocmFzZS50cyIsIm5nOi8vb2RhdGEtdjQtbmcvbGliL29kYXRhLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBPcGVyYXRvckNvbXBhcmlzb24ge1xuICAgIEVRLCBORSwgR1QsIEdFLCBMVCwgTEUsIEhBU1xufVxuXG5leHBvcnQgZW51bSBPcGVyYXRvckxvZ2ljYWwge1xuICAgIEFORCwgT1IsIE5PVFxufVxuXG5leHBvcnQgZW51bSBPcGVyYXRvckFyaXRobWV0aWMge1xuICAgIEFERCwgU1VCLCBNVUwsIERJViwgTU9EXG59XG4iLCJleHBvcnQgY2xhc3MgUXVvdGVkU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBzdHJpbmcpIHsgfVxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yTG9naWNhbCB9IGZyb20gJy4uL3F1ZXJ5LW9wdGlvbnMvb3BlcmF0b3InO1xuXG5pbXBvcnQgeyBRdW90ZWRTdHJpbmcgfSBmcm9tICcuLi9vZGF0YS1xdWVyeS9xdW90ZWQtc3RyaW5nJztcblxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBzdGF0aWMgaXNOdWxsKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1VuZGVmaW5lZCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc051bGxPclVuZGVmaW5lZCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBVdGlscy5pc051bGwodmFsdWUpIHx8IFV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICFVdGlscy5pc051bGwodmFsdWUpICYmICFVdGlscy5pc1VuZGVmaW5lZCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzRW1wdHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpXG4gICAgICAgICAgICB8fCB0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZycgJiYgIXZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiAhdmFsdWUubGVuZ3RoXG4gICAgICAgICAgICB8fCB0eXBlb2YgKHZhbHVlLmlzRW1wdHkpID09PSAnZnVuY3Rpb24nICYmIHZhbHVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghVXRpbHMuaXNFbXB0eSh2KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyByZXF1aXJlTnVsbChmaWVsZFZhbHVlOiBhbnksIGZpZWxkTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChmaWVsZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmllbGROYW1lICsgJyBtdXN0IGJlIG51bGwnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZXF1aXJlVW5kZWZpbmVkKGZpZWxkVmFsdWU6IGFueSwgZmllbGROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZpZWxkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGZpZWxkTmFtZSArICcgbXVzdCBiZSB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZXF1aXJlTm90TnVsbChmaWVsZFZhbHVlOiBhbnksIGZpZWxkTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChmaWVsZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmllbGROYW1lICsgJyBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlcXVpcmVOb3RVbmRlZmluZWQoZmllbGRWYWx1ZTogYW55LCBmaWVsZE5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoZmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmllbGROYW1lICsgJyBjYW5ub3QgYmUgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoZmllbGRWYWx1ZTogYW55LCBmaWVsZE5hbWU6IHN0cmluZykge1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbChmaWVsZFZhbHVlLCBmaWVsZE5hbWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90VW5kZWZpbmVkKGZpZWxkVmFsdWUsIGZpZWxkTmFtZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlcXVpcmVOdWxsT3JVbmRlZmluZWQoZmllbGRWYWx1ZTogYW55LCBmaWVsZE5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoIVV0aWxzLmlzTnVsbChmaWVsZFZhbHVlKSAmJiAhVXRpbHMuaXNVbmRlZmluZWQoZmllbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihmaWVsZE5hbWUgKyAnIG11c3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZXF1aXJlTm90RW1wdHkoZmllbGRWYWx1ZTogYW55LCBmaWVsZE5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoVXRpbHMuaXNFbXB0eShmaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGZpZWxkTmFtZSArICcgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVxdWlyZU5vdE5lZ2F0aXZlKGZpZWxkVmFsdWU6IG51bWJlciwgZmllbGROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZpZWxkVmFsdWUgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmllbGROYW1lICsgJyBjYW5ub3QgYmUgbmVnYXRpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhcHBlbmRTZWdtZW50KHBhdGg6IHN0cmluZywgc2VnbWVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoc2VnbWVudCwgJ3NlZ21lbnQnKTtcbiAgICAgICAgaWYgKCFwYXRoLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoICsgc2VnbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlRW5kaW5nU2VwYXJhdG9yKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIGlmICh2YWx1ZS5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFZhbHVlVVJJKHZhbHVlOiBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgUXVvdGVkU3RyaW5nLCBlbmNvZGVVUkk6IGJvb2xlYW4pOiBhbnkge1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90VW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoZW5jb2RlVVJJLCAnZW5jb2RlVVJJJyk7XG5cbiAgICAgICAgbGV0IHJlczogYW55ID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiAocmVzKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGVuY29kZSB1cmkgY29tcG9uZW50XG4gICAgICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGVuY29kZVVSSSkgJiYgZW5jb2RlVVJJKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gZW5jb2RlVVJJQ29tcG9uZW50KHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVzIGluc3RhbmNlb2YgUXVvdGVkU3RyaW5nKSB7XG4gICAgICAgICAgICAvLyBlc2NhcGUgc2luZ2xlIHF1b3RlXG4gICAgICAgICAgICByZXMgPSByZXMudG9TdHJpbmcoKS5yZXBsYWNlKC8nL2csICdcXCdcXCcnKTtcblxuICAgICAgICAgICAgLy8gZW5jb2RlIHVyaSBjb21wb25lbnRcbiAgICAgICAgICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQoZW5jb2RlVVJJKSAmJiBlbmNvZGVVUkkpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBlbmNvZGVVUklDb21wb25lbnQocmVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHN0YXJ0L2VuZGluZyBxdW90ZXNcbiAgICAgICAgICAgIHJlcyA9ICdcXCcnICsgcmVzICsgJ1xcJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBib29sZWFuLCBudW1iZXJcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9TdHJpbmcoaXRlbXM6IGFueVtdLCBvcGVyYXRvcj86IE9wZXJhdG9yTG9naWNhbCwgb3BlcmF0b3JVcHBlcmNhc2U6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXMgPSAnJztcbiAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGl0ZW1zKSB8fCAhaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAocmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQob3BlcmF0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdG9yU3RyaW5nOiBzdHJpbmcgPSBVdGlscy5nZXRPcGVyYXRvclN0cmluZyhvcGVyYXRvciwgb3BlcmF0b3JVcHBlcmNhc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXMgKz0gYCAke29wZXJhdG9yU3RyaW5nfSBgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChvcGVyYXRvcikgJiYgb3BlcmF0b3IgPT09IE9wZXJhdG9yTG9naWNhbC5OT1QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGVyYXRvclN0cmluZzogc3RyaW5nID0gVXRpbHMuZ2V0T3BlcmF0b3JTdHJpbmcob3BlcmF0b3IsIG9wZXJhdG9yVXBwZXJjYXNlKTtcbiAgICAgICAgICAgICAgICByZXMgKz0gYCR7b3BlcmF0b3JTdHJpbmd9IGA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcyArPSBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChvcGVyYXRvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBgKCR7cmVzfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGdldE9wZXJhdG9yU3RyaW5nKG9wZXJhdG9yOiBPcGVyYXRvckxvZ2ljYWwsIG9wZXJhdG9yVXBwZXJjYXNlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG9wZXJhdG9yU3RyaW5nOiBzdHJpbmcgPSBPcGVyYXRvckxvZ2ljYWxbb3BlcmF0b3JdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQob3BlcmF0b3JVcHBlcmNhc2UpICYmIG9wZXJhdG9yVXBwZXJjYXNlKSB7XG4gICAgICAgICAgICBvcGVyYXRvclN0cmluZyA9IG9wZXJhdG9yU3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yU3RyaW5nO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgT0RhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vb2RhdGEtc2VydmljZS9vZGF0YS5zZXJ2aWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE9EYXRhUXVlcnlBYnN0cmFjdCB7XG4gIHByb3RlY3RlZCBvZGF0YVNlcnZpY2U6IE9EYXRhU2VydmljZTtcbiAgcHJvdGVjdGVkIHNlcnZpY2VSb290OiBzdHJpbmc7XG4gIHByb3RlY3RlZCBxdWVyeVN0cmluZzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9kYXRhU2VydmljZTogT0RhdGFTZXJ2aWNlLCBzZXJ2aWNlUm9vdDogc3RyaW5nKSB7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQob2RhdGFTZXJ2aWNlLCAnb2RhdGFTZXJ2aWNlJyk7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoc2VydmljZVJvb3QsICdzZXJ2aWNlUm9vdCcpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShzZXJ2aWNlUm9vdCwgJ3NlcnZpY2VSb290Jyk7XG4gICAgdGhpcy5vZGF0YVNlcnZpY2UgPSBvZGF0YVNlcnZpY2U7XG4gICAgdGhpcy5zZXJ2aWNlUm9vdCA9IHNlcnZpY2VSb290O1xuICAgIHRoaXMucXVlcnlTdHJpbmcgPSBzZXJ2aWNlUm9vdDtcbiAgfVxuXG4gIGFic3RyYWN0IHRvU3RyaW5nKCk7XG59XG4iLCJpbXBvcnQgeyBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IFVVSUQgfSBmcm9tICdhbmd1bGFyMi11dWlkJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE9EYXRhUmVzcG9uc2UgfSBmcm9tICcuLi9vZGF0YS1yZXNwb25zZS9vZGF0YS1yZXNwb25zZSc7XG5pbXBvcnQgeyBIdHRwT3B0aW9uc0kgfSBmcm9tICcuLi9vZGF0YS1zZXJ2aWNlL2h0dHAtb3B0aW9ucyc7XG5pbXBvcnQgeyBPRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9vZGF0YS1zZXJ2aWNlL29kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBPRGF0YVF1ZXJ5IH0gZnJvbSAnLi9vZGF0YS1xdWVyeSc7XG5pbXBvcnQgeyBPRGF0YVF1ZXJ5QWJzdHJhY3QgfSBmcm9tICcuL29kYXRhLXF1ZXJ5LWFic3RyYWN0JztcblxuXG5leHBvcnQgZW51bSBNZXRob2Qge1xuICBHRVQsIFBPU1QsIFBVVCwgUEFUQ0gsIERFTEVURVxufVxuXG5leHBvcnQgY2xhc3MgQmF0Y2hSZXF1ZXN0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG1ldGhvZDogTWV0aG9kLFxuICAgIHB1YmxpYyBvZGF0YVF1ZXJ5OiBPRGF0YVF1ZXJ5LFxuICAgIHB1YmxpYyBib2R5PzogYW55LFxuICAgIHB1YmxpYyBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zSSkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBPRGF0YVF1ZXJ5QmF0Y2ggZXh0ZW5kcyBPRGF0YVF1ZXJ5QWJzdHJhY3Qge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBCT1VOREFSWV9QUkVGSVhfU1VGRklYID0gJy0tJztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQkFUQ0hfUFJFRklYID0gJ2JhdGNoXyc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENIQU5HRVNFVF9QUkVGSVggPSAnY2hhbmdlc2V0Xyc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IE5FV0xJTkUgPSAnXFxyXFxuJztcblxuICAvLyBDT05TVEFOVCBTRUdNRU5UU1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSAkQkFUQ0ggPSAnJGJhdGNoJztcblxuICAvLyBIRUFERVJTXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEhUVFAxMSA9ICdIVFRQLzEuMSc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IE9EQVRBX1ZFUlNJT04gPSAnT0RhdGEtVmVyc2lvbic7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENPTlRFTlRfVFlQRSA9ICdDb250ZW50LVR5cGUnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBQ0NFUFQgPSAnQWNjZXB0JztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ09OVEVOVF9UUkFOU0ZFUl9FTkNPRElORyA9ICdDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nJztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ09OVEVOVF9JRCA9ICdDb250ZW50LUlEJztcblxuICAvLyBIRUFERVIgVkFMVUVTXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFZFUlNJT05fNF8wID0gJzQuMCc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IE1VTFRJUEFSVF9NSVhFRCA9ICdtdWx0aXBhcnQvbWl4ZWQnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBNVUxUSVBBUlRfTUlYRURfQk9VTkRBUlkgPSAnbXVsdGlwYXJ0L21peGVkO2JvdW5kYXJ5PSc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFQUExJQ0FUSU9OX0hUVFAgPSAnYXBwbGljYXRpb24vaHR0cCc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEJJTkFSWSA9ICdiaW5hcnknO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBUFBMSUNBVElPTl9KU09OID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gIC8vIFZBUklBQkxFU1xuICBwcml2YXRlIHJlcXVlc3RzOiBCYXRjaFJlcXVlc3RbXTtcbiAgcHJpdmF0ZSBiYXRjaEJvdW5kYXJ5OiBzdHJpbmc7XG4gIHByaXZhdGUgY2hhbmdlc2V0Qm91bmRhcnk6IHN0cmluZztcbiAgcHJpdmF0ZSBjaGFuZ2VzZXRJRDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9kYXRhU2VydmljZTogT0RhdGFTZXJ2aWNlLCBzZXJ2aWNlUm9vdDogc3RyaW5nKSB7XG4gICAgc3VwZXIob2RhdGFTZXJ2aWNlLCBzZXJ2aWNlUm9vdCk7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQob2RhdGFTZXJ2aWNlLCAnb2RhdGFTZXJ2aWNlJyk7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoc2VydmljZVJvb3QsICdzZXJ2aWNlUm9vdCcpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShzZXJ2aWNlUm9vdCwgJ3NlcnZpY2VSb290Jyk7XG4gICAgdGhpcy5xdWVyeVN0cmluZyA9IFV0aWxzLmFwcGVuZFNlZ21lbnQoc2VydmljZVJvb3QsIE9EYXRhUXVlcnlCYXRjaC4kQkFUQ0gpO1xuICAgIHRoaXMucmVxdWVzdHMgPSBbXTtcbiAgICB0aGlzLmJhdGNoQm91bmRhcnkgPSBPRGF0YVF1ZXJ5QmF0Y2guQkFUQ0hfUFJFRklYICsgdGhpcy5nZXRVVUlEKCk7XG4gICAgdGhpcy5jaGFuZ2VzZXRCb3VuZGFyeSA9IG51bGw7XG4gICAgdGhpcy5jaGFuZ2VzZXRJRCA9IDE7XG4gIH1cblxuICBnZXQob2RhdGFRdWVyeTogT0RhdGFRdWVyeSwgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPRGF0YVF1ZXJ5QmF0Y2gge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhUXVlcnksICdvZGF0YVF1ZXJ5Jyk7XG4gICAgdGhpcy5yZXF1ZXN0cy5wdXNoKG5ldyBCYXRjaFJlcXVlc3QoTWV0aG9kLkdFVCwgb2RhdGFRdWVyeSwgdW5kZWZpbmVkLCBodHRwT3B0aW9ucykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcG9zdChvZGF0YVF1ZXJ5OiBPRGF0YVF1ZXJ5LCBib2R5OiBhbnksIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnNJKTogT0RhdGFRdWVyeUJhdGNoIHtcbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChvZGF0YVF1ZXJ5LCAnb2RhdGFRdWVyeScpO1xuICAgIHRoaXMucmVxdWVzdHMucHVzaChuZXcgQmF0Y2hSZXF1ZXN0KE1ldGhvZC5QT1NULCBvZGF0YVF1ZXJ5LCBib2R5LCBodHRwT3B0aW9ucykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHV0KG9kYXRhUXVlcnk6IE9EYXRhUXVlcnksIGJvZHk6IGFueSwgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPRGF0YVF1ZXJ5QmF0Y2gge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhUXVlcnksICdvZGF0YVF1ZXJ5Jyk7XG4gICAgdGhpcy5yZXF1ZXN0cy5wdXNoKG5ldyBCYXRjaFJlcXVlc3QoTWV0aG9kLlBVVCwgb2RhdGFRdWVyeSwgYm9keSwgaHR0cE9wdGlvbnMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHBhdGNoKG9kYXRhUXVlcnk6IE9EYXRhUXVlcnksIGJvZHk6IGFueSwgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPRGF0YVF1ZXJ5QmF0Y2gge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhUXVlcnksICdvZGF0YVF1ZXJ5Jyk7XG4gICAgdGhpcy5yZXF1ZXN0cy5wdXNoKG5ldyBCYXRjaFJlcXVlc3QoTWV0aG9kLlBBVENILCBvZGF0YVF1ZXJ5LCBib2R5LCBodHRwT3B0aW9ucykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGVsZXRlKG9kYXRhUXVlcnk6IE9EYXRhUXVlcnksIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnNJKTogT0RhdGFRdWVyeUJhdGNoIHtcbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChvZGF0YVF1ZXJ5LCAnb2RhdGFRdWVyeScpO1xuICAgIHRoaXMucmVxdWVzdHMucHVzaChuZXcgQmF0Y2hSZXF1ZXN0KE1ldGhvZC5ERUxFVEUsIG9kYXRhUXVlcnksIHVuZGVmaW5lZCwgaHR0cE9wdGlvbnMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGV4ZWN1dGUoaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICAvLyBzZXQgaGVhZGVyc1xuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChodHRwT3B0aW9ucykpIHtcbiAgICAgIGh0dHBPcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChodHRwT3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgaHR0cE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIH1cbiAgICBodHRwT3B0aW9ucy5oZWFkZXJzID0gaHR0cE9wdGlvbnMuaGVhZGVycy5zZXQoT0RhdGFRdWVyeUJhdGNoLk9EQVRBX1ZFUlNJT04sIE9EYXRhUXVlcnlCYXRjaC5WRVJTSU9OXzRfMCk7XG4gICAgaHR0cE9wdGlvbnMuaGVhZGVycyA9IGh0dHBPcHRpb25zLmhlYWRlcnMuc2V0KE9EYXRhUXVlcnlCYXRjaC5DT05URU5UX1RZUEUsIE9EYXRhUXVlcnlCYXRjaC5NVUxUSVBBUlRfTUlYRURfQk9VTkRBUlkgKyB0aGlzLmJhdGNoQm91bmRhcnkpO1xuICAgIGh0dHBPcHRpb25zLmhlYWRlcnMgPSBodHRwT3B0aW9ucy5oZWFkZXJzLnNldChPRGF0YVF1ZXJ5QmF0Y2guQUNDRVBULCBPRGF0YVF1ZXJ5QmF0Y2guTVVMVElQQVJUX01JWEVEKTtcblxuICAgIC8vIHNlbmQgcmVxdWVzdFxuICAgIHJldHVybiB0aGlzLm9kYXRhU2VydmljZS5wb3N0KHRoaXMsIHRoaXMuZ2V0Qm9keSgpLCBodHRwT3B0aW9ucyk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5U3RyaW5nO1xuICB9XG5cbiAgZ2V0Qm9keSgpOiBzdHJpbmcge1xuICAgIGxldCByZXMgPSAnJztcblxuICAgIGZvciAoY29uc3QgcmVxdWVzdCBvZiB0aGlzLnJlcXVlc3RzKSB7XG4gICAgICBjb25zdCBtZXRob2Q6IE1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgICAgY29uc3Qgb2RhdGFRdWVyeTogT0RhdGFRdWVyeSA9IHJlcXVlc3Qub2RhdGFRdWVyeTtcbiAgICAgIGNvbnN0IGh0dHBPcHRpb25zOiBIdHRwT3B0aW9uc0kgPSByZXF1ZXN0Lmh0dHBPcHRpb25zO1xuICAgICAgY29uc3QgYm9keTogYW55ID0gcmVxdWVzdC5ib2R5O1xuXG4gICAgICAvLyBpZiBtZXRob2QgaXMgR0VUIGFuZCB0aGVyZSBpcyBhIGNoYW5nZXNldCBib3VuZGFyeSBvcGVuIHRoZW4gY2xvc2UgaXRcbiAgICAgIGlmIChtZXRob2QgPT09IE1ldGhvZC5HRVQgJiYgVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMuY2hhbmdlc2V0Qm91bmRhcnkpKSB7XG4gICAgICAgIHJlcyArPSBPRGF0YVF1ZXJ5QmF0Y2guQk9VTkRBUllfUFJFRklYX1NVRkZJWCArIHRoaXMuY2hhbmdlc2V0Qm91bmRhcnkgKyBPRGF0YVF1ZXJ5QmF0Y2guQk9VTkRBUllfUFJFRklYX1NVRkZJWCArIE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuICAgICAgICB0aGlzLmNoYW5nZXNldEJvdW5kYXJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gY2hhbmdlc2V0IGJvdW5kYXJ5IG9wZW4gdGhlbiBvcGVuIGEgYmF0Y2ggYm91bmRhcnlcbiAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLmNoYW5nZXNldEJvdW5kYXJ5KSkge1xuICAgICAgICByZXMgKz0gT0RhdGFRdWVyeUJhdGNoLkJPVU5EQVJZX1BSRUZJWF9TVUZGSVggKyB0aGlzLmJhdGNoQm91bmRhcnkgKyBPRGF0YVF1ZXJ5QmF0Y2guTkVXTElORTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgbWV0aG9kIGlzIG5vdCBHRVQgYW5kIHRoZXJlIGlzIG5vIGNoYW5nZXNldCBib3VuZGFyeSBvcGVuIHRoZW4gb3BlbiBhIGNoYW5nZXNldCBib3VuZGFyeVxuICAgICAgaWYgKG1ldGhvZCAhPT0gTWV0aG9kLkdFVCkge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5jaGFuZ2VzZXRCb3VuZGFyeSkpIHtcbiAgICAgICAgICB0aGlzLmNoYW5nZXNldEJvdW5kYXJ5ID0gT0RhdGFRdWVyeUJhdGNoLkNIQU5HRVNFVF9QUkVGSVggKyB0aGlzLmdldFVVSUQoKTtcbiAgICAgICAgICByZXMgKz0gT0RhdGFRdWVyeUJhdGNoLkNPTlRFTlRfVFlQRSArICc6ICcgKyBPRGF0YVF1ZXJ5QmF0Y2guTVVMVElQQVJUX01JWEVEX0JPVU5EQVJZICsgdGhpcy5jaGFuZ2VzZXRCb3VuZGFyeSArIE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuICAgICAgICAgIHJlcyArPSBPRGF0YVF1ZXJ5QmF0Y2guTkVXTElORTtcbiAgICAgICAgfVxuICAgICAgICByZXMgKz0gT0RhdGFRdWVyeUJhdGNoLkJPVU5EQVJZX1BSRUZJWF9TVUZGSVggKyB0aGlzLmNoYW5nZXNldEJvdW5kYXJ5ICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgICB9XG5cbiAgICAgIHJlcyArPSBPRGF0YVF1ZXJ5QmF0Y2guQ09OVEVOVF9UWVBFICsgJzogJyArIE9EYXRhUXVlcnlCYXRjaC5BUFBMSUNBVElPTl9IVFRQICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgICByZXMgKz0gT0RhdGFRdWVyeUJhdGNoLkNPTlRFTlRfVFJBTlNGRVJfRU5DT0RJTkcgKyAnOiAnICsgT0RhdGFRdWVyeUJhdGNoLkJJTkFSWSArIE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuXG4gICAgICBpZiAobWV0aG9kICE9PSBNZXRob2QuR0VUKSB7XG4gICAgICAgIHJlcyArPSBPRGF0YVF1ZXJ5QmF0Y2guQ09OVEVOVF9JRCArICc6ICcgKyB0aGlzLmNoYW5nZXNldElEKysgKyBPRGF0YVF1ZXJ5QmF0Y2guTkVXTElORTtcbiAgICAgIH1cblxuICAgICAgcmVzICs9IE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuICAgICAgcmVzICs9IE1ldGhvZFttZXRob2RdICsgJyAnICsgb2RhdGFRdWVyeSArICcgJyArIE9EYXRhUXVlcnlCYXRjaC5IVFRQMTEgKyBPRGF0YVF1ZXJ5QmF0Y2guTkVXTElORTtcblxuICAgICAgcmVzICs9IHRoaXMuZ2V0SGVhZGVycyhtZXRob2QsIGh0dHBPcHRpb25zKTtcblxuICAgICAgcmVzICs9IE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gTWV0aG9kLkdFVCB8fCBtZXRob2QgPT09IE1ldGhvZC5ERUxFVEUpIHtcbiAgICAgICAgcmVzICs9IE9EYXRhUXVlcnlCYXRjaC5ORVdMSU5FO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzICs9IEpTT04uc3RyaW5naWZ5KGJvZHkpICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcy5sZW5ndGgpIHtcbiAgICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQodGhpcy5jaGFuZ2VzZXRCb3VuZGFyeSkpIHtcbiAgICAgICAgcmVzICs9IE9EYXRhUXVlcnlCYXRjaC5CT1VOREFSWV9QUkVGSVhfU1VGRklYICsgdGhpcy5jaGFuZ2VzZXRCb3VuZGFyeSArIE9EYXRhUXVlcnlCYXRjaC5CT1VOREFSWV9QUkVGSVhfU1VGRklYICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgICAgIHRoaXMuY2hhbmdlc2V0Qm91bmRhcnkgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmVzICs9IE9EYXRhUXVlcnlCYXRjaC5CT1VOREFSWV9QUkVGSVhfU1VGRklYICsgdGhpcy5iYXRjaEJvdW5kYXJ5ICsgT0RhdGFRdWVyeUJhdGNoLkJPVU5EQVJZX1BSRUZJWF9TVUZGSVg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRIZWFkZXJzKG1ldGhvZDogTWV0aG9kLCBodHRwT3B0aW9uczogSHR0cE9wdGlvbnNJKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzID0gJyc7XG5cbiAgICBpZiAobWV0aG9kID09PSBNZXRob2QuUE9TVCB8fCBtZXRob2QgPT09IE1ldGhvZC5QQVRDSCB8fCBtZXRob2QgPT09IE1ldGhvZC5QVVQpIHtcbiAgICAgIHJlcyArPSBPRGF0YVF1ZXJ5QmF0Y2guQ09OVEVOVF9UWVBFICsgJzogJyArIE9EYXRhUXVlcnlCYXRjaC5BUFBMSUNBVElPTl9KU09OICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgfVxuXG4gICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGh0dHBPcHRpb25zKSB8fCBVdGlscy5pc051bGxPclVuZGVmaW5lZChodHRwT3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBodHRwT3B0aW9ucy5oZWFkZXJzLmtleXMoKSkge1xuICAgICAgcmVzICs9IGtleSArICc6ICcgKyBodHRwT3B0aW9ucy5oZWFkZXJzLmdldEFsbChrZXkpICsgT0RhdGFRdWVyeUJhdGNoLk5FV0xJTkU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIGdldFVVSUQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gVVVJRC5VVUlEKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuXG5leHBvcnQgY2xhc3MgRmlsdGVyU3RyaW5nIGltcGxlbWVudHMgRmlsdGVyIHtcbiAgICBwcml2YXRlIGZpbHRlcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoZmlsdGVyOiBzdHJpbmcpIHtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoZmlsdGVyLCAnZmlsdGVyJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShmaWx0ZXIsICdmaWx0ZXInKTtcbiAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLmZpbHRlcikgfHwgIXRoaXMuZmlsdGVyLmxlbmd0aDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBRdWVyeU9wdGlvbnMgfSBmcm9tICcuL3F1ZXJ5LW9wdGlvbnMnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlci9maWx0ZXInO1xuaW1wb3J0IHsgT3JkZXJieSB9IGZyb20gJy4vb3JkZXJieSc7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tICcuL3NlYXJjaC9zZWFyY2gnO1xuXG5leHBvcnQgY2xhc3MgRXhwYW5kIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgU0VQQVJBVE9SID0gJzsnO1xuICAgIHByaXZhdGUgZW50aXR5U2V0OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBxdWVyeU9wdGlvbnM6IFF1ZXJ5T3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKGVudGl0eVNldDogc3RyaW5nKSB7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKGVudGl0eVNldCwgJ2VudGl0eVNldCcpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoZW50aXR5U2V0LCAnZW50aXR5U2V0Jyk7XG4gICAgICAgIHRoaXMuZW50aXR5U2V0ID0gZW50aXR5U2V0O1xuICAgICAgICB0aGlzLnF1ZXJ5T3B0aW9ucyA9IG5ldyBRdWVyeU9wdGlvbnMoRXhwYW5kLlNFUEFSQVRPUik7XG4gICAgfVxuXG4gICAgLy8gUVVFUlkgT1BUSU9OU1xuXG4gICAgc2VsZWN0KHNlbGVjdDogc3RyaW5nIHwgc3RyaW5nW10pOiBFeHBhbmQge1xuICAgICAgICB0aGlzLnF1ZXJ5T3B0aW9ucy5zZWxlY3Qoc2VsZWN0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZmlsdGVyKGZpbHRlcjogc3RyaW5nIHwgRmlsdGVyKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cGFuZChleHBhbmQ6IHN0cmluZyB8IEV4cGFuZCB8IEV4cGFuZFtdKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMuZXhwYW5kKGV4cGFuZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9yZGVyYnkob3JkZXJieTogc3RyaW5nIHwgT3JkZXJieVtdKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMub3JkZXJieShvcmRlcmJ5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2VhcmNoKHNlYXJjaDogc3RyaW5nIHwgU2VhcmNoKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMuc2VhcmNoKHNlYXJjaCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNraXAoc2tpcDogbnVtYmVyKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMuc2tpcChza2lwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9wKHRvcDogbnVtYmVyKTogRXhwYW5kIHtcbiAgICAgICAgdGhpcy5xdWVyeU9wdGlvbnMudG9wKHRvcCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGN1c3RvbU9wdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnF1ZXJ5T3B0aW9ucy5jdXN0b21PcHRpb24oa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXM6IHN0cmluZyA9IHRoaXMuZW50aXR5U2V0O1xuICAgICAgICBpZiAoIVV0aWxzLmlzRW1wdHkodGhpcy5xdWVyeU9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXMgKz0gJygnICsgdGhpcy5xdWVyeU9wdGlvbnMgKyAnKSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gVXRpbHMuaXNFbXB0eSh0aGlzLmVudGl0eVNldCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5cbmV4cG9ydCBlbnVtIE9yZGVyIHtcbiAgICBBU0MsIERFU0Ncbn1cblxuZXhwb3J0IGNsYXNzIE9yZGVyYnkge1xuICAgIHByaXZhdGUgcHJvcGVydHk6IHN0cmluZztcbiAgICBwcml2YXRlIG9yZGVyOiBPcmRlcjtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIG9yZGVyPzogT3JkZXIpIHtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQocHJvcGVydHksICdwcm9wZXJ0eScpO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucHJvcGVydHk7XG4gICAgICAgIGlmICghVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5vcmRlcikpIHtcbiAgICAgICAgICAgIHJlcyArPSAnICcgKyBPcmRlclt0aGlzLm9yZGVyXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyU3RyaW5nIH0gZnJvbSAnLi9maWx0ZXIvZmlsdGVyLXN0cmluZyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlci9maWx0ZXInO1xuaW1wb3J0IHsgRXhwYW5kIH0gZnJvbSAnLi9leHBhbmQnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBPcmRlcmJ5IH0gZnJvbSAnLi9vcmRlcmJ5JztcbmltcG9ydCB7IFNlYXJjaCB9IGZyb20gJy4vc2VhcmNoL3NlYXJjaCc7XG5cbmV4cG9ydCBjbGFzcyBRdWVyeU9wdGlvbnMge1xuICBwcml2YXRlIF9zZXBhcmF0b3I6IHN0cmluZztcbiAgcHJpdmF0ZSBfc2VsZWN0OiBzdHJpbmdbXTtcbiAgcHJpdmF0ZSBfZmlsdGVyOiBGaWx0ZXI7XG4gIHByaXZhdGUgX2V4cGFuZDogRXhwYW5kW107XG4gIHByaXZhdGUgX29yZGVyYnk6IE9yZGVyYnlbXTtcbiAgcHJpdmF0ZSBfc2VhcmNoOiBzdHJpbmcgfCBTZWFyY2g7XG4gIHByaXZhdGUgX3NraXA6IG51bWJlcjtcbiAgcHJpdmF0ZSBfdG9wOiBudW1iZXI7XG4gIHByaXZhdGUgX2NvdW50OiBib29sZWFuO1xuICBwcml2YXRlIF9jdXN0b21PcHRpb25zOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICBwcml2YXRlIF9mb3JtYXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihzZXBhcmF0b3I6IHN0cmluZykge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHNlcGFyYXRvciwgJ3NlcGFyYXRvcicpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShzZXBhcmF0b3IsICdzZXBhcmF0b3InKTtcbiAgICB0aGlzLl9zZXBhcmF0b3IgPSBzZXBhcmF0b3I7XG4gICAgdGhpcy5fc2VsZWN0ID0gbnVsbDtcbiAgICB0aGlzLl9maWx0ZXIgPSBudWxsO1xuICAgIHRoaXMuX2V4cGFuZCA9IG51bGw7XG4gICAgdGhpcy5fb3JkZXJieSA9IG51bGw7XG4gICAgdGhpcy5fc2VhcmNoID0gbnVsbDtcbiAgICB0aGlzLl9za2lwID0gbnVsbDtcbiAgICB0aGlzLl90b3AgPSBudWxsO1xuICAgIHRoaXMuX2NvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9jdXN0b21PcHRpb25zID0gbnVsbDtcbiAgICB0aGlzLl9mb3JtYXQgPSBudWxsO1xuICB9XG5cbiAgc2VsZWN0KHNlbGVjdDogc3RyaW5nIHwgc3RyaW5nW10pOiBRdWVyeU9wdGlvbnMge1xuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChzZWxlY3QpIHx8IFV0aWxzLmlzRW1wdHkoc2VsZWN0KSkge1xuICAgICAgdGhpcy5fc2VsZWN0ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2VsZWN0ID0gdHlwZW9mIChzZWxlY3QpID09PSAnc3RyaW5nJyA/IFtzZWxlY3RdIDogc2VsZWN0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbHRlcihmaWx0ZXI6IHN0cmluZyB8IEZpbHRlcik6IFF1ZXJ5T3B0aW9ucyB7XG4gICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGZpbHRlcikgfHwgVXRpbHMuaXNFbXB0eShmaWx0ZXIpKSB7XG4gICAgICB0aGlzLl9maWx0ZXIgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maWx0ZXIgPSB0eXBlb2YgKGZpbHRlcikgPT09ICdzdHJpbmcnID8gbmV3IEZpbHRlclN0cmluZyhmaWx0ZXIpIDogZmlsdGVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGV4cGFuZChleHBhbmQ6IHN0cmluZyB8IEV4cGFuZCB8IEV4cGFuZFtdKTogUXVlcnlPcHRpb25zIHtcbiAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQoZXhwYW5kKSB8fCBVdGlscy5pc0VtcHR5KGV4cGFuZCkpIHtcbiAgICAgIHRoaXMuX2V4cGFuZCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2V4cGFuZCA9IHR5cGVvZiAoZXhwYW5kKSA9PT0gJ3N0cmluZycgPyBbbmV3IEV4cGFuZChleHBhbmQpXSA6IGV4cGFuZCBpbnN0YW5jZW9mIEV4cGFuZCA/IFtleHBhbmRdIDogZXhwYW5kO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIG9yZGVyYnkob3JkZXJieTogc3RyaW5nIHwgT3JkZXJieVtdKTogUXVlcnlPcHRpb25zIHtcbiAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQob3JkZXJieSkgfHwgVXRpbHMuaXNFbXB0eShvcmRlcmJ5KSkge1xuICAgICAgdGhpcy5fb3JkZXJieSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29yZGVyYnkgPSB0eXBlb2YgKG9yZGVyYnkpID09PSAnc3RyaW5nJyA/IFtuZXcgT3JkZXJieShvcmRlcmJ5KV0gOiBvcmRlcmJ5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlYXJjaChzZWFyY2g6IHN0cmluZyB8IFNlYXJjaCk6IFF1ZXJ5T3B0aW9ucyB7XG4gICAgdGhpcy5fc2VhcmNoID0gc2VhcmNoO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2tpcChza2lwOiBudW1iZXIpOiBRdWVyeU9wdGlvbnMge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROZWdhdGl2ZShza2lwLCAnc2tpcCcpO1xuICAgIHRoaXMuX3NraXAgPSBza2lwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdG9wKHRvcDogbnVtYmVyKTogUXVlcnlPcHRpb25zIHtcbiAgICBVdGlscy5yZXF1aXJlTm90TmVnYXRpdmUodG9wLCAndG9wJyk7XG4gICAgdGhpcy5fdG9wID0gdG9wO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY291bnQoY291bnQ6IGJvb2xlYW4pOiBRdWVyeU9wdGlvbnMge1xuICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmb3JtYXQoZm9ybWF0OiBzdHJpbmcpOiBRdWVyeU9wdGlvbnMge1xuICAgIHRoaXMuX2Zvcm1hdCA9IGZvcm1hdDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGN1c3RvbU9wdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKGtleSwgJ2tleScpO1xuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9jdXN0b21PcHRpb25zKSkge1xuICAgICAgdGhpcy5fY3VzdG9tT3B0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgfVxuICAgIHRoaXMuX2N1c3RvbU9wdGlvbnMuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAvLyBxdWVyeSBvcHRpb25zXG4gICAgbGV0IHF1ZXJ5T3B0aW9ucyA9ICcnO1xuXG4gICAgLy8gYWRkIHNlbGVjdFxuICAgIGlmICghVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fc2VsZWN0KSAmJiAhVXRpbHMuaXNFbXB0eSh0aGlzLl9zZWxlY3QpKSB7XG4gICAgICBxdWVyeU9wdGlvbnMgKz0gJyRzZWxlY3Q9JztcbiAgICAgIGlmICh0eXBlb2YgKHRoaXMuX3NlbGVjdCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9zZWxlY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeU9wdGlvbnMgKz0gVXRpbHMudG9TdHJpbmcodGhpcy5fc2VsZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgZmlsdGVyXG4gICAgaWYgKCFVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9maWx0ZXIpICYmICFVdGlscy5pc0VtcHR5KHRoaXMuX2ZpbHRlcikpIHtcbiAgICAgIGlmIChxdWVyeU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9zZXBhcmF0b3I7XG4gICAgICB9XG4gICAgICBxdWVyeU9wdGlvbnMgKz0gJyRmaWx0ZXI9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLl9maWx0ZXIudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgLy8gYWRkIGV4cGFuZFxuICAgIGlmICghVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fZXhwYW5kKSAmJiAhVXRpbHMuaXNFbXB0eSh0aGlzLl9leHBhbmQpKSB7XG4gICAgICBpZiAocXVlcnlPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBxdWVyeU9wdGlvbnMgKz0gdGhpcy5fc2VwYXJhdG9yO1xuICAgICAgfVxuICAgICAgcXVlcnlPcHRpb25zICs9ICckZXhwYW5kPSc7XG4gICAgICBpZiAodHlwZW9mICh0aGlzLl9leHBhbmQpID09PSAnc3RyaW5nJykge1xuICAgICAgICBxdWVyeU9wdGlvbnMgKz0gdGhpcy5fZXhwYW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlPcHRpb25zICs9IFV0aWxzLnRvU3RyaW5nKHRoaXMuX2V4cGFuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIG9yZGVyYnlcbiAgICBpZiAoIVV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX29yZGVyYnkpICYmICFVdGlscy5pc0VtcHR5KHRoaXMuX29yZGVyYnkpKSB7XG4gICAgICBpZiAocXVlcnlPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBxdWVyeU9wdGlvbnMgKz0gdGhpcy5fc2VwYXJhdG9yO1xuICAgICAgfVxuICAgICAgcXVlcnlPcHRpb25zICs9ICckb3JkZXJieT0nO1xuICAgICAgaWYgKHR5cGVvZiAodGhpcy5fb3JkZXJieSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9vcmRlcmJ5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlPcHRpb25zICs9IFV0aWxzLnRvU3RyaW5nKHRoaXMuX29yZGVyYnkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBzZWFyY2hcbiAgICBpZiAoIVV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX3NlYXJjaCkgJiYgIVV0aWxzLmlzRW1wdHkodGhpcy5fc2VhcmNoKSkge1xuICAgICAgaWYgKHF1ZXJ5T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnlPcHRpb25zICs9IHRoaXMuX3NlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5T3B0aW9ucyArPSAnJHNlYXJjaD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuX3NlYXJjaC50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgc2tpcFxuICAgIGlmICghVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fc2tpcCkgJiYgIVV0aWxzLmlzRW1wdHkodGhpcy5fc2tpcCkpIHtcbiAgICAgIGlmIChxdWVyeU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9zZXBhcmF0b3I7XG4gICAgICB9XG4gICAgICBxdWVyeU9wdGlvbnMgKz0gJyRza2lwPScgKyB0aGlzLl9za2lwO1xuICAgIH1cblxuICAgIC8vIGFkZCB0b3BcbiAgICBpZiAoIVV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX3RvcCkgJiYgIVV0aWxzLmlzRW1wdHkodGhpcy5fdG9wKSkge1xuICAgICAgaWYgKHF1ZXJ5T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnlPcHRpb25zICs9IHRoaXMuX3NlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5T3B0aW9ucyArPSAnJHRvcD0nICsgdGhpcy5fdG9wO1xuICAgIH1cblxuICAgIC8vIGFkZCBjb3VudFxuICAgIGlmICghVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fY291bnQpICYmICFVdGlscy5pc0VtcHR5KHRoaXMuX2NvdW50KSkge1xuICAgICAgaWYgKHF1ZXJ5T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnlPcHRpb25zICs9IHRoaXMuX3NlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5T3B0aW9ucyArPSAnJGNvdW50PScgKyB0aGlzLl9jb3VudDtcbiAgICB9XG5cbiAgICAvLyBhZGQgY3VzdG9tIHF1ZXJ5IG9wdGlvbnNcbiAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMuX2N1c3RvbU9wdGlvbnMpICYmIHRoaXMuX2N1c3RvbU9wdGlvbnMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX2N1c3RvbU9wdGlvbnMuZm9yRWFjaCgodmFsdWU6IHN0cmluZywga2V5OiBzdHJpbmcsIG1hcDogTWFwPHN0cmluZywgc3RyaW5nPikgPT4ge1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGtleSkgJiYgIVV0aWxzLmlzRW1wdHkoa2V5KVxuICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSkgJiYgIVV0aWxzLmlzRW1wdHkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHF1ZXJ5T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9zZXBhcmF0b3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXJ5T3B0aW9ucyArPSBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhZGQgZm9ybWF0XG4gICAgaWYgKCFVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9mb3JtYXQpICYmICFVdGlscy5pc0VtcHR5KHRoaXMuX2Zvcm1hdCkpIHtcbiAgICAgIGlmIChxdWVyeU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucyArPSB0aGlzLl9zZXBhcmF0b3I7XG4gICAgICB9XG4gICAgICBxdWVyeU9wdGlvbnMgKz0gJyRmb3JtYXQ9JyArIHRoaXMuX2Zvcm1hdDtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnlPcHRpb25zO1xuICB9XG5cbiAgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzKSB7XG4gICAgICBpZiAoa2V5ID09PSAnX3B1cnBvc2UnIHx8IGtleSA9PT0gJ19zZXBhcmF0b3InKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhVXRpbHMuaXNFbXB0eSh0aGlzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgT0RhdGFSZXNwb25zZSB9IGZyb20gJy4uL29kYXRhLXJlc3BvbnNlL29kYXRhLXJlc3BvbnNlJztcbmltcG9ydCB7IEh0dHBPcHRpb25zSSB9IGZyb20gJy4uL29kYXRhLXNlcnZpY2UvaHR0cC1vcHRpb25zJztcbmltcG9ydCB7IE9EYXRhU2VydmljZSB9IGZyb20gJy4uL29kYXRhLXNlcnZpY2Uvb2RhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBFeHBhbmQgfSBmcm9tICcuLi9xdWVyeS1vcHRpb25zL2V4cGFuZCc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi9xdWVyeS1vcHRpb25zL2ZpbHRlci9maWx0ZXInO1xuaW1wb3J0IHsgT3JkZXJieSB9IGZyb20gJy4uL3F1ZXJ5LW9wdGlvbnMvb3JkZXJieSc7XG5pbXBvcnQgeyBRdWVyeU9wdGlvbnMgfSBmcm9tICcuLi9xdWVyeS1vcHRpb25zL3F1ZXJ5LW9wdGlvbnMnO1xuaW1wb3J0IHsgU2VhcmNoIH0gZnJvbSAnLi4vcXVlcnktb3B0aW9ucy9zZWFyY2gvc2VhcmNoJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgT0RhdGFRdWVyeUFic3RyYWN0IH0gZnJvbSAnLi9vZGF0YS1xdWVyeS1hYnN0cmFjdCc7XG5pbXBvcnQgeyBPRGF0YVF1ZXJ5QmF0Y2ggfSBmcm9tICcuL29kYXRhLXF1ZXJ5LWJhdGNoJztcblxuZXhwb3J0IGNsYXNzIE9EYXRhUXVlcnkgZXh0ZW5kcyBPRGF0YVF1ZXJ5QWJzdHJhY3Qge1xuICAvLyBRVUVSWSBPUFRJT05TIFNFUEFSQVRPUlxuICBzdGF0aWMgcmVhZG9ubHkgU0VQQVJBVE9SID0gJyYnO1xuXG4gIC8vIFNFR01FTlQgTkFNRVNcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTUVUQURBVEEgPSAnbWV0YWRhdGEnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBFTlRJVFlfU0VUID0gJ2VudGl0eVNldCc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEVOVElUWV9LRVkgPSAnZW50aXR5S2V5JztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU0lOR0xFVE9OID0gJ3NpbmdsZXRvbic7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRZUEVfTkFNRSA9ICd0eXBlTmFtZSc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFBST1BFUlRZID0gJ3Byb3BlcnR5JztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTkFWSUdBVElPTl9QUk9QRVJUWSA9ICduYXZpZ2F0aW9uUHJvcGVydHknO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBSRUYgPSAncmVmJztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVkFMVUUgPSAndmFsdWUnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDT1VOVCA9ICdjb3VudCc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEZVTkNUSU9OX0NBTEwgPSAnZnVuY3Rpb25DYWxsJztcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OX0NBTEwgPSAnYWN0aW9uQ2FsbCc7XG5cbiAgLy8gQ09OU1RBTlQgU0VHTUVOVFNcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgJE1FVEFEQVRBID0gJyRtZXRhZGF0YSc7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5ICRSRUYgPSAnJHJlZic7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5ICRWQUxVRSA9ICckdmFsdWUnO1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSAkQ09VTlQgPSAnJGNvdW50JztcblxuICAvLyBWQVJJQUJMRVNcbiAgcHJpdmF0ZSBxdWVyeU9wdGlvbnM6IFF1ZXJ5T3B0aW9ucztcbiAgcHJpdmF0ZSBzZWdtZW50czogc3RyaW5nW107XG4gIHByaXZhdGUgbGFzdFNlZ21lbnQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvZGF0YVNlcnZpY2U6IE9EYXRhU2VydmljZSwgc2VydmljZVJvb3Q6IHN0cmluZykge1xuICAgIHN1cGVyKG9kYXRhU2VydmljZSwgc2VydmljZVJvb3QpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhU2VydmljZSwgJ29kYXRhU2VydmljZScpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHNlcnZpY2VSb290LCAnc2VydmljZVJvb3QnKTtcbiAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoc2VydmljZVJvb3QsICdzZXJ2aWNlUm9vdCcpO1xuICAgIHRoaXMucXVlcnlPcHRpb25zID0gbmV3IFF1ZXJ5T3B0aW9ucyhPRGF0YVF1ZXJ5LlNFUEFSQVRPUik7XG4gICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgIHRoaXMubGFzdFNlZ21lbnQgPSBudWxsO1xuICB9XG5cbiAgLy8gUVVFUlkgU0VHTUVOVFNcblxuICBtZXRhZGF0YSgpOiBPRGF0YVF1ZXJ5IHtcbiAgICBVdGlscy5yZXF1aXJlTnVsbE9yVW5kZWZpbmVkKHRoaXMuZ2V0U2VnbWVudChPRGF0YVF1ZXJ5Lk1FVEFEQVRBKSwgT0RhdGFRdWVyeS5NRVRBREFUQSk7XG4gICAgaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGFkYXRhIHNlZ21lbnQgY2Fubm90IGJlIGFwcGVuZGVkIHRvIG90aGVyIHNlZ21lbnRzJyk7XG4gICAgfVxuICAgIHRoaXMucXVlcnlTdHJpbmcgPSBVdGlscy5hcHBlbmRTZWdtZW50KHRoaXMucXVlcnlTdHJpbmcsIE9EYXRhUXVlcnkuJE1FVEFEQVRBKTtcbiAgICB0aGlzLmFkZFNlZ21lbnQoT0RhdGFRdWVyeS5NRVRBREFUQSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBlbnRpdHlTZXQoZW50aXR5U2V0OiBzdHJpbmcpOiBPRGF0YVF1ZXJ5IHtcbiAgICBVdGlscy5yZXF1aXJlTnVsbE9yVW5kZWZpbmVkKHRoaXMuZ2V0U2VnbWVudChPRGF0YVF1ZXJ5LkVOVElUWV9TRVQpLCBPRGF0YVF1ZXJ5LkVOVElUWV9TRVQpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKGVudGl0eVNldCwgJ2VudGl0eVNldCcpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShlbnRpdHlTZXQsICdlbnRpdHlTZXQnKTtcbiAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gVXRpbHMuYXBwZW5kU2VnbWVudCh0aGlzLnF1ZXJ5U3RyaW5nLCBlbnRpdHlTZXQpO1xuICAgIHRoaXMuYWRkU2VnbWVudChPRGF0YVF1ZXJ5LkVOVElUWV9TRVQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZW50aXR5S2V5KGVudGl0eUtleTogYW55IHwgYW55W10pOiBPRGF0YVF1ZXJ5IHtcbiAgICBpZiAodGhpcy5sYXN0U2VnbWVudCAhPT0gT0RhdGFRdWVyeS5FTlRJVFlfU0VUICYmIHRoaXMubGFzdFNlZ21lbnQgIT09IE9EYXRhUXVlcnkuTkFWSUdBVElPTl9QUk9QRVJUWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdlbnRpdHlLZXkgY2FuIG9ubHkgYmUgYXBwZW5kZWQgdG8gZW50aXR5U2V0IG9yIG5hdmlnYXRpb25Qcm9wZXJ0eScpO1xuICAgIH1cbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChlbnRpdHlLZXksICdlbnRpdHlLZXknKTtcbiAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoZW50aXR5S2V5LCAnZW50aXR5S2V5Jyk7XG4gICAgZW50aXR5S2V5ID0gVXRpbHMuZ2V0VmFsdWVVUkkoZW50aXR5S2V5LCB0cnVlKTtcbiAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gVXRpbHMucmVtb3ZlRW5kaW5nU2VwYXJhdG9yKHRoaXMucXVlcnlTdHJpbmcpICsgJygnICsgZW50aXR5S2V5ICsgJyknO1xuICAgIHRoaXMuYWRkU2VnbWVudChPRGF0YVF1ZXJ5LkVOVElUWV9LRVkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2luZ2xldG9uKHNpbmdsZXRvbjogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpbmdsZXRvbiBzZWdtZW50IGNhbm5vdCBiZSBhcHBlbmRlZCB0byBvdGhlciBzZWdtZW50cycpO1xuICAgIH1cbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChzaW5nbGV0b24sICdzaW5nbGV0b24nKTtcbiAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoc2luZ2xldG9uLCAnc2luZ2xldG9uJyk7XG4gICAgdGhpcy5xdWVyeVN0cmluZyA9IFV0aWxzLmFwcGVuZFNlZ21lbnQodGhpcy5xdWVyeVN0cmluZywgc2luZ2xldG9uKTtcbiAgICB0aGlzLmFkZFNlZ21lbnQoT0RhdGFRdWVyeS5TSU5HTEVUT04pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdHlwZU5hbWUodHlwZU5hbWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmxhc3RTZWdtZW50ICE9PSBPRGF0YVF1ZXJ5LkVOVElUWV9TRVQgJiYgdGhpcy5sYXN0U2VnbWVudCAhPT0gT0RhdGFRdWVyeS5OQVZJR0FUSU9OX1BST1BFUlRZICYmIHRoaXMubGFzdFNlZ21lbnQgIT09IE9EYXRhUXVlcnkuRU5USVRZX0tFWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0eXBlTmFtZSBjYW4gb25seSBiZSBhcHBlbmRlZCB0byBlbnRpdHlTZXQsIG5hdmlnYXRpb25Qcm9wZXJ0eSBvciBlbnRpdHlLZXknKTtcbiAgICB9XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodHlwZU5hbWUsICd0eXBlTmFtZScpO1xuICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh0eXBlTmFtZSwgJ3R5cGVOYW1lJyk7XG4gICAgdGhpcy5xdWVyeVN0cmluZyA9IFV0aWxzLmFwcGVuZFNlZ21lbnQodGhpcy5xdWVyeVN0cmluZywgdHlwZU5hbWUpO1xuICAgIHRoaXMuYWRkU2VnbWVudChPRGF0YVF1ZXJ5LlRZUEVfTkFNRSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm9wZXJ0eShwcm9wZXJ0eTogc3RyaW5nKTogT0RhdGFRdWVyeSB7XG4gICAgVXRpbHMucmVxdWlyZU51bGxPclVuZGVmaW5lZCh0aGlzLmdldFNlZ21lbnQoT0RhdGFRdWVyeS5QUk9QRVJUWSksIE9EYXRhUXVlcnkuUFJPUEVSVFkpO1xuICAgIGlmICh0aGlzLmxhc3RTZWdtZW50ICE9PSBPRGF0YVF1ZXJ5LkVOVElUWV9LRVkgJiYgdGhpcy5sYXN0U2VnbWVudCAhPT0gT0RhdGFRdWVyeS5TSU5HTEVUT04pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncHJvcGVydHkgY2FuIG9ubHkgYmUgYXBwZW5kZWQgdG8gZW50aXR5S2V5IG9yIHNpbmdsZXRvbicpO1xuICAgIH1cbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChwcm9wZXJ0eSwgJ3Byb3BlcnR5Jyk7XG4gICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHByb3BlcnR5LCAncHJvcGVydHknKTtcbiAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gVXRpbHMuYXBwZW5kU2VnbWVudCh0aGlzLnF1ZXJ5U3RyaW5nLCBwcm9wZXJ0eSk7XG4gICAgdGhpcy5hZGRTZWdtZW50KE9EYXRhUXVlcnkuUFJPUEVSVFkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbmF2aWdhdGlvblByb3BlcnR5KG5hdmlnYXRpb25Qcm9wZXJ0eTogc3RyaW5nKTogT0RhdGFRdWVyeSB7XG4gICAgaWYgKHRoaXMubGFzdFNlZ21lbnQgIT09IE9EYXRhUXVlcnkuRU5USVRZX0tFWSAmJiB0aGlzLmxhc3RTZWdtZW50ICE9PSBPRGF0YVF1ZXJ5LlNJTkdMRVRPTiAmJiB0aGlzLmxhc3RTZWdtZW50ICE9PSBPRGF0YVF1ZXJ5LlRZUEVfTkFNRSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCduYXZpZ2F0aW9uUHJvcGVydHkgY2FuIG9ubHkgYmUgYXBwZW5kZWQgdG8gZW50aXR5S2V5LCBzaW5nbGV0b24gb3IgdHlwZU5hbWUnKTtcbiAgICB9XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQobmF2aWdhdGlvblByb3BlcnR5LCAnbmF2aWdhdGlvblByb3BlcnR5Jyk7XG4gICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KG5hdmlnYXRpb25Qcm9wZXJ0eSwgJ25hdmlnYXRpb25Qcm9wZXJ0eScpO1xuICAgIHRoaXMucXVlcnlTdHJpbmcgPSBVdGlscy5hcHBlbmRTZWdtZW50KHRoaXMucXVlcnlTdHJpbmcsIG5hdmlnYXRpb25Qcm9wZXJ0eSk7XG4gICAgdGhpcy5hZGRTZWdtZW50KE9EYXRhUXVlcnkuTkFWSUdBVElPTl9QUk9QRVJUWSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZWYoKTogT0RhdGFRdWVyeSB7XG4gICAgVXRpbHMucmVxdWlyZU51bGxPclVuZGVmaW5lZCh0aGlzLmdldFNlZ21lbnQoT0RhdGFRdWVyeS5SRUYpLCBPRGF0YVF1ZXJ5LlJFRik7XG4gICAgaWYgKHRoaXMubGFzdFNlZ21lbnQgIT09IE9EYXRhUXVlcnkuTkFWSUdBVElPTl9QUk9QRVJUWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWYgY2FuIG9ubHkgYmUgYXBwZW5kZWQgdG8gbmF2aWdhdGlvblByb3BlcnR5Jyk7XG4gICAgfVxuICAgIHRoaXMucXVlcnlTdHJpbmcgPSBVdGlscy5hcHBlbmRTZWdtZW50KHRoaXMucXVlcnlTdHJpbmcsIE9EYXRhUXVlcnkuJFJFRik7XG4gICAgdGhpcy5hZGRTZWdtZW50KE9EYXRhUXVlcnkuUkVGKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhbHVlKCk6IE9EYXRhUXVlcnkge1xuICAgIFV0aWxzLnJlcXVpcmVOdWxsT3JVbmRlZmluZWQodGhpcy5nZXRTZWdtZW50KE9EYXRhUXVlcnkuVkFMVUUpLCBPRGF0YVF1ZXJ5LlZBTFVFKTtcbiAgICBpZiAodGhpcy5sYXN0U2VnbWVudCAhPT0gT0RhdGFRdWVyeS5QUk9QRVJUWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBjYW4gb25seSBiZSBhcHBlbmRlZCB0byBwcm9wZXJ0eScpO1xuICAgIH1cbiAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gVXRpbHMuYXBwZW5kU2VnbWVudCh0aGlzLnF1ZXJ5U3RyaW5nLCBPRGF0YVF1ZXJ5LiRWQUxVRSk7XG4gICAgdGhpcy5hZGRTZWdtZW50KE9EYXRhUXVlcnkuVkFMVUUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY291bnRTZWdtZW50KCk6IE9EYXRhUXVlcnkge1xuICAgIFV0aWxzLnJlcXVpcmVOdWxsT3JVbmRlZmluZWQodGhpcy5nZXRTZWdtZW50KE9EYXRhUXVlcnkuQ09VTlQpLCBPRGF0YVF1ZXJ5LkNPVU5UKTtcbiAgICBpZiAodGhpcy5sYXN0U2VnbWVudCAhPT0gT0RhdGFRdWVyeS5FTlRJVFlfU0VUICYmIHRoaXMubGFzdFNlZ21lbnQgIT09IE9EYXRhUXVlcnkuTkFWSUdBVElPTl9QUk9QRVJUWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VudCBjYW4gb25seSBiZSBhcHBlbmRlZCB0byBlbnRpdHlTZXQgb3IgbmF2aWdhdGlvblByb3BlcnR5Jyk7XG4gICAgfVxuICAgIHRoaXMucXVlcnlTdHJpbmcgPSBVdGlscy5hcHBlbmRTZWdtZW50KHRoaXMucXVlcnlTdHJpbmcsIE9EYXRhUXVlcnkuJENPVU5UKTtcbiAgICB0aGlzLmFkZFNlZ21lbnQoT0RhdGFRdWVyeS5DT1VOVCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbkNhbGwoZnVuY3Rpb25DYWxsOiBzdHJpbmcpOiBPRGF0YVF1ZXJ5IHtcbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChmdW5jdGlvbkNhbGwsICdmdW5jdGlvbkNhbGwnKTtcbiAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoZnVuY3Rpb25DYWxsLCAnZnVuY3Rpb25DYWxsJyk7XG4gICAgdGhpcy5xdWVyeVN0cmluZyA9IFV0aWxzLmFwcGVuZFNlZ21lbnQodGhpcy5xdWVyeVN0cmluZywgZnVuY3Rpb25DYWxsKTtcbiAgICB0aGlzLmFkZFNlZ21lbnQoT0RhdGFRdWVyeS5GVU5DVElPTl9DQUxMKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFjdGlvbkNhbGwoYWN0aW9uQ2FsbDogc3RyaW5nKTogT0RhdGFRdWVyeSB7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoYWN0aW9uQ2FsbCwgJ2FjdGlvbkNhbGwnKTtcbiAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoYWN0aW9uQ2FsbCwgJ2FjdGlvbkNhbGwnKTtcbiAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gVXRpbHMuYXBwZW5kU2VnbWVudCh0aGlzLnF1ZXJ5U3RyaW5nLCBhY3Rpb25DYWxsKTtcbiAgICB0aGlzLmFkZFNlZ21lbnQoT0RhdGFRdWVyeS5BQ1RJT05fQ0FMTCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBiYXRjaCgpOiBPRGF0YVF1ZXJ5QmF0Y2gge1xuICAgIHJldHVybiBuZXcgT0RhdGFRdWVyeUJhdGNoKHRoaXMub2RhdGFTZXJ2aWNlLCB0aGlzLnNlcnZpY2VSb290KTtcbiAgfVxuXG4gIC8vIFFVRVJZIE9QVElPTlNcblxuICBzZWxlY3Qoc2VsZWN0OiBzdHJpbmcgfCBzdHJpbmdbXSk6IE9EYXRhUXVlcnkge1xuICAgIHRoaXMucXVlcnlPcHRpb25zLnNlbGVjdChzZWxlY3QpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZmlsdGVyKGZpbHRlcjogc3RyaW5nIHwgRmlsdGVyKTogT0RhdGFRdWVyeSB7XG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuZmlsdGVyKGZpbHRlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBleHBhbmQoZXhwYW5kOiBzdHJpbmcgfCBFeHBhbmQgfCBFeHBhbmRbXSk6IE9EYXRhUXVlcnkge1xuICAgIHRoaXMucXVlcnlPcHRpb25zLmV4cGFuZChleHBhbmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb3JkZXJieShvcmRlcmJ5OiBzdHJpbmcgfCBPcmRlcmJ5W10pOiBPRGF0YVF1ZXJ5IHtcbiAgICB0aGlzLnF1ZXJ5T3B0aW9ucy5vcmRlcmJ5KG9yZGVyYnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2VhcmNoKHNlYXJjaDogc3RyaW5nIHwgU2VhcmNoKTogT0RhdGFRdWVyeSB7XG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuc2VhcmNoKHNlYXJjaCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBza2lwKHNraXA6IG51bWJlcik6IE9EYXRhUXVlcnkge1xuICAgIHRoaXMucXVlcnlPcHRpb25zLnNraXAoc2tpcCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0b3AodG9wOiBudW1iZXIpOiBPRGF0YVF1ZXJ5IHtcbiAgICB0aGlzLnF1ZXJ5T3B0aW9ucy50b3AodG9wKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvdW50T3B0aW9uKGNvdW50OiBib29sZWFuKTogT0RhdGFRdWVyeSB7XG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuY291bnQoY291bnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY3VzdG9tT3B0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuY3VzdG9tT3B0aW9uKGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9ybWF0KGZvcm1hdDogc3RyaW5nKTogT0RhdGFRdWVyeSB7XG4gICAgdGhpcy5xdWVyeU9wdGlvbnMuZm9ybWF0KGZvcm1hdCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBRVUVSWSBFWEVDVVRJT05cblxuICBnZXQoaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5vZGF0YVNlcnZpY2UuZ2V0KHRoaXMsIGh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIHBvc3QoYm9keTogYW55LCBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zSSk6IE9ic2VydmFibGU8T0RhdGFSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLm9kYXRhU2VydmljZS5wb3N0KHRoaXMsIGJvZHksIGh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIHBhdGNoKGJvZHk6IGFueSwgZXRhZz86IHN0cmluZywgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5vZGF0YVNlcnZpY2UucGF0Y2godGhpcywgYm9keSwgZXRhZywgaHR0cE9wdGlvbnMpO1xuICB9XG5cbiAgcHV0KGJvZHk6IGFueSwgZXRhZz86IHN0cmluZywgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5vZGF0YVNlcnZpY2UucHV0KHRoaXMsIGJvZHksIGV0YWcsIGh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIGRlbGV0ZShldGFnPzogc3RyaW5nLCBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zSSk6IE9ic2VydmFibGU8T0RhdGFSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLm9kYXRhU2VydmljZS5kZWxldGUodGhpcywgZXRhZywgaHR0cE9wdGlvbnMpO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzOiBzdHJpbmcgPSB0aGlzLnF1ZXJ5U3RyaW5nO1xuICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQodGhpcy5xdWVyeU9wdGlvbnMpICYmICF0aGlzLnF1ZXJ5T3B0aW9ucy5pc0VtcHR5KCkpIHtcbiAgICAgIHJlcyArPSAnPycgKyB0aGlzLnF1ZXJ5T3B0aW9ucy50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFNlZ21lbnQoc2VnbWVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBVdGlscy5yZXF1aXJlTm90TnVsbChzZWdtZW50LCAnc2VnbWVudCcpO1xuICAgIGNvbnN0IHJlczogc3RyaW5nID0gdGhpcy5zZWdtZW50cy5maW5kKCh2YWx1ZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBzZWdtZW50czogc3RyaW5nW10pID0+IHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gc2VnbWVudDtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFkZFNlZ21lbnQoc2VnbWVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgVXRpbHMucmVxdWlyZU5vdE51bGwoc2VnbWVudCwgJ3NlZ21lbnQnKTtcbiAgICB0aGlzLnNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnNlZ21lbnRzKSAmJiB0aGlzLnNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5sYXN0U2VnbWVudCA9IHRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc2RsQW5ub3RhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYW5ub3RhdGlvbkxpc3Q/OiBDc2RsQW5ub3RhdGlvbltdKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxBbm5vdGF0aW9ucyBleHRlbmRzIENzZGxBbm5vdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdGFyZ2V0OiBzdHJpbmcsXG4gICAgICAgIGFubm90YXRpb25MaXN0OiBDc2RsQW5ub3RhdGlvbltdLFxuICAgICAgICBwdWJsaWMgcXVhbGlmaWVyPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFubm90YXRpb25MaXN0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsQW5ub3RhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB0ZXJtOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBxdWFsaWZpZXI/OiBzdHJpbmdcbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbFRlcm0ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgdHlwZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgYmFzZVRlcm0/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBkZWZhdWx0VmFsdWU/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBhcHBsaWVzVG8/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBudWxsYWJsZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBtYXhMZW5ndGg/OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb24/OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBzY2FsZT86IG51bWJlcixcbiAgICAgICAgcHVibGljIHNyaWQ/OiBzdHJpbmdcbiAgICApIHsgfVxufVxuIiwiaW1wb3J0IHsgQ3NkbEVudGl0eVNldCB9IGZyb20gJy4vY3NkbC1lbnRpdHktc2V0JztcbmltcG9ydCB7IENzZGxTaW5nbGV0b24gfSBmcm9tICcuL2NzZGwtc2luZ2xldG9uJztcbmltcG9ydCB7IENzZGxGdW5jdGlvbkltcG9ydCwgQ3NkbEFjdGlvbkltcG9ydCB9IGZyb20gJy4vY3NkbC1mdW5jdGlvbi1hY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgQ3NkbEVudGl0eUNvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBleHRlbmQ/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBlbnRpdHlTZXRzPzogQ3NkbEVudGl0eVNldFtdLFxuICAgICAgICBwdWJsaWMgc2luZ2xldG9ucz86IENzZGxTaW5nbGV0b25bXSxcbiAgICAgICAgcHVibGljIGZ1bmN0aW9uSW1wb3J0cz86IENzZGxGdW5jdGlvbkltcG9ydFtdLFxuICAgICAgICBwdWJsaWMgYWN0aW9uSW1wb3J0cz86IENzZGxBY3Rpb25JbXBvcnRbXVxuICAgICkgeyB9XG59XG4iLCJpbXBvcnQgeyBDc2RsTmF2aWdhdGlvblByb3BlcnR5QmluZGluZyB9IGZyb20gJy4vY3NkbC1uYXZpZ2F0aW9uLXByb3BlcnR5LWJpbmRpbmcnO1xuXG5leHBvcnQgY2xhc3MgQ3NkbEVudGl0eVNldCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBlbnRpdHlUeXBlOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBuYXZpZ2F0aW9uUHJvcGVydHlCaW5kaW5nPzogQ3NkbE5hdmlnYXRpb25Qcm9wZXJ0eUJpbmRpbmdbXSxcbiAgICAgICAgcHVibGljIGluY2x1ZGVJblNlcnZpY2VEb2N1bWVudD86IGJvb2xlYW5cbiAgICApIHtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc2RsRW51bVR5cGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgbWVtYmVyczogQ3NkbEVudW1NZW1iZXJbXSxcbiAgICAgICAgcHVibGljIHVuZGVybHlpbmdUeXBlPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgaXNGbGFncz86IGJvb2xlYW5cbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbEVudW1NZW1iZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgdmFsdWU/OiBudW1iZXJcbiAgICApIHsgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENzZGxGdW5jdGlvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyByZXR1cm5UeXBlOiBDc2RsUmV0dXJuVHlwZSxcbiAgICAgICAgcHVibGljIGlzQm91bmQ/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgZW50aXR5U2V0UGF0aD86IHN0cmluZyxcbiAgICAgICAgcHVibGljIGlzQ29tcG9zYWJsZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBwYXJhbWV0ZXJzPzogQ3NkbFBhcmFtZXRlcltdXG4gICAgKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgcmV0dXJuVHlwZT86IENzZGxSZXR1cm5UeXBlLFxuICAgICAgICBwdWJsaWMgaXNCb3VuZD86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBlbnRpdHlTZXRQYXRoPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgcGFyYW1ldGVycz86IENzZGxQYXJhbWV0ZXJbXVxuICAgICkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsRnVuY3Rpb25JbXBvcnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgZnVuY3Rpb25OYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBlbnRpdHlTZXQ/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBJbmNsdWRlSW5TZXJ2aWNlRG9jdW1lbnQ/OiBib29sZWFuXG4gICAgKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxBY3Rpb25JbXBvcnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgYWN0aW9uOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBlbnRpdHlTZXQ/OiBzdHJpbmdcbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbFBhcmFtZXRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB0eXBlOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBudWxsYWJsZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBtYXhMZW5ndGg/OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb24/OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBzY2FsZT86IG51bWJlcixcbiAgICAgICAgcHVibGljIHNyaWQ/OiBzdHJpbmdcbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbFJldHVyblR5cGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdHlwZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgbnVsbGFibGU/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgbWF4TGVuZ3RoPzogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgcHJlY2lzaW9uPzogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgc2NhbGU/OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBzcmlkPzogc3RyaW5nXG4gICAgKSB7IH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc2RsTmF2aWdhdGlvblByb3BlcnR5QmluZGluZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBwYXRoOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB0YXJnZXQ6IHN0cmluZyxcbiAgICApIHsgfVxufVxuIiwiaW1wb3J0IHsgQ3NkbEFubm90YWJsZSwgQ3NkbEFubm90YXRpb24gfSBmcm9tICcuL2NzZGwtYW5ub3RhdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBDc2RsUmVmZXJlbmNlIGV4dGVuZHMgQ3NkbEFubm90YWJsZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB1cmk6IHN0cmluZyxcbiAgICAgICAgcHVibGljIGluY2x1ZGVzPzogQ3NkbEluY2x1ZGVbXSxcbiAgICAgICAgcHVibGljIGluY2x1ZGVBbm5vdGF0aW9ucz86IENzZGxJbmNsdWRlQW5ub3RhdGlvbnNbXSxcbiAgICAgICAgYW5ub3RhdGlvbkxpc3Q/OiBDc2RsQW5ub3RhdGlvbltdXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFubm90YXRpb25MaXN0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsSW5jbHVkZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZyxcbiAgICAgICAgcHVibGljIGFsaWFzPzogc3RyaW5nXG4gICAgKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxJbmNsdWRlQW5ub3RhdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdGVybU5hbWVzcGFjZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgcXVhbGlmaWVyPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgdGFyZ2V0TmFtZXNwYWNlPzogc3RyaW5nXG4gICAgKSB7IH1cbn1cbiIsImltcG9ydCB7IENzZGxBbm5vdGF0aW9uLCBDc2RsQW5ub3RhYmxlLCBDc2RsVGVybSwgQ3NkbEFubm90YXRpb25zIH0gZnJvbSAnLi9jc2RsLWFubm90YXRpb24nO1xuaW1wb3J0IHsgQ3NkbFR5cGVEZWZpbml0aW9uIH0gZnJvbSAnLi9jc2RsLXR5cGUtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyBDc2RsRW51bVR5cGUgfSBmcm9tICcuL2NzZGwtZW51bS10eXBlJztcbmltcG9ydCB7IENzZGxFbnRpdHlUeXBlLCBDc2RsQ29tcGxleFR5cGUgfSBmcm9tICcuL2NzZGwtc3RydWN0dXJlZC10eXBlJztcbmltcG9ydCB7IENzZGxGdW5jdGlvbiwgQ3NkbEFjdGlvbiB9IGZyb20gJy4vY3NkbC1mdW5jdGlvbi1hY3Rpb24nO1xuaW1wb3J0IHsgQ3NkbEVudGl0eUNvbnRhaW5lciB9IGZyb20gJy4vY3NkbC1lbnRpdHktY29udGFpbmVyJztcblxuZXhwb3J0IGNsYXNzIENzZGxTY2hlbWEgZXh0ZW5kcyBDc2RsQW5ub3RhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIG5hbWVzcGFjZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgYWxpYXM/OiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBlbnVtVHlwZXM/OiBDc2RsRW51bVR5cGVbXSxcbiAgICAgICAgcHVibGljIGNvbXBsZXhUeXBlcz86IENzZGxDb21wbGV4VHlwZVtdLFxuICAgICAgICBwdWJsaWMgZW50aXR5VHlwZXM/OiBDc2RsRW50aXR5VHlwZVtdLFxuICAgICAgICBwdWJsaWMgZnVuY3Rpb25zPzogQ3NkbEZ1bmN0aW9uW10sXG4gICAgICAgIHB1YmxpYyBhY3Rpb25zPzogQ3NkbEFjdGlvbltdLFxuICAgICAgICBwdWJsaWMgZW50aXR5Q29udGFpbmVyPzogQ3NkbEVudGl0eUNvbnRhaW5lcixcbiAgICAgICAgcHVibGljIHR5cGVEZWZpbml0aW9ucz86IENzZGxUeXBlRGVmaW5pdGlvbltdLFxuICAgICAgICBwdWJsaWMgdGVybXM/OiBDc2RsVGVybVtdLFxuICAgICAgICBwdWJsaWMgYW5ub3RhdGlvbnNMaXN0PzogQ3NkbEFubm90YXRpb25zW10sXG4gICAgICAgIGFubm90YXRpb25MaXN0PzogQ3NkbEFubm90YXRpb25bXVxuICAgICkge1xuICAgICAgICBzdXBlcihhbm5vdGF0aW9uTGlzdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ3NkbE5hdmlnYXRpb25Qcm9wZXJ0eUJpbmRpbmcgfSBmcm9tICcuL2NzZGwtbmF2aWdhdGlvbi1wcm9wZXJ0eS1iaW5kaW5nJztcblxuZXhwb3J0IGNsYXNzIENzZGxTaW5nbGV0b24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgdHlwZTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgbmF2aWdhdGlvblByb3BlcnR5QmluZGluZ3M/OiBDc2RsTmF2aWdhdGlvblByb3BlcnR5QmluZGluZ1tdXG4gICAgKSB7IH1cbn1cbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDc2RsU3RydWN0dXJhbFByb3BlcnR5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIHR5cGU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIG51bGxhYmxlPzogYm9vbGVhblxuICAgICkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsUHJvcGVydHkgZXh0ZW5kcyBDc2RsU3RydWN0dXJhbFByb3BlcnR5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgIG51bGxhYmxlPzogYm9vbGVhbixcbiAgICAgICAgcHVibGljIG1heExlbmd0aD86IG51bWJlcixcbiAgICAgICAgcHVibGljIHByZWNpc2lvbj86IG51bWJlcixcbiAgICAgICAgcHVibGljIHNjYWxlPzogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgdW5pY29kZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBzcmlkPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgZGVmYXVsdFZhbHVlPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIHR5cGUsIG51bGxhYmxlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsTmF2aWdhdGlvblByb3BlcnR5IGV4dGVuZHMgQ3NkbFN0cnVjdHVyYWxQcm9wZXJ0eSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgdHlwZTogc3RyaW5nLFxuICAgICAgICBudWxsYWJsZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBwYXJ0bmVyPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgY29udGFpbnNUYXJnZXQ/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgcmVmZXJlbnRpYWxDb25zdHJhaW50cz86IENzZGxSZWZlcmVudGlhbENvbnN0cmFpbnRbXSxcbiAgICAgICAgcHVibGljIG9uRGVsZXRlPzogQ3NkbE9uRGVsZXRlLFxuICAgICkge1xuICAgICAgICBzdXBlcihuYW1lLCB0eXBlLCBudWxsYWJsZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbFJlZmVyZW50aWFsQ29uc3RyYWludCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBwcm9wZXJ0eTogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgcmVmZXJlbmNlZFByb3BlcnR5OiBzdHJpbmdcbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbE9uRGVsZXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGFjdGlvbjogc3RyaW5nXG4gICAgKSB7IH1cbn1cbiIsImltcG9ydCB7IENzZGxQcm9wZXJ0eSwgQ3NkbE5hdmlnYXRpb25Qcm9wZXJ0eSB9IGZyb20gJy4vY3NkbC1zdHJ1Y3R1cmFsLXByb3BlcnR5JztcblxuZXhwb3J0IGNsYXNzIENzZGxTdHJ1Y3R1cmVkVHlwZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBwcm9wZXJ0aWVzPzogQ3NkbFByb3BlcnR5W10sXG4gICAgICAgIHB1YmxpYyBuYXZpZ2F0aW9uUHJvcGVydGllcz86IENzZGxOYXZpZ2F0aW9uUHJvcGVydHlbXSxcbiAgICAgICAgcHVibGljIGJhc2VUeXBlPzogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgb3BlblR5cGU/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgYWJzdHJhY3Q/OiBib29sZWFuXG4gICAgKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxDb21wbGV4VHlwZSBleHRlbmRzIENzZGxTdHJ1Y3R1cmVkVHlwZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJvcGVydGllcz86IENzZGxQcm9wZXJ0eVtdLFxuICAgICAgICBuYXZpZ2F0aW9uUHJvcGVydGllcz86IENzZGxOYXZpZ2F0aW9uUHJvcGVydHlbXSxcbiAgICAgICAgYmFzZVR5cGU/OiBzdHJpbmcsXG4gICAgICAgIG9wZW5UeXBlPzogYm9vbGVhbixcbiAgICAgICAgYWJzdHJhY3Q/OiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIHByb3BlcnRpZXMsIG5hdmlnYXRpb25Qcm9wZXJ0aWVzLCBiYXNlVHlwZSwgb3BlblR5cGUsIGFic3RyYWN0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDc2RsRW50aXR5VHlwZSBleHRlbmRzIENzZGxTdHJ1Y3R1cmVkVHlwZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIGtleT86IENzZGxLZXksXG4gICAgICAgIHByb3BlcnRpZXM/OiBDc2RsUHJvcGVydHlbXSxcbiAgICAgICAgbmF2aWdhdGlvblByb3BlcnRpZXM/OiBDc2RsTmF2aWdhdGlvblByb3BlcnR5W10sXG4gICAgICAgIGJhc2VUeXBlPzogc3RyaW5nLFxuICAgICAgICBvcGVuVHlwZT86IGJvb2xlYW4sXG4gICAgICAgIGFic3RyYWN0PzogYm9vbGVhbixcbiAgICAgICAgcHVibGljIGhhc1N0cmVhbT86IGJvb2xlYW5cbiAgICApIHtcbiAgICAgICAgc3VwZXIobmFtZSwgcHJvcGVydGllcywgbmF2aWdhdGlvblByb3BlcnRpZXMsIGJhc2VUeXBlLCBvcGVuVHlwZSwgYWJzdHJhY3QpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENzZGxLZXkge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcHJvcGVydHlSZWZzOiBDc2RsUHJvcGVydHlSZWZbXSxcbiAgICApIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NkbFByb3BlcnR5UmVmIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIGFsaWFzPzogc3RyaW5nXG4gICAgKSB7IH1cbn1cbiIsImltcG9ydCB7IENzZGxBbm5vdGFibGUsIENzZGxBbm5vdGF0aW9uIH0gZnJvbSAnLi9jc2RsLWFubm90YXRpb24nO1xuXG5leHBvcnQgY2xhc3MgQ3NkbFR5cGVEZWZpbml0aW9uIGV4dGVuZHMgQ3NkbEFubm90YWJsZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB1bmRlcmxheWluZ1R5cGU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIG1heExlbmd0aD86IG51bWJlcixcbiAgICAgICAgcHVibGljIHByZWNpc2lvbj86IG51bWJlcixcbiAgICAgICAgcHVibGljIHNjYWxlPzogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgdW5pY29kZT86IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBzcmlkPzogc3RyaW5nLFxuICAgICAgICBhbm5vdGF0aW9uTGlzdD86IENzZGxBbm5vdGF0aW9uW10pIHtcbiAgICAgICAgc3VwZXIoYW5ub3RhdGlvbkxpc3QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuZXhwb3J0IGNsYXNzIEVudGl0eVNldDxUPiB7XG4gICAgcHJpdmF0ZSBlbnRpdGllczogVFtdO1xuICAgIHByaXZhdGUgY291bnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGVudGl0aWVzOiBUW10sIGNvdW50OiBudW1iZXIsIHR5cGU6IChuZXcgKCkgPT4gVCkpIHtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoZW50aXRpZXMsICdlbnRpdGllcycpO1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XG4gICAgICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0eXBlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChPYmplY3QuYXNzaWduKHt9LCBlbnRpdHkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKE9iamVjdC5hc3NpZ24obmV3IHR5cGUoKSwgZW50aXR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgfVxuXG4gICAgZ2V0RW50aXRpZXMoKTogVFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXM7XG4gICAgfVxuXG4gICAgZ2V0Q291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ3NkbFR5cGVEZWZpbml0aW9uIH0gZnJvbSAnLi9jc2RsL2NzZGwtdHlwZS1kZWZpbml0aW9uJztcbmltcG9ydCB7IENzZGxTY2hlbWEgfSBmcm9tICcuL2NzZGwvY3NkbC1zY2hlbWEnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBDc2RsRW51bVR5cGUsIENzZGxFbnVtTWVtYmVyIH0gZnJvbSAnLi9jc2RsL2NzZGwtZW51bS10eXBlJztcbmltcG9ydCB7IENzZGxFbnRpdHlUeXBlLCBDc2RsUHJvcGVydHlSZWYsIENzZGxLZXksIENzZGxDb21wbGV4VHlwZSB9IGZyb20gJy4vY3NkbC9jc2RsLXN0cnVjdHVyZWQtdHlwZSc7XG5pbXBvcnQgeyBDc2RsRnVuY3Rpb24sIENzZGxQYXJhbWV0ZXIsIENzZGxGdW5jdGlvbkltcG9ydCwgQ3NkbEFjdGlvbkltcG9ydCwgQ3NkbFJldHVyblR5cGUsIENzZGxBY3Rpb24gfSBmcm9tICcuL2NzZGwvY3NkbC1mdW5jdGlvbi1hY3Rpb24nO1xuaW1wb3J0IHsgQ3NkbFByb3BlcnR5LCBDc2RsTmF2aWdhdGlvblByb3BlcnR5LCBDc2RsUmVmZXJlbnRpYWxDb25zdHJhaW50LCBDc2RsT25EZWxldGUgfSBmcm9tICcuL2NzZGwvY3NkbC1zdHJ1Y3R1cmFsLXByb3BlcnR5JztcbmltcG9ydCB7IENzZGxFbnRpdHlTZXQgfSBmcm9tICcuL2NzZGwvY3NkbC1lbnRpdHktc2V0JztcbmltcG9ydCB7IENzZGxTaW5nbGV0b24gfSBmcm9tICcuL2NzZGwvY3NkbC1zaW5nbGV0b24nO1xuaW1wb3J0IHsgQ3NkbEVudGl0eUNvbnRhaW5lciB9IGZyb20gJy4vY3NkbC9jc2RsLWVudGl0eS1jb250YWluZXInO1xuaW1wb3J0IHsgQ3NkbFJlZmVyZW5jZSwgQ3NkbEluY2x1ZGUsIENzZGxJbmNsdWRlQW5ub3RhdGlvbnMgfSBmcm9tICcuL2NzZGwvY3NkbC1yZWZlcmVuY2UnO1xuaW1wb3J0IHsgQ3NkbEFubm90YXRpb24sIENzZGxUZXJtLCBDc2RsQW5ub3RhdGlvbnMgfSBmcm9tICcuL2NzZGwvY3NkbC1hbm5vdGF0aW9uJztcbmltcG9ydCB7IENzZGxOYXZpZ2F0aW9uUHJvcGVydHlCaW5kaW5nIH0gZnJvbSAnLi9jc2RsL2NzZGwtbmF2aWdhdGlvbi1wcm9wZXJ0eS1iaW5kaW5nJztcblxuZXhwb3J0IGVudW0gRmllbGRUeXBlIHtcbiAgICBBVFRSSUJVVEUsIFRBR1xufVxuZXhwb3J0IGNsYXNzIEZpZWxkIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgZmllbGRUeXBlOiBGaWVsZFR5cGUpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgTWV0YWRhdGEge1xuICAgIC8vIFRBR1NcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfRURNWCA9ICdlZG14OkVkbXgnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19EQVRBX1NFUlZJQ0VTID0gJ2VkbXg6RGF0YVNlcnZpY2VzJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfUkVGRVJFTkNFID0gJ2VkbXg6UmVmZXJlbmNlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfSU5DTFVERSA9ICdlZG14OkluY2x1ZGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19JTkNMVURFX0FOTk9UQVRJT05TID0gJ2VkbXg6SW5jbHVkZUFubm90YXRpb25zJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfVEVSTSA9ICdUZXJtJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfQU5OT1RBVElPTlMgPSAnQW5ub3RhdGlvbnMnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19BTk5PVEFUSU9OID0gJ0Fubm90YXRpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19TQ0hFTUEgPSAnU2NoZW1hJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfRU5VTV9UWVBFID0gJ0VudW1UeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfTUVNQkVSID0gJ01lbWJlcic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0NPTVBMRVhfVFlQRSA9ICdDb21wbGV4VHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0VOVElUWV9UWVBFID0gJ0VudGl0eVR5cGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19QUk9QRVJUWSA9ICdQcm9wZXJ0eSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0tFWSA9ICdLZXknO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19QUk9QRVJUWV9SRUYgPSAnUHJvcGVydHlSZWYnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19OQVZJR0FUSU9OX1BST1BFUlRZID0gJ05hdmlnYXRpb25Qcm9wZXJ0eSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX1JFRkVSRU5USUFMX0NPTlNUUkFJTlQgPSAnUmVmZXJlbnRpYWxDb25zdHJhaW50JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfT05fREVMRVRFID0gJ09uRGVsZXRlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfRlVOQ1RJT04gPSAnRnVuY3Rpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19SRVRVUk5fVFlQRSA9ICdSZXR1cm5UeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfUEFSQU1FVEVSID0gJ1BhcmFtZXRlcic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0FDVElPTiA9ICdBY3Rpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19FTlRJVFlfQ09OVEFJTkVSID0gJ0VudGl0eUNvbnRhaW5lcic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0VOVElUWV9TRVQgPSAnRW50aXR5U2V0JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfU0lOR0xFVE9OID0gJ1NpbmdsZXRvbic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0ZVTkNUSU9OX0lNUE9SVCA9ICdGdW5jdGlvbkltcG9ydCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0FDVElPTl9JTVBPUlQgPSAnQWN0aW9uSW1wb3J0JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfTkFWSUdBVElPTl9QUk9QRVJUWV9CSU5ESU5HID0gJ05hdmlnYXRpb25Qcm9wZXJ0eUJpbmRpbmcnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19UWVBFX0RFRklOSVRJT04gPSAnVHlwZURlZmluaXRpb24nO1xuXG4gICAgLy8gQVRUUklCVVRFU1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9WRVJTSU9OID0gJ1ZlcnNpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9VUkkgPSAnVXJpJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfQUxJQVMgPSAnQWxpYXMnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9OQU1FU1BBQ0UgPSAnTmFtZXNwYWNlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVEVSTV9OQU1FU1BBQ0UgPSAnVGVybU5hbWVzcGFjZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1FVQUxJRklFUiA9ICdRdWFsaWZpZXInO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9UQVJHRVRfTkFNRVNQQUNFID0gJ1RhcmdldE5hbWVzcGFjZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1RFUk0gPSAnVGVybSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX05BTUUgPSAnTmFtZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1ZBTFVFID0gJ1ZhbHVlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfQkFTRV9UWVBFID0gJ0Jhc2VUeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfT1BFTl9UWVBFID0gJ09wZW5UeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVFlQRSA9ICdUeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfTlVMTEFCTEUgPSAnTnVsbGFibGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9NQVhfTEVOR1RIID0gJ01heExlbmd0aCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1BSRUNJU0lPTiA9ICdQcmVjaXNpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9TQ0FMRSA9ICdTY2FsZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1VOSUNPREUgPSAnVW5pY29kZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1NSSUQgPSAnU1JJRCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0RFRkFVTFRfVkFMVUUgPSAnRGVmYXVsdFZhbHVlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfUEFSVE5FUiA9ICdQYXJ0bmVyJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfUFJPUEVSVFkgPSAnUHJvcGVydHknO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9SRUZFUkVOQ0VEX1BST1BFUlRZID0gJ1JlZmVyZW5jZWRQcm9wZXJ0eSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0hBU19TVFJFQU0gPSAnSGFzU3RyZWFtJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfQ09OVEFJTlNfVEFSR0VUID0gJ0NvbnRhaW5zVGFyZ2V0JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfSVNfQk9VTkQgPSAnSXNCb3VuZCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0VOVElUWV9TRVRfUEFUSCA9ICdFbnRpdHlTZXRQYXRoJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfSVNfQ09NUE9TQUJMRSA9ICdJc0NvbXBvc2FibGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9FTlRJVFlfVFlQRSA9ICdFbnRpdHlUeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfUEFUSCA9ICdQYXRoJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVEFSR0VUID0gJ1RhcmdldCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0ZVTkNUSU9OID0gJ0Z1bmN0aW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfQUNUSU9OID0gJ0FjdGlvbic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0VOVElUWV9TRVQgPSAnRW50aXR5U2V0JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfSU5DTFVERV9JTl9TRVJWSUNFX0RPQ1VNRU5UID0gJ0luY2x1ZGVJblNlcnZpY2VEb2N1bWVudCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0FCU1RSQUNUID0gJ0Fic3RyYWN0JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVU5ERVJMWUlOR19UWVBFID0gJ1VuZGVybHlpbmdUeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfSVNfRkxBR1MgPSAnSXNGbGFncyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0VYVEVORFMgPSAnRXh0ZW5kcyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0JBU0VfVEVSTSA9ICdCYXNlVGVybSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0FQUExJRVNfVE8gPSAnQXBwbGllc1RvJztcblxuICAgIHB1YmxpYyByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgcHVibGljIHJlYWRvbmx5IHJlZmVyZW5jZXM6IENzZGxSZWZlcmVuY2VbXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2NoZW1hczogQ3NkbFNjaGVtYVtdO1xuXG4gICAgY29uc3RydWN0b3IoeG1sOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlcjogRE9NUGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQ6IERvY3VtZW50ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWwsICd0ZXh0L3htbCcpO1xuXG4gICAgICAgICAgICB0aGlzLmNoZWNrVmVyc2lvbihkb2N1bWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiA9IHRoaXMuZ2V0RmllbGRWYWx1ZUJ5QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVkVSU0lPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dHJpYnV0ZXMpO1xuXG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZXMgPSB0aGlzLmdldE9iamVjdHMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBNZXRhZGF0YS5UQUdfUkVGRVJFTkNFLCBbXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9VUkksIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfSU5DTFVERSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19JTkNMVURFX0FOTk9UQVRJT05TLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FOTk9UQVRJT04sIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YVNlcnZpY2VzOiBFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKE1ldGFkYXRhLlRBR19EQVRBX1NFUlZJQ0VTKVswXTtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hcyA9IHRoaXMuZ2V0T2JqZWN0cyhkYXRhU2VydmljZXMsIE1ldGFkYXRhLlRBR19TQ0hFTUEsIFtcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUVTUEFDRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9BTElBUywgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19FTlVNX1RZUEUsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfQ09NUExFWF9UWVBFLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0VOVElUWV9UWVBFLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0ZVTkNUSU9OLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FDVElPTiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19FTlRJVFlfQ09OVEFJTkVSLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1RZUEVfREVGSU5JVElPTiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19URVJNLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FOTk9UQVRJT05TLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FOTk9UQVRJT04sIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIG1ldGFkYXRhLCAnICsgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNoZWNrVmVyc2lvbihkb2N1bWVudDogRG9jdW1lbnQpIHtcbiAgICAgICAgLy8gY2hlY2sgdmVyc2lvblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBOYW1lZE5vZGVNYXAgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09EYXRhIHZlcnNpb24gaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgbWV0YWRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRyOiBBdHRyID0gYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oJ1ZlcnNpb24nKTtcbiAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGF0dHIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09EYXRhIHZlcnNpb24gaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgbWV0YWRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvZGF0YVZlcnNpb246IHN0cmluZyA9IGF0dHIubm9kZVZhbHVlO1xuICAgICAgICBpZiAob2RhdGFWZXJzaW9uICE9PSAnNC4wJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPRGF0YSB2ZXJzaW9uIFwiJyArIG9kYXRhVmVyc2lvbiArICdcIiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0T2JqZWN0cyhwYXJlbnRFbGVtZW50OiBFbGVtZW50LCB0YWc6IHN0cmluZywgZmllbGROYW1lczogRmllbGRbXSk6IGFueVtdIHtcbiAgICAgICAgbGV0IG9iamVjdHM6IGFueVtdO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuOiBIVE1MQ29sbGVjdGlvbiA9IHBhcmVudEVsZW1lbnQuY2hpbGRyZW47XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBjaGlsZHJlbi5pdGVtKGluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgIT09IHRhZykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBOYW1lZE5vZGVNYXAgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlczogYW55W10gPSB0aGlzLmdldEZpZWxkVmFsdWVzKGZpZWxkTmFtZXMsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKG9iamVjdHMpKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19SRUZFUkVOQ0U6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFJlZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0lOQ0xVREU6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEluY2x1ZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0lOQ0xVREVfQU5OT1RBVElPTlM6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEluY2x1ZGVBbm5vdGF0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19URVJNOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxUZXJtKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s3XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbOV1cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FOTk9UQVRJT05TOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxBbm5vdGF0aW9ucyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQU5OT1RBVElPTjpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsQW5ub3RhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV1cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1NDSEVNQTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsU2NoZW1hKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s3XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbOV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5VTV9UWVBFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxFbnVtVHlwZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0NPTVBMRVhfVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsQ29tcGxleFR5cGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5USVRZX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEVudGl0eVR5cGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s2XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzddKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0ZVTkNUSU9OOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19NRU1CRVI6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEVudW1NZW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1BST1BFUlRZOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbN10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s4XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19QUk9QRVJUWV9SRUY6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFByb3BlcnR5UmVmKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxOYXZpZ2F0aW9uUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s2XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19SRUZFUkVOVElBTF9DT05TVFJBSU5UOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxSZWZlcmVudGlhbENvbnN0cmFpbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1BBUkFNRVRFUjpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsUGFyYW1ldGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQUNUSU9OOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0VOVElUWV9TRVQ6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEVudGl0eVNldChcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1NJTkdMRVRPTjpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsU2luZ2xldG9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0ZVTkNUSU9OX0lNUE9SVDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsRnVuY3Rpb25JbXBvcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19BQ1RJT05fSU1QT1JUOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxBY3Rpb25JbXBvcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWV9CSU5ESU5HOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxOYXZpZ2F0aW9uUHJvcGVydHlCaW5kaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19UWVBFX0RFRklOSVRJT046XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFR5cGVEZWZpbml0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s3XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua253b24gdGFnOicgKyB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldE9iamVjdChwYXJlbnRFbGVtZW50OiBFbGVtZW50LCB0YWc6IHN0cmluZywgZmllbGROYW1lczogRmllbGRbXSk6IGFueSB7XG4gICAgICAgIGxldCBvYmplY3Q6IGFueTtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbjogSFRNTENvbGxlY3Rpb24gPSBwYXJlbnRFbGVtZW50LmNoaWxkcmVuO1xuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLml0ZW0oaW5kZXgpLm5vZGVOYW1lID09PSB0YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgb25lICcgKyB0YWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gY2hpbGRyZW4uaXRlbShpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBOYW1lZE5vZGVNYXAgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlczogYW55W10gPSB0aGlzLmdldEZpZWxkVmFsdWVzKGZpZWxkTmFtZXMsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19LRVk6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyBDc2RsS2V5KGZpZWxkVmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUkVUVVJOX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyBDc2RsUmV0dXJuVHlwZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0VOVElUWV9DT05UQUlORVI6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyBDc2RsRW50aXR5Q29udGFpbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfT05fREVMRVRFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBuZXcgQ3NkbE9uRGVsZXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua253b24gdGFnOicgKyB0YWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0RmllbGRWYWx1ZXMoZmllbGRzOiBGaWVsZFtdLCBhdHRyaWJ1dGVzOiBOYW1lZE5vZGVNYXAsIGVsZW1lbnQ6IEVsZW1lbnQpOiBhbnlbXSB7XG4gICAgICAgIGNvbnN0IGZpZWxkVmFsdWVzOiBhbnlbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQuZmllbGRUeXBlID09PSBGaWVsZFR5cGUuVEFHKSB7XG4gICAgICAgICAgICAgICAgZmllbGRWYWx1ZXMucHVzaCh0aGlzLmdldEZpZWxkVmFsdWVCeVRhZyhmaWVsZCwgZWxlbWVudCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5maWVsZFR5cGUgPT09IEZpZWxkVHlwZS5BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlcy5wdXNoKHRoaXMuZ2V0RmllbGRWYWx1ZUJ5QXR0cmlidXRlKGZpZWxkLCBhdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBmaWVsZCB0eXBlOiAnICsgZmllbGQuZmllbGRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlcztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0RmllbGRWYWx1ZUJ5QXR0cmlidXRlKGZpZWxkOiBGaWVsZCwgYXR0cmlidXRlczogTmFtZWROb2RlTWFwKTogYW55IHtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9WRVJTSU9OOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVVJJOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRVNQQUNFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQUxJQVM6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9URVJNX05BTUVTUEFDRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1RFUk06XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9RVUFMSUZJRVI6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9UQVJHRVRfTkFNRVNQQUNFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1RZUEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9TUklEOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfREVGQVVMVF9WQUxVRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1BBUlRORVI6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9QUk9QRVJUWTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1JFRkVSRU5DRURfUFJPUEVSVFk6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9CQVNFX1RZUEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfU0VUX1BBVEg6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfVFlQRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1BBVEg6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9UQVJHRVQ6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9GVU5DVElPTjpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0FDVElPTjpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0VOVElUWV9TRVQ6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9VTkRFUkxZSU5HX1RZUEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9FWFRFTkRTOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQkFTRV9URVJNOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQVBQTElFU19UTzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVzLCBmaWVsZC5uYW1lKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX05VTExBQkxFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVU5JQ09ERTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX09QRU5fVFlQRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0hBU19TVFJFQU06XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9JU19CT1VORDpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0lTX0NPTVBPU0FCTEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9DT05UQUlOU19UQVJHRVQ6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9JTkNMVURFX0lOX1NFUlZJQ0VfRE9DVU1FTlQ6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9BQlNUUkFDVDpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0lTX0ZMQUdTOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5VmFsdWVUb0Jvb2xlYW4odGhpcy5nZXRBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVzLCBmaWVsZC5uYW1lKSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9WQUxVRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX01BWF9MRU5HVEg6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9QUkVDSVNJT046XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9TQ0FMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eVZhbHVlVG9OdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVzLCBmaWVsZC5uYW1lKSk7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua253b24gYXR0cmlidXRlOicgKyBmaWVsZC5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRGaWVsZFZhbHVlQnlUYWcoZmllbGQ6IEZpZWxkLCBlbGVtZW50OiBFbGVtZW50KTogYW55W10ge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0lOQ0xVREU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRVNQQUNFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9BTElBUywgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0lOQ0xVREVfQU5OT1RBVElPTlM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVEVSTV9OQU1FU1BBQ0UsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1FVQUxJRklFUiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVEFSR0VUX05BTUVTUEFDRSwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1RFUk06XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQkFTRV9URVJNLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9ERUZBVUxUX1ZBTFVFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9BUFBMSUVTX1RPLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OVUxMQUJMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTUFYX0xFTkdUSCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUFJFQ0lTSU9OLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TQ0FMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU1JJRCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FOTk9UQVRJT05TOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RBUkdFVCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfQU5OT1RBVElPTiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUVVBTElGSUVSLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQU5OT1RBVElPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9URVJNLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9RVUFMSUZJRVIsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlVNX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfTUVNQkVSLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9VTkRFUkxZSU5HX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0lTX0ZMQUdTLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQ09NUExFWF9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1BST1BFUlRZLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9CQVNFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX09QRU5fVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUJTVFJBQ1QsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlRJVFlfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19LRVksIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1BST1BFUlRZLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9CQVNFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX09QRU5fVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfSEFTX1NUUkVBTSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUJTVFJBQ1QsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19GVU5DVElPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19SRVRVUk5fVFlQRSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfSVNfQk9VTkQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0VOVElUWV9TRVRfUEFUSCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfSVNfQ09NUE9TQUJMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfUEFSQU1FVEVSLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTUVNQkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1ZBTFVFLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUFJPUEVSVFk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTlVMTEFCTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX01BWF9MRU5HVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BSRUNJU0lPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU0NBTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1VOSUNPREUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NSSUQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0RFRkFVTFRfVkFMVUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19LRVk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19QUk9QRVJUWV9SRUYsIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19QUk9QRVJUWV9SRUY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUxJQVMsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05VTExBQkxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QQVJUTkVSLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9DT05UQUlOU19UQVJHRVQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1JFRkVSRU5USUFMX0NPTlNUUkFJTlQsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX09OX0RFTEVURSwgRmllbGRUeXBlLlRBRylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1JFRkVSRU5USUFMX0NPTlNUUkFJTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUFJPUEVSVFksIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1JFRkVSRU5DRURfUFJPUEVSVFksIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19PTl9ERUxFVEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9BQ1RJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19QQVJBTUVURVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTlVMTEFCTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX01BWF9MRU5HVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BSRUNJU0lPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU0NBTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NSSUQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19SRVRVUk5fVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05VTExBQkxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9NQVhfTEVOR1RILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QUkVDSVNJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NDQUxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TUklELCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQUNUSU9OOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1JFVFVSTl9UWVBFLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9JU19CT1VORCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfRU5USVRZX1NFVF9QQVRILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19QQVJBTUVURVIsIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlRJVFlfQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdChlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfRVhURU5EUywgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfRU5USVRZX1NFVCwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfU0lOR0xFVE9OLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19GVU5DVElPTl9JTVBPUlQsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FDVElPTl9JTVBPUlQsIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlRJVFlfU0VUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0VOVElUWV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZX0JJTkRJTkcsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0lOQ0xVREVfSU5fU0VSVklDRV9ET0NVTUVOVCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1NJTkdMRVRPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19OQVZJR0FUSU9OX1BST1BFUlRZX0JJTkRJTkcsIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19GVU5DVElPTl9JTVBPUlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfRlVOQ1RJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0VOVElUWV9TRVQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0lOQ0xVREVfSU5fU0VSVklDRV9ET0NVTUVOVCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FDVElPTl9JTVBPUlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUNUSU9OLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfU0VULCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWV9CSU5ESU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BBVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RBUkdFVCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1RZUEVfREVGSU5JVElPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9VTkRFUkxZSU5HX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX01BWF9MRU5HVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BSRUNJU0lPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU0NBTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1VOSUNPREUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NSSUQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FOTk9UQVRJT04sIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua253b24gdGFnOicgKyBmaWVsZC5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGVzOiBOYW1lZE5vZGVNYXAsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZTogQXR0ciA9IGF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGUubm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHByb3BlcnR5VmFsdWVUb051bWJlcihhdHRyaWJ1dGVWYWx1ZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChhdHRyaWJ1dGVWYWx1ZSkgPyBOdW1iZXIoYXR0cmlidXRlVmFsdWUpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcm9wZXJ0eVZhbHVlVG9Cb29sZWFuKGF0dHJpYnV0ZVZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChhdHRyaWJ1dGVWYWx1ZSkgPyBhdHRyaWJ1dGVWYWx1ZSA9PT0gJ3RydWUnIDogdW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBPRGF0YVJlc3BvbnNlQWJzdHJhY3Qge1xuICAgIHByaXZhdGUgaHR0cFJlc3BvbnNlOiBIdHRwUmVzcG9uc2U8c3RyaW5nPjtcblxuICAgIGNvbnN0cnVjdG9yKGh0dHBSZXNwb25zZTogSHR0cFJlc3BvbnNlPHN0cmluZz4pIHtcbiAgICAgICAgdGhpcy5odHRwUmVzcG9uc2UgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuXG4gICAgZ2V0SHR0cFJlc3BvbnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwUmVzcG9uc2U7XG4gICAgfVxuXG4gICAgaXNPaygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cFJlc3BvbnNlLm9rO1xuICAgIH1cblxuICAgIGdldEJvZHlBc0pzb24oKTogYW55IHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0Qm9keUFzVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwUmVzcG9uc2UuYm9keTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVzID0gYCR7dGhpcy5odHRwUmVzcG9uc2Uuc3RhdHVzfSAke3RoaXMuaHR0cFJlc3BvbnNlLnN0YXR1c1RleHR9XFxuYDtcblxuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5odHRwUmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgaGVhZGVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHJlcyArPSBrZXkgKyAnOiAnO1xuICAgICAgICAgICAgbGV0IHZhbHVlU3RyaW5nID0gJyc7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhlYWRlcnMuZ2V0QWxsKGtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlU3RyaW5nICs9ICcgJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWVTdHJpbmcgKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMgKz0gdmFsdWVTdHJpbmcgKyAnXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGpzb24gPSB0aGlzLmdldEJvZHlBc0pzb24oKTtcbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChqc29uKSkge1xuICAgICAgICAgICAgcmVzICs9IEpTT04uc3RyaW5naWZ5KGpzb24sIG51bGwsIDQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzICs9IHRoaXMuZ2V0Qm9keUFzVGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IEVudGl0eVNldCB9IGZyb20gJy4vZW50aXR5LWNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgTWV0YWRhdGEgfSBmcm9tICcuL21ldGFkYXRhJztcbmltcG9ydCB7IE9EYXRhUmVzcG9uc2VBYnN0cmFjdCB9IGZyb20gJy4vb2RhdGEtcmVzcG9uc2UtYWJzdHJhY3QnO1xuaW1wb3J0IHsgT0RhdGFSZXNwb25zZUJhdGNoIH0gZnJvbSAnLi9vZGF0YS1yZXNwb25zZS1iYXRjaCc7XG5cbmV4cG9ydCBjbGFzcyBPRGF0YVJlc3BvbnNlIGV4dGVuZHMgT0RhdGFSZXNwb25zZUFic3RyYWN0IHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBWQUxVRSA9ICd2YWx1ZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgT0RBVEFfQ09VTlQgPSAnQG9kYXRhLmNvdW50JztcblxuICAgIGNvbnN0cnVjdG9yKGh0dHBSZXNwb25zZTogSHR0cFJlc3BvbnNlPHN0cmluZz4pIHtcbiAgICAgICAgc3VwZXIoaHR0cFJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBnZXRCb2R5QXNKc29uKCk6IGFueSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlOiBzdHJpbmcgPSB0aGlzLmdldEh0dHBSZXNwb25zZSgpLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChjb250ZW50VHlwZSkgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoJ2pzb24nKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEJvZHlBc1RleHQoKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRvTWV0YWRhdGEoKTogTWV0YWRhdGEge1xuICAgICAgICBjb25zdCB4bWw6IHN0cmluZyA9IHRoaXMuZ2V0Qm9keUFzVGV4dCgpO1xuICAgICAgICByZXR1cm4gbmV3IE1ldGFkYXRhKHhtbCk7XG4gICAgfVxuXG4gICAgdG9FbnRpdHlTZXQ8VD4odHlwZT86IChuZXcgKCkgPT4gVCkpOiBFbnRpdHlTZXQ8VD4ge1xuICAgICAgICBjb25zdCBqc29uOiBhbnkgPSB0aGlzLmdldEJvZHlBc0pzb24oKTtcbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChqc29uKSAmJiBqc29uLmhhc093blByb3BlcnR5KE9EYXRhUmVzcG9uc2UuVkFMVUUpKSB7XG4gICAgICAgICAgICBsZXQgY291bnQ6IG51bWJlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoanNvbi5oYXNPd25Qcm9wZXJ0eShPRGF0YVJlc3BvbnNlLk9EQVRBX0NPVU5UKSkge1xuICAgICAgICAgICAgICAgIGNvdW50ID0ganNvbltPRGF0YVJlc3BvbnNlLk9EQVRBX0NPVU5UXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50aXR5U2V0PFQ+KGpzb25bT0RhdGFSZXNwb25zZS5WQUxVRV0sIGNvdW50LCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0b0NvbXBsZXhDb2xsZWN0aW9uPFQ+KHR5cGU/OiAobmV3ICgpID0+IFQpKTogVFtdIHtcbiAgICAgICAgY29uc3QganNvbjogYW55ID0gdGhpcy5nZXRCb2R5QXNKc29uKCk7XG5cbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChqc29uKSAmJiBqc29uLmhhc093blByb3BlcnR5KE9EYXRhUmVzcG9uc2UuVkFMVUUpKSB7XG4gICAgICAgICAgICBjb25zdCByZXM6IFRbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YganNvbltPRGF0YVJlc3BvbnNlLlZBTFVFXSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRoaXMudG9PYmplY3Q8VD4ob2JqZWN0LCB0eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdG9FbnRpdHk8VD4odHlwZT86IChuZXcgKCkgPT4gVCkpOiBUIHtcbiAgICAgICAgY29uc3QganNvbjogYW55ID0gdGhpcy5nZXRCb2R5QXNKc29uKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvT2JqZWN0PFQ+KGpzb24sIHR5cGUpO1xuICAgIH1cblxuICAgIHRvQ29tcGxleFZhbHVlPFQ+KHR5cGU/OiAobmV3ICgpID0+IFQpKTogVCB7XG4gICAgICAgIGNvbnN0IGpzb246IGFueSA9IHRoaXMuZ2V0Qm9keUFzSnNvbigpO1xuICAgICAgICByZXR1cm4gdGhpcy50b09iamVjdDxUPihqc29uLCB0eXBlKTtcbiAgICB9XG5cbiAgICB0b1Byb3BlcnR5VmFsdWU8VD4oKTogVCB7XG4gICAgICAgIGNvbnN0IGpzb246IGFueSA9IHRoaXMuZ2V0Qm9keUFzSnNvbigpO1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKGpzb24pKSB7XG4gICAgICAgICAgICBpZiAoanNvbi5oYXNPd25Qcm9wZXJ0eShPRGF0YVJlc3BvbnNlLlZBTFVFKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiA8VD5qc29uW09EYXRhUmVzcG9uc2UuVkFMVUVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gPFQ+SlNPTi5wYXJzZSh0aGlzLmdldEJvZHlBc1RleHQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b0NvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5nZXRCb2R5QXNUZXh0KCkpO1xuICAgIH1cblxuICAgIHRvT0RhdGFSZXNwb25zZUJhdGNoKCk6IE9EYXRhUmVzcG9uc2VCYXRjaCB7XG4gICAgICAgIHJldHVybiBuZXcgT0RhdGFSZXNwb25zZUJhdGNoKHRoaXMuZ2V0SHR0cFJlc3BvbnNlKCkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0b09iamVjdDxUPihvYmplY3Q6IGFueSwgdHlwZTogKG5ldyAoKSA9PiBUKSk6IFQge1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKG9iamVjdCkpIHtcbiAgICAgICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0eXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvYmplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdHlwZSgpLCBvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBIZWFkZXJzLCBIdHRwUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgT0RhdGFSZXNwb25zZSB9IGZyb20gJy4vb2RhdGEtcmVzcG9uc2UnO1xuaW1wb3J0IHsgT0RhdGFSZXNwb25zZUFic3RyYWN0IH0gZnJvbSAnLi9vZGF0YS1yZXNwb25zZS1hYnN0cmFjdCc7XG5cbmV4cG9ydCBjbGFzcyBPRGF0YVJlc3BvbnNlQmF0Y2ggZXh0ZW5kcyBPRGF0YVJlc3BvbnNlQWJzdHJhY3Qge1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENPTlRFTlRfVFlQRSA9ICdDb250ZW50LVR5cGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENPTlRFTlRfSUQgPSAnQ29udGVudC1JRCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSFRUUDExID0gJ0hUVFAvMS4xJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBCT1VOREFSWV9QUkVGSVhfU1VGRklYID0gJy0tJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBORVdMSU5FID0gJ1xcclxcbic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTVVMVElQQVJUX01JWEVEID0gJ211bHRpcGFydC9taXhlZCc7XG5cbiAgICBwcml2YXRlIG9kYXRhUmVzcG9uc2VzOiBPRGF0YVJlc3BvbnNlW107XG5cbiAgICBjb25zdHJ1Y3RvcihodHRwUmVzcG9uc2U6IEh0dHBSZXNwb25zZTxzdHJpbmc+KSB7XG4gICAgICAgIHN1cGVyKGh0dHBSZXNwb25zZSk7XG4gICAgICAgIHRoaXMub2RhdGFSZXNwb25zZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXJzZVJlc3BvbnNlcygpO1xuICAgIH1cblxuICAgIGdldE9EYXRhUmVzcG9uc2VzKCk6IE9EYXRhUmVzcG9uc2VbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9kYXRhUmVzcG9uc2VzO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBwYXJzZVJlc3BvbnNlcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGU6IHN0cmluZyA9IHRoaXMuZ2V0SHR0cFJlc3BvbnNlKCkuaGVhZGVycy5nZXQoT0RhdGFSZXNwb25zZUJhdGNoLkNPTlRFTlRfVFlQRSk7XG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5RGVsaW1pdGVyQmF0Y2g6IHN0cmluZyA9IHRoaXMuZ2V0Qm91bmRhcnlEZWxpbWl0ZXIoY29udGVudFR5cGUpO1xuICAgICAgICBjb25zdCBib3VuZGFyeUVuZEJhdGNoOiBzdHJpbmcgPSB0aGlzLmdldEJvdW5kYXJ5RW5kKGJvdW5kYXJ5RGVsaW1pdGVyQmF0Y2gpO1xuXG4gICAgICAgIGNvbnN0IGJhdGNoQm9keTogc3RyaW5nID0gdGhpcy5nZXRCb2R5QXNUZXh0KCk7XG4gICAgICAgIGNvbnN0IGJhdGNoQm9keUxpbmVzOiBzdHJpbmdbXSA9IGJhdGNoQm9keS5zcGxpdChPRGF0YVJlc3BvbnNlQmF0Y2guTkVXTElORSk7XG5cbiAgICAgICAgbGV0IG9kYXRhUmVzcG9uc2VDUzogT0RhdGFSZXNwb25zZVtdO1xuICAgICAgICBsZXQgY29udGVudElkOiBudW1iZXI7XG4gICAgICAgIGxldCBib3VuZGFyeURlbGltaXRlckNTO1xuICAgICAgICBsZXQgYm91bmRhcnlFbmRDUztcbiAgICAgICAgbGV0IGJhdGNoUGFydFN0YXJ0SW5kZXg7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBiYXRjaEJvZHlMaW5lcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoQm9keUxpbmU6IHN0cmluZyA9IGJhdGNoQm9keUxpbmVzW2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKGJhdGNoQm9keUxpbmUuc3RhcnRzV2l0aChPRGF0YVJlc3BvbnNlQmF0Y2guQ09OVEVOVF9UWVBFKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlVmFsdWU6IHN0cmluZyA9IHRoaXMuZ2V0SGVhZGVyVmFsdWUoYmF0Y2hCb2R5TGluZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlVmFsdWUgPT09IE9EYXRhUmVzcG9uc2VCYXRjaC5NVUxUSVBBUlRfTUlYRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2RhdGFSZXNwb25zZUNTID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlEZWxpbWl0ZXJDUyA9IHRoaXMuZ2V0Qm91bmRhcnlEZWxpbWl0ZXIoYmF0Y2hCb2R5TGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5RW5kQ1MgPSB0aGlzLmdldEJvdW5kYXJ5RW5kKGJvdW5kYXJ5RGVsaW1pdGVyQ1MpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnRTdGFydEluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhUmVzcG9uc2VDUykgJiYgYmF0Y2hCb2R5TGluZS5zdGFydHNXaXRoKE9EYXRhUmVzcG9uc2VCYXRjaC5DT05URU5UX0lEKSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRJZCA9IE51bWJlcih0aGlzLmdldEhlYWRlclZhbHVlKGJhdGNoQm9keUxpbmUpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmF0Y2hCb2R5TGluZS5zdGFydHNXaXRoKE9EYXRhUmVzcG9uc2VCYXRjaC5IVFRQMTEpKSB7XG4gICAgICAgICAgICAgICAgYmF0Y2hQYXJ0U3RhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiYXRjaEJvZHlMaW5lID09PSBib3VuZGFyeURlbGltaXRlckJhdGNoIHx8IGJhdGNoQm9keUxpbmUgPT09IGJvdW5kYXJ5RGVsaW1pdGVyQ1NcbiAgICAgICAgICAgICAgICB8fCBiYXRjaEJvZHlMaW5lID09PSBib3VuZGFyeUVuZEJhdGNoIHx8IGJhdGNoQm9keUxpbmUgPT09IGJvdW5kYXJ5RW5kQ1MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydFN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgb2RhdGFSZXNwb25zZTogT0RhdGFSZXNwb25zZSA9IHRoaXMuY3JlYXRlT0RhdGFSZXNwb25zZShiYXRjaEJvZHlMaW5lcywgYmF0Y2hQYXJ0U3RhcnRJbmRleCwgaW5kZXggLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKG9kYXRhUmVzcG9uc2VDUykpIHtcbiAgICAgICAgICAgICAgICAgICAgb2RhdGFSZXNwb25zZUNTW2NvbnRlbnRJZF0gPSBvZGF0YVJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2RhdGFSZXNwb25zZXMucHVzaChvZGF0YVJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hCb2R5TGluZSA9PT0gYm91bmRhcnlEZWxpbWl0ZXJCYXRjaCB8fCBiYXRjaEJvZHlMaW5lID09PSBib3VuZGFyeURlbGltaXRlckNTKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydFN0YXJ0SW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXRjaEJvZHlMaW5lID09PSBib3VuZGFyeUVuZEJhdGNoIHx8IGJhdGNoQm9keUxpbmUgPT09IGJvdW5kYXJ5RW5kQ1MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChvZGF0YVJlc3BvbnNlQ1MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3BvbnNlIG9mIG9kYXRhUmVzcG9uc2VDUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2RhdGFSZXNwb25zZXMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9kYXRhUmVzcG9uc2VDUyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlEZWxpbWl0ZXJDUyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRhcnlFbmRDUyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0U3RhcnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SGVhZGVyVmFsdWUoaGVhZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVzOiBzdHJpbmcgPSBoZWFkZXIuc3BsaXQoJzsnKVswXS50cmltKCk7XG4gICAgICAgIHJlcyA9IHJlcy5zcGxpdCgnOicpWzFdLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0Qm91bmRhcnlEZWxpbWl0ZXIoY29udGVudFR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlUGFydHM6IHN0cmluZ1tdID0gY29udGVudFR5cGUuc3BsaXQoJzsnKTtcbiAgICAgICAgaWYgKGNvbnRlbnRUeXBlUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeTogc3RyaW5nID0gY29udGVudFR5cGUuc3BsaXQoJzsnKVsxXS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeURlbGltaXRlcjogc3RyaW5nID0gT0RhdGFSZXNwb25zZUJhdGNoLkJPVU5EQVJZX1BSRUZJWF9TVUZGSVggKyBib3VuZGFyeS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kYXJ5RGVsaW1pdGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEJvdW5kYXJ5RW5kKGJvdW5kYXJ5RGVsaW1pdGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIWJvdW5kYXJ5RGVsaW1pdGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5RW5kOiBzdHJpbmcgPSBib3VuZGFyeURlbGltaXRlciArIE9EYXRhUmVzcG9uc2VCYXRjaC5CT1VOREFSWV9QUkVGSVhfU1VGRklYO1xuICAgICAgICByZXR1cm4gYm91bmRhcnlFbmQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZU9EYXRhUmVzcG9uc2UoYmF0Y2hCb2R5TGluZXM6IHN0cmluZ1tdLCBiYXRjaFBhcnRTdGFydEluZGV4OiBudW1iZXIsIGJhdGNoUGFydEVuZEluZGV4OiBudW1iZXIpOiBPRGF0YVJlc3BvbnNlIHtcbiAgICAgICAgbGV0IGluZGV4OiBudW1iZXIgPSBiYXRjaFBhcnRTdGFydEluZGV4O1xuICAgICAgICBjb25zdCBzdGF0dXNMaW5lOiBzdHJpbmcgPSBiYXRjaEJvZHlMaW5lc1tpbmRleF07XG4gICAgICAgIGNvbnN0IHN0YXR1c0xpbmVQYXJ0czogc3RyaW5nW10gPSBiYXRjaEJvZHlMaW5lc1tpbmRleF0uc3BsaXQoJyAnKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzOiBzdHJpbmcgPSBzdGF0dXNMaW5lUGFydHNbMV07XG4gICAgICAgIGNvbnN0IHN0YXR1c1RleHRJbmRleCA9IHN0YXR1c0xpbmUuaW5kZXhPZihzdGF0dXMpICsgc3RhdHVzLmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IHN0YXR1c1RleHQ6IHN0cmluZyA9IHN0YXR1c0xpbmUuc3Vic3RyaW5nKHN0YXR1c1RleHRJbmRleCk7XG5cbiAgICAgICAgbGV0IGh0dHBIZWFkZXJzOiBIdHRwSGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgICAgICBmb3IgKCsraW5kZXg7IGluZGV4IDw9IGJhdGNoUGFydEVuZEluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaEJvZHlMaW5lOiBzdHJpbmcgPSBiYXRjaEJvZHlMaW5lc1tpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChiYXRjaEJvZHlMaW5lID09PSAnJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBiYXRjaEJvZHlMaW5lUGFydHM6IHN0cmluZ1tdID0gYmF0Y2hCb2R5TGluZS5zcGxpdCgnOiAnKTtcbiAgICAgICAgICAgIGh0dHBIZWFkZXJzID0gaHR0cEhlYWRlcnMuYXBwZW5kKGJhdGNoQm9keUxpbmVQYXJ0c1swXS50cmltKCksIGJhdGNoQm9keUxpbmVQYXJ0c1sxXS50cmltKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgICAgZm9yICg7IGluZGV4IDw9IGJhdGNoUGFydEVuZEluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBib2R5ICs9IGJhdGNoQm9keUxpbmVzW2luZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgT0RhdGFSZXNwb25zZShuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiBodHRwSGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1czogTnVtYmVyKHN0YXR1cyksXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiBzdGF0dXNUZXh0XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwT3B0aW9uc0kge1xuICAgIGhlYWRlcnM/OiBIdHRwSGVhZGVycztcbiAgICBwYXJhbXM/OiBIdHRwUGFyYW1zO1xuICAgIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbjtcbiAgICB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgSHR0cE9wdGlvbnMgaW1wbGVtZW50cyBIdHRwT3B0aW9uc0kge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgICAgICBwdWJsaWMgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyA9ICdyZXNwb25zZScsXG4gICAgICAgIHB1YmxpYyBwYXJhbXM/OiBIdHRwUGFyYW1zLFxuICAgICAgICBwdWJsaWMgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgcmVzcG9uc2VUeXBlOiAndGV4dCcgPSAndGV4dCcsXG4gICAgICAgIHB1YmxpYyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuXG4gICAgKSB7IH1cbn1cbiIsIlxuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgT0RhdGFRdWVyeSB9IGZyb20gJy4uL29kYXRhLXF1ZXJ5L29kYXRhLXF1ZXJ5JztcbmltcG9ydCB7IE9EYXRhUXVlcnlBYnN0cmFjdCB9IGZyb20gJy4uL29kYXRhLXF1ZXJ5L29kYXRhLXF1ZXJ5LWFic3RyYWN0JztcbmltcG9ydCB7IE9EYXRhUmVzcG9uc2UgfSBmcm9tICcuLi9vZGF0YS1yZXNwb25zZS9vZGF0YS1yZXNwb25zZSc7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IEh0dHBPcHRpb25zLCBIdHRwT3B0aW9uc0kgfSBmcm9tICcuL2h0dHAtb3B0aW9ucyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPRGF0YVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBJRl9NQVRDSF9IRUFERVIgPSAnSWYtTWF0Y2gnO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkgeyB9XG5cbiAgZ2V0KG9kYXRhUXVlcnk6IE9EYXRhUXVlcnksIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnNJKTogT2JzZXJ2YWJsZTxPRGF0YVJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsOiBzdHJpbmcgPSBvZGF0YVF1ZXJ5LnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB0aGlzLmNyZWF0ZUh0dHBPcHRpb25zKGh0dHBPcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIG9wdGlvbnMpLnBpcGUoXG4gICAgICBtYXAocmVzcG9uc2UgPT4gbmV3IE9EYXRhUmVzcG9uc2UocmVzcG9uc2UpKSk7XG4gIH1cblxuICBwb3N0KG9kYXRhUXVlcnk6IE9EYXRhUXVlcnlBYnN0cmFjdCwgYm9keTogYW55LCBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zSSk6IE9ic2VydmFibGU8T0RhdGFSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybDogc3RyaW5nID0gb2RhdGFRdWVyeS50b1N0cmluZygpO1xuICAgIGNvbnN0IG9wdGlvbnM6IEh0dHBPcHRpb25zID0gdGhpcy5jcmVhdGVIdHRwT3B0aW9ucyhodHRwT3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHVybCwgYm9keSwgb3B0aW9ucykucGlwZShcbiAgICAgIG1hcChyZXNwb25zZSA9PiBuZXcgT0RhdGFSZXNwb25zZShyZXNwb25zZSkpKTtcbiAgfVxuXG4gIHBhdGNoKG9kYXRhUXVlcnk6IE9EYXRhUXVlcnksIGJvZHk6IGFueSwgZXRhZz86IHN0cmluZywgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IG9kYXRhUXVlcnkudG9TdHJpbmcoKTtcbiAgICBsZXQgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB0aGlzLmNyZWF0ZUh0dHBPcHRpb25zKGh0dHBPcHRpb25zKTtcbiAgICBvcHRpb25zID0gdGhpcy5tZXJnZUVUYWcob3B0aW9ucywgZXRhZyk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wYXRjaCh1cmwsIGJvZHksIG9wdGlvbnMpLnBpcGUoXG4gICAgICBtYXAocmVzcG9uc2UgPT4gbmV3IE9EYXRhUmVzcG9uc2UocmVzcG9uc2UpKSk7XG4gIH1cblxuICBwdXQob2RhdGFRdWVyeTogT0RhdGFRdWVyeSwgYm9keTogYW55LCBldGFnPzogc3RyaW5nLCBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zSSk6IE9ic2VydmFibGU8T0RhdGFSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybDogc3RyaW5nID0gb2RhdGFRdWVyeS50b1N0cmluZygpO1xuICAgIGxldCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHRoaXMuY3JlYXRlSHR0cE9wdGlvbnMoaHR0cE9wdGlvbnMpO1xuICAgIG9wdGlvbnMgPSB0aGlzLm1lcmdlRVRhZyhvcHRpb25zLCBldGFnKTtcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGJvZHksIG9wdGlvbnMpLnBpcGUoXG4gICAgICBtYXAocmVzcG9uc2UgPT4gbmV3IE9EYXRhUmVzcG9uc2UocmVzcG9uc2UpKSk7XG4gIH1cblxuICBkZWxldGUob2RhdGFRdWVyeTogT0RhdGFRdWVyeSwgZXRhZz86IHN0cmluZywgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9uc0kpOiBPYnNlcnZhYmxlPE9EYXRhUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyA9IG9kYXRhUXVlcnkudG9TdHJpbmcoKTtcbiAgICBsZXQgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB0aGlzLmNyZWF0ZUh0dHBPcHRpb25zKGh0dHBPcHRpb25zKTtcbiAgICBvcHRpb25zID0gdGhpcy5tZXJnZUVUYWcob3B0aW9ucywgZXRhZyk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5kZWxldGUodXJsLCBvcHRpb25zKS5waXBlKFxuICAgICAgbWFwKHJlc3BvbnNlID0+IG5ldyBPRGF0YVJlc3BvbnNlKHJlc3BvbnNlKSkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZUh0dHBPcHRpb25zKGh0dHBPcHRpb25zOiBIdHRwT3B0aW9uc0kpOiBIdHRwT3B0aW9ucyB7XG4gICAgaWYgKGh0dHBPcHRpb25zIGluc3RhbmNlb2YgSHR0cE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBodHRwT3B0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEh0dHBPcHRpb25zKCksIGh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBtZXJnZUVUYWcoaHR0cE9wdGlvbnM6IEh0dHBPcHRpb25zLCBldGFnOiBzdHJpbmcpOiBIdHRwT3B0aW9ucyB7XG4gICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKGV0YWcpKSB7XG4gICAgICByZXR1cm4gaHR0cE9wdGlvbnM7XG4gICAgfVxuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChodHRwT3B0aW9ucykpIHtcbiAgICAgIGh0dHBPcHRpb25zID0gbmV3IEh0dHBPcHRpb25zKCk7XG4gICAgfVxuICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChodHRwT3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgaHR0cE9wdGlvbnMuaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIH1cblxuICAgIGh0dHBPcHRpb25zLmhlYWRlcnNbT0RhdGFTZXJ2aWNlLklGX01BVENIX0hFQURFUl0gPSBldGFnO1xuXG4gICAgcmV0dXJuIGh0dHBPcHRpb25zO1xuICB9XG59XG4iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlsdGVyIHtcbiAgICBhYnN0cmFjdCB0b1N0cmluZygpOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgaXNFbXB0eSgpOiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWx0ZXJIYXNQcm9wZXJ0eSB7XG4gICAgcHJvdGVjdGVkIHByb3BlcnR5OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydHkocHJvcGVydHkpO1xuICAgIH1cblxuICAgIHNldFByb3BlcnR5KHByb3BlcnR5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQocHJvcGVydHksICdwcm9wZXJ0eScpO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgfVxuXG4gICAgZ2V0UHJvcGVydHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydHk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBRdW90ZWRTdHJpbmcgfSBmcm9tICcuLi8uLi9vZGF0YS1xdWVyeS9xdW90ZWQtc3RyaW5nJztcbmltcG9ydCB7IE9wZXJhdG9yQ29tcGFyaXNvbiB9IGZyb20gJy4uL29wZXJhdG9yJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IEZpbHRlckhhc1Byb3BlcnR5IH0gZnJvbSAnLi9maWx0ZXItaGFzLXByb3BlcnR5JztcblxuZXhwb3J0IGNsYXNzIEZpbHRlckNvbXBhcmlzb24gZXh0ZW5kcyBGaWx0ZXJIYXNQcm9wZXJ0eSBpbXBsZW1lbnRzIEZpbHRlciB7XG4gICAgcHJpdmF0ZSBvcGVyYXRvcjogT3BlcmF0b3JDb21wYXJpc29uO1xuICAgIHByaXZhdGUgdmFsdWU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIG9wZXJhdG9yOiBPcGVyYXRvckNvbXBhcmlzb24sIHZhbHVlOiBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgUXVvdGVkU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnR5KTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQocHJvcGVydHksICdwcm9wZXJ0eScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChvcGVyYXRvciwgJ29wZXJhdG9yJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5wcm9wZXJ0eX0gJHtPcGVyYXRvckNvbXBhcmlzb25bdGhpcy5vcGVyYXRvcl0udG9Mb3dlckNhc2UoKX0gJHtVdGlscy5nZXRWYWx1ZVVSSSh0aGlzLnZhbHVlLCBmYWxzZSl9YDtcbiAgICB9XG5cbiAgICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHkpIHx8ICF0aGlzLnByb3BlcnR5Lmxlbmd0aClcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMub3BlcmF0b3IpXG4gICAgICAgICAgICAmJiBVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnZhbHVlKSB8fCAodGhpcy52YWx1ZSBpbnN0YW5jZW9mIEZpbHRlciAmJiAhdGhpcy52YWx1ZS5pc0VtcHR5KCkgfHwgdGhpcy52YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmICF0aGlzLnZhbHVlLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyBGaWx0ZXJIYXNQcm9wZXJ0eSB9IGZyb20gJy4vZmlsdGVyLWhhcy1wcm9wZXJ0eSc7XG5pbXBvcnQgeyBRdW90ZWRTdHJpbmcgfSBmcm9tICcuLi8uLi9vZGF0YS1xdWVyeS9xdW90ZWQtc3RyaW5nJztcblxuZXhwb3J0IGNsYXNzIEZpbHRlckZ1bmN0aW9uIGV4dGVuZHMgRmlsdGVySGFzUHJvcGVydHkgaW1wbGVtZW50cyBGaWx0ZXIge1xuICAgIHByaXZhdGUgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSB2YWx1ZTogYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IFF1b3RlZFN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZT86IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBRdW90ZWRTdHJpbmcpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydHkpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChmdW5jdGlvbk5hbWUsICdmdW5jdGlvbk5hbWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KGZ1bmN0aW9uTmFtZSwgJ2Z1bmN0aW9uTmFtZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChwcm9wZXJ0eSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShwcm9wZXJ0eSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25OYW1lID0gZnVuY3Rpb25OYW1lO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHkpICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgke3RoaXMucHJvcGVydHl9LCR7VXRpbHMuZ2V0VmFsdWVVUkkodGhpcy52YWx1ZSwgZmFsc2UpfSlgO1xuICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgke3RoaXMucHJvcGVydHl9KWA7XG4gICAgICAgIH0gZWxzZSBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5mdW5jdGlvbk5hbWV9KCR7VXRpbHMuZ2V0VmFsdWVVUkkodGhpcy52YWx1ZSwgZmFsc2UpfSlgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgpYDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMudmFsdWUpICYmIFV0aWxzLmlzRW1wdHkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnZhbHVlKVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHkpICYmICF0aGlzLnByb3BlcnR5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwcm9wZXJ0eT86IHN0cmluZywgdmFsdWU/OiBudW1iZXIgfCBzdHJpbmcgfCBGaWx0ZXJGdW5jdGlvblN0cmluZykge1xuICAgICAgICBzdXBlcihmdW5jdGlvbk5hbWUsIHByb3BlcnR5LCB0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbmV3IFF1b3RlZFN0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgIDogdmFsdWUgaW5zdGFuY2VvZiBGaWx0ZXJGdW5jdGlvblN0cmluZyA/IHZhbHVlLnRvU3RyaW5nKCkgOiB2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyQ29udGFpbnMgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdjb250YWlucycsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJFbmRzd2l0aCBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgRmlsdGVyRnVuY3Rpb25TdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ2VuZHN3aXRoJywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclN0YXJ0c3dpdGggZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdzdGFydHN3aXRoJywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckxlbmd0aCBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdsZW5ndGgnLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVySW5kZXhvZiBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgRmlsdGVyRnVuY3Rpb25TdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ2luZGV4b2YnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyU3Vic3RyaW5nIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoJ3N1YnN0cmluZycsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJUb2xvd2VyIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ3RvbG93ZXInLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyVG91cHBlciBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCd0b3VwcGVyJywgcHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclRyaW0gZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcigndHJpbScsIHByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb25jYXQgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdjb25jYXQnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlsdGVySGFzRmlsdGVyIHtcbiAgICBwcm90ZWN0ZWQgZmlsdGVyOiBGaWx0ZXIgfCBGaWx0ZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKGZpbHRlcjogRmlsdGVyIHwgRmlsdGVyW10pIHtcbiAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgZ2V0RmlsdGVyKCk6IEZpbHRlciB8IEZpbHRlcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgRmlsdGVySGFzRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXItaGFzLWZpbHRlcic7XG5pbXBvcnQgeyBGaWx0ZXJIYXNQcm9wZXJ0eSB9IGZyb20gJy4vZmlsdGVyLWhhcy1wcm9wZXJ0eSc7XG5cbmV4cG9ydCBlbnVtIExhbWJkYU9wZXJhdG9yIHtcbiAgICBBTlksIEFMTFxufVxuXG5leHBvcnQgZW51bSBMYW1iZGFDb2xsZWN0aW9uIHtcbiAgICBQUk9QRVJUWV9DT0xMRUNUSU9OLCBFTlRJVFlfU0VUXG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJMYW1iZGEgZXh0ZW5kcyBGaWx0ZXJIYXNGaWx0ZXIgaW1wbGVtZW50cyBGaWx0ZXIge1xuICAgIHByaXZhdGUgbGFtYmRhQ29sbGVjdGlvbjogTGFtYmRhQ29sbGVjdGlvbjtcbiAgICBwcml2YXRlIHByb3BlcnR5T3JFbnRpdHlTZXQ6IHN0cmluZztcbiAgICBwcml2YXRlIGxhbWJkYU9wZXJhdG9yOiBMYW1iZGFPcGVyYXRvcjtcblxuICAgIGNvbnN0cnVjdG9yKGxhbWJkYUNvbGxlY3Rpb246IExhbWJkYUNvbGxlY3Rpb24sIHByb3BlcnR5T3JFbnRpdHlTZXQ6IHN0cmluZywgbGFtYmRhT3BlcmF0b3I6IExhbWJkYU9wZXJhdG9yLCBmaWx0ZXI6IEZpbHRlcikge1xuICAgICAgICBzdXBlcihmaWx0ZXIpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChsYW1iZGFDb2xsZWN0aW9uLCAnbGFtYmRhQ29sbGVjdGlvbicpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChwcm9wZXJ0eU9yRW50aXR5U2V0LCAncHJvcGVydHlPckVudGl0eVNldCcpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChsYW1iZGFPcGVyYXRvciwgJ2xhbWJkYU9wZXJhdG9yJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKGZpbHRlciwgJ2ZpbHRlcicpO1xuICAgICAgICBpZiAobGFtYmRhQ29sbGVjdGlvbiA9PT0gTGFtYmRhQ29sbGVjdGlvbi5QUk9QRVJUWV9DT0xMRUNUSU9OKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrUHJvcGVydHkocHJvcGVydHlPckVudGl0eVNldCwgZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhbWJkYUNvbGxlY3Rpb24gPSBsYW1iZGFDb2xsZWN0aW9uO1xuICAgICAgICB0aGlzLnByb3BlcnR5T3JFbnRpdHlTZXQgPSBwcm9wZXJ0eU9yRW50aXR5U2V0O1xuICAgICAgICB0aGlzLmxhbWJkYU9wZXJhdG9yID0gbGFtYmRhT3BlcmF0b3I7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmxhbWJkYUNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgTGFtYmRhQ29sbGVjdGlvbi5QUk9QRVJUWV9DT0xMRUNUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZVByb3BlcnR5KHRoaXMuZmlsdGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5wcm9wZXJ0eU9yRW50aXR5U2V0fS8ke0xhbWJkYU9wZXJhdG9yW3RoaXMubGFtYmRhT3BlcmF0b3JdLnRvTG93ZXJDYXNlKCl9KHg6JHt0aGlzLmZpbHRlci50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgY2FzZSBMYW1iZGFDb2xsZWN0aW9uLkVOVElUWV9TRVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMucHJvcGVydHlPckVudGl0eVNldH0vJHtMYW1iZGFPcGVyYXRvclt0aGlzLmxhbWJkYU9wZXJhdG9yXS50b0xvd2VyQ2FzZSgpfSh4OngvJHt0aGlzLmZpbHRlci50b1N0cmluZygpfSlgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gbGFtYmRhQ29sbGVjdGlvbjogJyArIHRoaXMubGFtYmRhQ29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5sYW1iZGFDb2xsZWN0aW9uKVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5wcm9wZXJ0eU9yRW50aXR5U2V0KVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5sYW1iZGFPcGVyYXRvcilcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHlPckVudGl0eVNldClcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLmZpbHRlcikgJiYgVXRpbHMuaXNFbXB0eSh0aGlzLmZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLmZpbHRlcilcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5T3JFbnRpdHlTZXQpICYmICF0aGlzLnByb3BlcnR5T3JFbnRpdHlTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHlPckVudGl0eVNldCkgJiYgIXRoaXMucHJvcGVydHlPckVudGl0eVNldC5sZW5ndGhcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLmZpbHRlcikgJiYgVXRpbHMuaXNFbXB0eSh0aGlzLmZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjaGVja1Byb3BlcnR5KHByb3BlcnR5T3JFbnRpdHlTZXQ6IHN0cmluZywgZmlsdGVyOiBGaWx0ZXIgfCBGaWx0ZXJbXSkge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQoZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBGaWx0ZXJIYXNQcm9wZXJ0eSkge1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5T3JFbnRpdHlTZXQgIT09IGZpbHRlci5nZXRQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsYW1iZGEgcHJvcGVydHkgdG8gZmlsdGVyIG11c3QgbWF0Y2ggaW5uZXIgZmlsdGVycyBwcm9wZXJ0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBGaWx0ZXJIYXNGaWx0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlckNoaWxkOiBGaWx0ZXIgfCBGaWx0ZXJbXSA9IGZpbHRlci5nZXRGaWx0ZXIoKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJDaGlsZCBpbnN0YW5jZW9mIEZpbHRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZVByb3BlcnR5KGZpbHRlckNoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIGZpbHRlckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZVByb3BlcnR5KGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCByZXBsYWNlUHJvcGVydHkoZmlsdGVyOiBGaWx0ZXIgfCBGaWx0ZXJbXSkge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQoZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBGaWx0ZXJIYXNQcm9wZXJ0eSkge1xuICAgICAgICAgICAgZmlsdGVyLnNldFByb3BlcnR5KCd4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlciBpbnN0YW5jZW9mIEZpbHRlckhhc0ZpbHRlcikge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyQ2hpbGQ6IEZpbHRlciB8IEZpbHRlcltdID0gZmlsdGVyLmdldEZpbHRlcigpO1xuICAgICAgICAgICAgaWYgKGZpbHRlckNoaWxkIGluc3RhbmNlb2YgRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlUHJvcGVydHkoZmlsdGVyQ2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgZmlsdGVyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlUHJvcGVydHkoZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBPcGVyYXRvckxvZ2ljYWwgfSBmcm9tICcuLi9vcGVyYXRvcic7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyBGaWx0ZXJIYXNGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlci1oYXMtZmlsdGVyJztcblxuZXhwb3J0IGNsYXNzIEZpbHRlckxvZ2ljYWwgZXh0ZW5kcyBGaWx0ZXJIYXNGaWx0ZXIgaW1wbGVtZW50cyBGaWx0ZXIge1xuICAgIHByaXZhdGUgb3BlcmF0b3I6IE9wZXJhdG9yTG9naWNhbDtcblxuICAgIGNvbnN0cnVjdG9yKGZpbHRlcnM6IEZpbHRlcltdLCBvcGVyYXRvcjogT3BlcmF0b3JMb2dpY2FsKSB7XG4gICAgICAgIHN1cGVyKGZpbHRlcnMpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChmaWx0ZXJzLCAnZmlsdGVycycpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkoZmlsdGVycywgJ2ZpbHRlcnMnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQob3BlcmF0b3IsICdvcGVyYXRvcicpO1xuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBVdGlscy50b1N0cmluZyh0aGlzLmZpbHRlciwgdGhpcy5vcGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBmaWx0ZXIgb2YgPEZpbHRlcltdPnRoaXMuZmlsdGVyKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgU2VhcmNoIHtcbiAgICBhYnN0cmFjdCB0b1N0cmluZygpOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgaXNFbXB0eSgpOiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBPcGVyYXRvckxvZ2ljYWwgfSBmcm9tICcuLi9vcGVyYXRvcic7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tICcuL3NlYXJjaCc7XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hMb2dpY2FsIGV4dGVuZHMgU2VhcmNoIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlczogU2VhcmNoW10sIHByaXZhdGUgb3BlcmF0b3I6IE9wZXJhdG9yTG9naWNhbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZXMsICd2YWx1ZXMnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQob3BlcmF0b3IsICdvcGVyYXRvcicpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWVzLCAndmFsdWVzJyk7XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSBPcGVyYXRvckxvZ2ljYWwuTk9UICYmIHZhbHVlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3BlcmF0b3IgJyArIE9wZXJhdG9yTG9naWNhbFtvcGVyYXRvcl0gKyAnIHJlcXVpcmVzIGEgc2luZ2xlIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gVXRpbHMudG9TdHJpbmcodGhpcy52YWx1ZXMsIHRoaXMub3BlcmF0b3IsIHRydWUpO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy52YWx1ZXMpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tICcuL3NlYXJjaCc7XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hTaW1wbGUgZXh0ZW5kcyBTZWFyY2gge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy52YWx1ZSkgfHwgIXRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNlYXJjaFNpbXBsZSB9IGZyb20gJy4vc2VhcmNoLXNpbXBsZSc7XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hQaHJhc2UgZXh0ZW5kcyBTZWFyY2hTaW1wbGUge1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgXCIke3RoaXMudmFsdWV9XCJgO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBPRGF0YVNlcnZpY2UgfSBmcm9tICcuL29kYXRhLXNlcnZpY2Uvb2RhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBIdHRwQ2xpZW50TW9kdWxlXG4gIF0sXG4gIHByb3ZpZGVyczogW09EYXRhU2VydmljZV1cbn0pXG5leHBvcnQgY2xhc3MgT0RhdGFNb2R1bGUgeyB9XG4iXSwibmFtZXMiOlsibWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7SUFDSSxLQUFFLEVBQUUsS0FBRSxFQUFFLEtBQUUsRUFBRSxLQUFFLEVBQUUsS0FBRSxFQUFFLEtBQUUsRUFBRSxNQUFHOztzQ0FBM0IsRUFBRTtzQ0FBRSxFQUFFO3NDQUFFLEVBQUU7c0NBQUUsRUFBRTtzQ0FBRSxFQUFFO3NDQUFFLEVBQUU7c0NBQUUsR0FBRzs7O0lBSTNCLE1BQUcsRUFBRSxLQUFFLEVBQUUsTUFBRzs7Z0NBQVosR0FBRztnQ0FBRSxFQUFFO2dDQUFFLEdBQUc7OztJQUlaLE1BQUcsRUFBRSxNQUFHLEVBQUUsTUFBRyxFQUFFLE1BQUcsRUFBRSxNQUFHOztzQ0FBdkIsR0FBRztzQ0FBRSxHQUFHO3NDQUFFLEdBQUc7c0NBQUUsR0FBRztzQ0FBRSxHQUFHOzs7Ozs7QUNUM0I7Ozs7SUFDSSxZQUFvQixLQUFhO1FBQWIsVUFBSyxHQUFMLEtBQUssQ0FBUTtLQUFLOzs7O0lBQ3RDLFFBQVE7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDckI7Q0FDSjs7Ozs7O0FDTEQ7Ozs7O0lBS0ksT0FBTyxNQUFNLENBQUMsS0FBVTtRQUNwQixPQUFPLEtBQUssS0FBSyxJQUFJLENBQUM7S0FDekI7Ozs7O0lBRUQsT0FBTyxXQUFXLENBQUMsS0FBVTtRQUN6QixPQUFPLEtBQUssS0FBSyxTQUFTLENBQUM7S0FDOUI7Ozs7O0lBRUQsT0FBTyxpQkFBaUIsQ0FBQyxLQUFVO1FBQy9CLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzFEOzs7OztJQUVELE9BQU8scUJBQXFCLENB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