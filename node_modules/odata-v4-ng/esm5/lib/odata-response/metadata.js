/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { CsdlTypeDefinition } from './csdl/csdl-type-definition';
import { CsdlSchema } from './csdl/csdl-schema';
import { Utils } from '../utils/utils';
import { CsdlEnumType, CsdlEnumMember } from './csdl/csdl-enum-type';
import { CsdlEntityType, CsdlPropertyRef, CsdlKey, CsdlComplexType } from './csdl/csdl-structured-type';
import { CsdlFunction, CsdlParameter, CsdlFunctionImport, CsdlActionImport, CsdlReturnType, CsdlAction } from './csdl/csdl-function-action';
import { CsdlProperty, CsdlNavigationProperty, CsdlReferentialConstraint, CsdlOnDelete } from './csdl/csdl-structural-property';
import { CsdlEntitySet } from './csdl/csdl-entity-set';
import { CsdlSingleton } from './csdl/csdl-singleton';
import { CsdlEntityContainer } from './csdl/csdl-entity-container';
import { CsdlReference, CsdlInclude, CsdlIncludeAnnotations } from './csdl/csdl-reference';
import { CsdlAnnotation, CsdlTerm, CsdlAnnotations } from './csdl/csdl-annotation';
import { CsdlNavigationPropertyBinding } from './csdl/csdl-navigation-property-binding';
/** @enum {number} */
var FieldType = {
    ATTRIBUTE: 0, TAG: 1,
};
export { FieldType };
FieldType[FieldType.ATTRIBUTE] = 'ATTRIBUTE';
FieldType[FieldType.TAG] = 'TAG';
var Field = /** @class */ (function () {
    function Field(name, fieldType) {
        this.name = name;
        this.fieldType = fieldType;
    }
    return Field;
}());
export { Field };
if (false) {
    /** @type {?} */
    Field.prototype.name;
    /** @type {?} */
    Field.prototype.fieldType;
}
var Metadata = /** @class */ (function () {
    function Metadata(xml) {
        try {
            /** @type {?} */
            var parser = new DOMParser();
            /** @type {?} */
            var document_1 = parser.parseFromString(xml, 'text/xml');
            this.checkVersion(document_1);
            this.version = this.getFieldValueByAttribute(new Field(Metadata.ATTRIBUTE_VERSION, FieldType.ATTRIBUTE), document_1.documentElement.attributes);
            this.references = this.getObjects(document_1.documentElement, Metadata.TAG_REFERENCE, [
                new Field(Metadata.ATTRIBUTE_URI, FieldType.ATTRIBUTE),
                new Field(Metadata.TAG_INCLUDE, FieldType.TAG),
                new Field(Metadata.TAG_INCLUDE_ANNOTATIONS, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
            ]);
            /** @type {?} */
            var dataServices = document_1.documentElement.getElementsByTagName(Metadata.TAG_DATA_SERVICES)[0];
            this.schemas = this.getObjects(dataServices, Metadata.TAG_SCHEMA, [
                new Field(Metadata.ATTRIBUTE_NAMESPACE, FieldType.ATTRIBUTE),
                new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE),
                new Field(Metadata.TAG_ENUM_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_COMPLEX_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_ENTITY_TYPE, FieldType.TAG),
                new Field(Metadata.TAG_FUNCTION, FieldType.TAG),
                new Field(Metadata.TAG_ACTION, FieldType.TAG),
                new Field(Metadata.TAG_ENTITY_CONTAINER, FieldType.TAG),
                new Field(Metadata.TAG_TYPE_DEFINITION, FieldType.TAG),
                new Field(Metadata.TAG_TERM, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATIONS, FieldType.TAG),
                new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
            ]);
        }
        catch (error) {
            throw new Error('Unable to parse metadata, ' + error);
        }
    }
    /**
     * @param {?} document
     * @return {?}
     */
    Metadata.prototype.checkVersion = /**
     * @param {?} document
     * @return {?}
     */
    function (document) {
        /** @type {?} */
        var attributes = document.documentElement.attributes;
        if (Utils.isNullOrUndefined(attributes)) {
            throw new Error('OData version is not specified in the metadata');
        }
        /** @type {?} */
        var attr = attributes.getNamedItem('Version');
        if (Utils.isNullOrUndefined(attr)) {
            throw new Error('OData version is not specified in the metadata');
        }
        /** @type {?} */
        var odataVersion = attr.nodeValue;
        if (odataVersion !== '4.0') {
            throw new Error('OData version "' + odataVersion + '" is not supported');
        }
    };
    /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    Metadata.prototype.getObjects = /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    function (parentElement, tag, fieldNames) {
        /** @type {?} */
        var objects;
        /** @type {?} */
        var children = parentElement.children;
        for (var index = 0; index < children.length; index++) {
            /** @type {?} */
            var element = children.item(index);
            if (element.nodeName !== tag) {
                continue;
            }
            /** @type {?} */
            var attributes = element.attributes;
            /** @type {?} */
            var fieldValues = this.getFieldValues(fieldNames, attributes, element);
            if (Utils.isNullOrUndefined(objects)) {
                objects = [];
            }
            switch (tag) {
                case Metadata.TAG_REFERENCE:
                    objects.push(new CsdlReference(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_INCLUDE:
                    objects.push(new CsdlInclude(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_INCLUDE_ANNOTATIONS:
                    objects.push(new CsdlIncludeAnnotations(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_TERM:
                    objects.push(new CsdlTerm(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8], fieldValues[9]));
                    break;
                case Metadata.TAG_ANNOTATIONS:
                    objects.push(new CsdlAnnotations(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_ANNOTATION:
                    objects.push(new CsdlAnnotation(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_SCHEMA:
                    objects.push(new CsdlSchema(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8], fieldValues[9], fieldValues[10], fieldValues[11]));
                    break;
                case Metadata.TAG_ENUM_TYPE:
                    objects.push(new CsdlEnumType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_COMPLEX_TYPE:
                    objects.push(new CsdlComplexType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]));
                    break;
                case Metadata.TAG_ENTITY_TYPE:
                    objects.push(new CsdlEntityType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7]));
                    break;
                case Metadata.TAG_FUNCTION:
                    objects.push(new CsdlFunction(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]));
                    break;
                case Metadata.TAG_MEMBER:
                    objects.push(new CsdlEnumMember(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_PROPERTY:
                    objects.push(new CsdlProperty(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7], fieldValues[8]));
                    break;
                case Metadata.TAG_PROPERTY_REF:
                    objects.push(new CsdlPropertyRef(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_NAVIGATION_PROPERTY:
                    objects.push(new CsdlNavigationProperty(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6]));
                    break;
                case Metadata.TAG_REFERENTIAL_CONSTRAINT:
                    objects.push(new CsdlReferentialConstraint(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_PARAMETER:
                    objects.push(new CsdlParameter(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6]));
                    break;
                case Metadata.TAG_ACTION:
                    objects.push(new CsdlAction(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4]));
                    break;
                case Metadata.TAG_ENTITY_SET:
                    objects.push(new CsdlEntitySet(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_SINGLETON:
                    objects.push(new CsdlSingleton(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_FUNCTION_IMPORT:
                    objects.push(new CsdlFunctionImport(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3]));
                    break;
                case Metadata.TAG_ACTION_IMPORT:
                    objects.push(new CsdlActionImport(fieldValues[0], fieldValues[1], fieldValues[2]));
                    break;
                case Metadata.TAG_NAVIGATION_PROPERTY_BINDING:
                    objects.push(new CsdlNavigationPropertyBinding(fieldValues[0], fieldValues[1]));
                    break;
                case Metadata.TAG_TYPE_DEFINITION:
                    objects.push(new CsdlTypeDefinition(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5], fieldValues[6], fieldValues[7]));
                    break;
                default: throw new Error('Unknwon tag:' + tag);
            }
        }
        return objects;
    };
    /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    Metadata.prototype.getObject = /**
     * @param {?} parentElement
     * @param {?} tag
     * @param {?} fieldNames
     * @return {?}
     */
    function (parentElement, tag, fieldNames) {
        /** @type {?} */
        var object;
        /** @type {?} */
        var children = parentElement.children;
        /** @type {?} */
        var element;
        for (var index = 0; index < children.length; index++) {
            if (children.item(index).nodeName === tag) {
                if (Utils.isNotNullNorUndefined(element)) {
                    throw new Error('Expected one ' + tag);
                }
                element = children.item(index);
            }
        }
        if (Utils.isNotNullNorUndefined(element)) {
            /** @type {?} */
            var attributes = element.attributes;
            /** @type {?} */
            var fieldValues = this.getFieldValues(fieldNames, attributes, element);
            switch (tag) {
                case Metadata.TAG_KEY:
                    object = new CsdlKey(fieldValues[0]);
                    break;
                case Metadata.TAG_RETURN_TYPE:
                    object = new CsdlReturnType(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]);
                    break;
                case Metadata.TAG_ENTITY_CONTAINER:
                    object = new CsdlEntityContainer(fieldValues[0], fieldValues[1], fieldValues[2], fieldValues[3], fieldValues[4], fieldValues[5]);
                    break;
                case Metadata.TAG_ON_DELETE:
                    object = new CsdlOnDelete(fieldValues[0]);
                    break;
                default: throw new Error('Unknwon tag:' + tag);
            }
        }
        return object;
    };
    /**
     * @param {?} fields
     * @param {?} attributes
     * @param {?} element
     * @return {?}
     */
    Metadata.prototype.getFieldValues = /**
     * @param {?} fields
     * @param {?} attributes
     * @param {?} element
     * @return {?}
     */
    function (fields, attributes, element) {
        /** @type {?} */
        var fieldValues = [];
        try {
            for (var fields_1 = tslib_1.__values(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                var field = fields_1_1.value;
                if (field.fieldType === FieldType.TAG) {
                    fieldValues.push(this.getFieldValueByTag(field, element));
                }
                else if (field.fieldType === FieldType.ATTRIBUTE) {
                    fieldValues.push(this.getFieldValueByAttribute(field, attributes));
                }
                else {
                    throw new Error('Unknown field type: ' + field.fieldType);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return)) _a.call(fields_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return fieldValues;
        var e_1, _a;
    };
    /**
     * @param {?} field
     * @param {?} attributes
     * @return {?}
     */
    Metadata.prototype.getFieldValueByAttribute = /**
     * @param {?} field
     * @param {?} attributes
     * @return {?}
     */
    function (field, attributes) {
        switch (field.name) {
            case Metadata.ATTRIBUTE_VERSION:
            case Metadata.ATTRIBUTE_URI:
            case Metadata.ATTRIBUTE_NAMESPACE:
            case Metadata.ATTRIBUTE_ALIAS:
            case Metadata.ATTRIBUTE_TERM_NAMESPACE:
            case Metadata.ATTRIBUTE_TERM:
            case Metadata.ATTRIBUTE_QUALIFIER:
            case Metadata.ATTRIBUTE_TARGET_NAMESPACE:
            case Metadata.ATTRIBUTE_NAME:
            case Metadata.ATTRIBUTE_TYPE:
            case Metadata.ATTRIBUTE_SRID:
            case Metadata.ATTRIBUTE_DEFAULT_VALUE:
            case Metadata.ATTRIBUTE_PARTNER:
            case Metadata.ATTRIBUTE_PROPERTY:
            case Metadata.ATTRIBUTE_REFERENCED_PROPERTY:
            case Metadata.ATTRIBUTE_BASE_TYPE:
            case Metadata.ATTRIBUTE_ENTITY_SET_PATH:
            case Metadata.ATTRIBUTE_ENTITY_TYPE:
            case Metadata.ATTRIBUTE_PATH:
            case Metadata.ATTRIBUTE_TARGET:
            case Metadata.ATTRIBUTE_FUNCTION:
            case Metadata.ATTRIBUTE_ACTION:
            case Metadata.ATTRIBUTE_ENTITY_SET:
            case Metadata.ATTRIBUTE_UNDERLYING_TYPE:
            case Metadata.ATTRIBUTE_EXTENDS:
            case Metadata.ATTRIBUTE_BASE_TERM:
            case Metadata.ATTRIBUTE_APPLIES_TO:
                return this.getAttributeValue(attributes, field.name);
            case Metadata.ATTRIBUTE_NULLABLE:
            case Metadata.ATTRIBUTE_UNICODE:
            case Metadata.ATTRIBUTE_OPEN_TYPE:
            case Metadata.ATTRIBUTE_HAS_STREAM:
            case Metadata.ATTRIBUTE_IS_BOUND:
            case Metadata.ATTRIBUTE_IS_COMPOSABLE:
            case Metadata.ATTRIBUTE_CONTAINS_TARGET:
            case Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT:
            case Metadata.ATTRIBUTE_ABSTRACT:
            case Metadata.ATTRIBUTE_IS_FLAGS:
                return this.propertyValueToBoolean(this.getAttributeValue(attributes, field.name));
            case Metadata.ATTRIBUTE_VALUE:
            case Metadata.ATTRIBUTE_MAX_LENGTH:
            case Metadata.ATTRIBUTE_PRECISION:
            case Metadata.ATTRIBUTE_SCALE:
                return this.propertyValueToNumber(this.getAttributeValue(attributes, field.name));
            default: throw new Error('Unknwon attribute:' + field.name);
        }
    };
    /**
     * @param {?} field
     * @param {?} element
     * @return {?}
     */
    Metadata.prototype.getFieldValueByTag = /**
     * @param {?} field
     * @param {?} element
     * @return {?}
     */
    function (field, element) {
        switch (field.name) {
            case Metadata.TAG_INCLUDE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAMESPACE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_INCLUDE_ANNOTATIONS:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TERM_NAMESPACE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TARGET_NAMESPACE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_TERM:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_BASE_TERM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_DEFAULT_VALUE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_APPLIES_TO, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ANNOTATIONS:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TARGET, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ANNOTATION, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ANNOTATION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TERM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_QUALIFIER, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ENUM_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_MEMBER, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_UNDERLYING_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_IS_FLAGS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_COMPLEX_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PROPERTY, FieldType.TAG),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_BASE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_OPEN_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ABSTRACT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ENTITY_TYPE:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_KEY, FieldType.TAG),
                    new Field(Metadata.TAG_PROPERTY, FieldType.TAG),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_BASE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_OPEN_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_HAS_STREAM, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ABSTRACT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_FUNCTION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_RETURN_TYPE, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_IS_BOUND, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_IS_COMPOSABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PARAMETER, FieldType.TAG)
                ]);
            case Metadata.TAG_MEMBER:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_VALUE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_PROPERTY:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNICODE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_DEFAULT_VALUE, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_KEY:
                return this.getObject(element, field.name, [
                    new Field(Metadata.TAG_PROPERTY_REF, FieldType.TAG)
                ]);
            case Metadata.TAG_PROPERTY_REF:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ALIAS, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_NAVIGATION_PROPERTY:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PARTNER, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_CONTAINS_TARGET, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_REFERENTIAL_CONSTRAINT, FieldType.TAG),
                    new Field(Metadata.TAG_ON_DELETE, FieldType.TAG)
                ]);
            case Metadata.TAG_REFERENTIAL_CONSTRAINT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_PROPERTY, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_REFERENCED_PROPERTY, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ON_DELETE:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_ACTION, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_PARAMETER:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_RETURN_TYPE:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_NULLABLE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ACTION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_RETURN_TYPE, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_IS_BOUND, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_PARAMETER, FieldType.TAG)
                ]);
            case Metadata.TAG_ENTITY_CONTAINER:
                return this.getObject(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_EXTENDS, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ENTITY_SET, FieldType.TAG),
                    new Field(Metadata.TAG_SINGLETON, FieldType.TAG),
                    new Field(Metadata.TAG_FUNCTION_IMPORT, FieldType.TAG),
                    new Field(Metadata.TAG_ACTION_IMPORT, FieldType.TAG)
                ]);
            case Metadata.TAG_ENTITY_SET:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY_BINDING, FieldType.TAG),
                    new Field(Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_SINGLETON:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_NAVIGATION_PROPERTY_BINDING, FieldType.TAG)
                ]);
            case Metadata.TAG_FUNCTION_IMPORT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_FUNCTION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_ACTION_IMPORT:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ACTION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_ENTITY_SET, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_NAVIGATION_PROPERTY_BINDING:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_PATH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_TARGET, FieldType.ATTRIBUTE)
                ]);
            case Metadata.TAG_TYPE_DEFINITION:
                return this.getObjects(element, field.name, [
                    new Field(Metadata.ATTRIBUTE_NAME, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNDERLYING_TYPE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_MAX_LENGTH, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_PRECISION, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SCALE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_UNICODE, FieldType.ATTRIBUTE),
                    new Field(Metadata.ATTRIBUTE_SRID, FieldType.ATTRIBUTE),
                    new Field(Metadata.TAG_ANNOTATION, FieldType.TAG)
                ]);
            default: throw new Error('Unknwon tag:' + field.name);
        }
    };
    /**
     * @param {?} attributes
     * @param {?} attributeName
     * @return {?}
     */
    Metadata.prototype.getAttributeValue = /**
     * @param {?} attributes
     * @param {?} attributeName
     * @return {?}
     */
    function (attributes, attributeName) {
        /** @type {?} */
        var attribute = attributes.getNamedItem(attributeName);
        if (Utils.isNotNullNorUndefined(attribute)) {
            return attribute.nodeValue;
        }
        return undefined;
    };
    /**
     * @param {?} attributeValue
     * @return {?}
     */
    Metadata.prototype.propertyValueToNumber = /**
     * @param {?} attributeValue
     * @return {?}
     */
    function (attributeValue) {
        return Utils.isNotNullNorUndefined(attributeValue) ? Number(attributeValue) : undefined;
    };
    /**
     * @param {?} attributeValue
     * @return {?}
     */
    Metadata.prototype.propertyValueToBoolean = /**
     * @param {?} attributeValue
     * @return {?}
     */
    function (attributeValue) {
        return Utils.isNotNullNorUndefined(attributeValue) ? attributeValue === 'true' : undefined;
    };
    Metadata.TAG_EDMX = 'edmx:Edmx';
    Metadata.TAG_DATA_SERVICES = 'edmx:DataServices';
    Metadata.TAG_REFERENCE = 'edmx:Reference';
    Metadata.TAG_INCLUDE = 'edmx:Include';
    Metadata.TAG_INCLUDE_ANNOTATIONS = 'edmx:IncludeAnnotations';
    Metadata.TAG_TERM = 'Term';
    Metadata.TAG_ANNOTATIONS = 'Annotations';
    Metadata.TAG_ANNOTATION = 'Annotation';
    Metadata.TAG_SCHEMA = 'Schema';
    Metadata.TAG_ENUM_TYPE = 'EnumType';
    Metadata.TAG_MEMBER = 'Member';
    Metadata.TAG_COMPLEX_TYPE = 'ComplexType';
    Metadata.TAG_ENTITY_TYPE = 'EntityType';
    Metadata.TAG_PROPERTY = 'Property';
    Metadata.TAG_KEY = 'Key';
    Metadata.TAG_PROPERTY_REF = 'PropertyRef';
    Metadata.TAG_NAVIGATION_PROPERTY = 'NavigationProperty';
    Metadata.TAG_REFERENTIAL_CONSTRAINT = 'ReferentialConstraint';
    Metadata.TAG_ON_DELETE = 'OnDelete';
    Metadata.TAG_FUNCTION = 'Function';
    Metadata.TAG_RETURN_TYPE = 'ReturnType';
    Metadata.TAG_PARAMETER = 'Parameter';
    Metadata.TAG_ACTION = 'Action';
    Metadata.TAG_ENTITY_CONTAINER = 'EntityContainer';
    Metadata.TAG_ENTITY_SET = 'EntitySet';
    Metadata.TAG_SINGLETON = 'Singleton';
    Metadata.TAG_FUNCTION_IMPORT = 'FunctionImport';
    Metadata.TAG_ACTION_IMPORT = 'ActionImport';
    Metadata.TAG_NAVIGATION_PROPERTY_BINDING = 'NavigationPropertyBinding';
    Metadata.TAG_TYPE_DEFINITION = 'TypeDefinition';
    Metadata.ATTRIBUTE_VERSION = 'Version';
    Metadata.ATTRIBUTE_URI = 'Uri';
    Metadata.ATTRIBUTE_ALIAS = 'Alias';
    Metadata.ATTRIBUTE_NAMESPACE = 'Namespace';
    Metadata.ATTRIBUTE_TERM_NAMESPACE = 'TermNamespace';
    Metadata.ATTRIBUTE_QUALIFIER = 'Qualifier';
    Metadata.ATTRIBUTE_TARGET_NAMESPACE = 'TargetNamespace';
    Metadata.ATTRIBUTE_TERM = 'Term';
    Metadata.ATTRIBUTE_NAME = 'Name';
    Metadata.ATTRIBUTE_VALUE = 'Value';
    Metadata.ATTRIBUTE_BASE_TYPE = 'BaseType';
    Metadata.ATTRIBUTE_OPEN_TYPE = 'OpenType';
    Metadata.ATTRIBUTE_TYPE = 'Type';
    Metadata.ATTRIBUTE_NULLABLE = 'Nullable';
    Metadata.ATTRIBUTE_MAX_LENGTH = 'MaxLength';
    Metadata.ATTRIBUTE_PRECISION = 'Precision';
    Metadata.ATTRIBUTE_SCALE = 'Scale';
    Metadata.ATTRIBUTE_UNICODE = 'Unicode';
    Metadata.ATTRIBUTE_SRID = 'SRID';
    Metadata.ATTRIBUTE_DEFAULT_VALUE = 'DefaultValue';
    Metadata.ATTRIBUTE_PARTNER = 'Partner';
    Metadata.ATTRIBUTE_PROPERTY = 'Property';
    Metadata.ATTRIBUTE_REFERENCED_PROPERTY = 'ReferencedProperty';
    Metadata.ATTRIBUTE_HAS_STREAM = 'HasStream';
    Metadata.ATTRIBUTE_CONTAINS_TARGET = 'ContainsTarget';
    Metadata.ATTRIBUTE_IS_BOUND = 'IsBound';
    Metadata.ATTRIBUTE_ENTITY_SET_PATH = 'EntitySetPath';
    Metadata.ATTRIBUTE_IS_COMPOSABLE = 'IsComposable';
    Metadata.ATTRIBUTE_ENTITY_TYPE = 'EntityType';
    Metadata.ATTRIBUTE_PATH = 'Path';
    Metadata.ATTRIBUTE_TARGET = 'Target';
    Metadata.ATTRIBUTE_FUNCTION = 'Function';
    Metadata.ATTRIBUTE_ACTION = 'Action';
    Metadata.ATTRIBUTE_ENTITY_SET = 'EntitySet';
    Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT = 'IncludeInServiceDocument';
    Metadata.ATTRIBUTE_ABSTRACT = 'Abstract';
    Metadata.ATTRIBUTE_UNDERLYING_TYPE = 'UnderlyingType';
    Metadata.ATTRIBUTE_IS_FLAGS = 'IsFlags';
    Metadata.ATTRIBUTE_EXTENDS = 'Extends';
    Metadata.ATTRIBUTE_BASE_TERM = 'BaseTerm';
    Metadata.ATTRIBUTE_APPLIES_TO = 'AppliesTo';
    return Metadata;
}());
export { Metadata };
if (false) {
    /** @type {?} */
    Metadata.TAG_EDMX;
    /** @type {?} */
    Metadata.TAG_DATA_SERVICES;
    /** @type {?} */
    Metadata.TAG_REFERENCE;
    /** @type {?} */
    Metadata.TAG_INCLUDE;
    /** @type {?} */
    Metadata.TAG_INCLUDE_ANNOTATIONS;
    /** @type {?} */
    Metadata.TAG_TERM;
    /** @type {?} */
    Metadata.TAG_ANNOTATIONS;
    /** @type {?} */
    Metadata.TAG_ANNOTATION;
    /** @type {?} */
    Metadata.TAG_SCHEMA;
    /** @type {?} */
    Metadata.TAG_ENUM_TYPE;
    /** @type {?} */
    Metadata.TAG_MEMBER;
    /** @type {?} */
    Metadata.TAG_COMPLEX_TYPE;
    /** @type {?} */
    Metadata.TAG_ENTITY_TYPE;
    /** @type {?} */
    Metadata.TAG_PROPERTY;
    /** @type {?} */
    Metadata.TAG_KEY;
    /** @type {?} */
    Metadata.TAG_PROPERTY_REF;
    /** @type {?} */
    Metadata.TAG_NAVIGATION_PROPERTY;
    /** @type {?} */
    Metadata.TAG_REFERENTIAL_CONSTRAINT;
    /** @type {?} */
    Metadata.TAG_ON_DELETE;
    /** @type {?} */
    Metadata.TAG_FUNCTION;
    /** @type {?} */
    Metadata.TAG_RETURN_TYPE;
    /** @type {?} */
    Metadata.TAG_PARAMETER;
    /** @type {?} */
    Metadata.TAG_ACTION;
    /** @type {?} */
    Metadata.TAG_ENTITY_CONTAINER;
    /** @type {?} */
    Metadata.TAG_ENTITY_SET;
    /** @type {?} */
    Metadata.TAG_SINGLETON;
    /** @type {?} */
    Metadata.TAG_FUNCTION_IMPORT;
    /** @type {?} */
    Metadata.TAG_ACTION_IMPORT;
    /** @type {?} */
    Metadata.TAG_NAVIGATION_PROPERTY_BINDING;
    /** @type {?} */
    Metadata.TAG_TYPE_DEFINITION;
    /** @type {?} */
    Metadata.ATTRIBUTE_VERSION;
    /** @type {?} */
    Metadata.ATTRIBUTE_URI;
    /** @type {?} */
    Metadata.ATTRIBUTE_ALIAS;
    /** @type {?} */
    Metadata.ATTRIBUTE_NAMESPACE;
    /** @type {?} */
    Metadata.ATTRIBUTE_TERM_NAMESPACE;
    /** @type {?} */
    Metadata.ATTRIBUTE_QUALIFIER;
    /** @type {?} */
    Metadata.ATTRIBUTE_TARGET_NAMESPACE;
    /** @type {?} */
    Metadata.ATTRIBUTE_TERM;
    /** @type {?} */
    Metadata.ATTRIBUTE_NAME;
    /** @type {?} */
    Metadata.ATTRIBUTE_VALUE;
    /** @type {?} */
    Metadata.ATTRIBUTE_BASE_TYPE;
    /** @type {?} */
    Metadata.ATTRIBUTE_OPEN_TYPE;
    /** @type {?} */
    Metadata.ATTRIBUTE_TYPE;
    /** @type {?} */
    Metadata.ATTRIBUTE_NULLABLE;
    /** @type {?} */
    Metadata.ATTRIBUTE_MAX_LENGTH;
    /** @type {?} */
    Metadata.ATTRIBUTE_PRECISION;
    /** @type {?} */
    Metadata.ATTRIBUTE_SCALE;
    /** @type {?} */
    Metadata.ATTRIBUTE_UNICODE;
    /** @type {?} */
    Metadata.ATTRIBUTE_SRID;
    /** @type {?} */
    Metadata.ATTRIBUTE_DEFAULT_VALUE;
    /** @type {?} */
    Metadata.ATTRIBUTE_PARTNER;
    /** @type {?} */
    Metadata.ATTRIBUTE_PROPERTY;
    /** @type {?} */
    Metadata.ATTRIBUTE_REFERENCED_PROPERTY;
    /** @type {?} */
    Metadata.ATTRIBUTE_HAS_STREAM;
    /** @type {?} */
    Metadata.ATTRIBUTE_CONTAINS_TARGET;
    /** @type {?} */
    Metadata.ATTRIBUTE_IS_BOUND;
    /** @type {?} */
    Metadata.ATTRIBUTE_ENTITY_SET_PATH;
    /** @type {?} */
    Metadata.ATTRIBUTE_IS_COMPOSABLE;
    /** @type {?} */
    Metadata.ATTRIBUTE_ENTITY_TYPE;
    /** @type {?} */
    Metadata.ATTRIBUTE_PATH;
    /** @type {?} */
    Metadata.ATTRIBUTE_TARGET;
    /** @type {?} */
    Metadata.ATTRIBUTE_FUNCTION;
    /** @type {?} */
    Metadata.ATTRIBUTE_ACTION;
    /** @type {?} */
    Metadata.ATTRIBUTE_ENTITY_SET;
    /** @type {?} */
    Metadata.ATTRIBUTE_INCLUDE_IN_SERVICE_DOCUMENT;
    /** @type {?} */
    Metadata.ATTRIBUTE_ABSTRACT;
    /** @type {?} */
    Metadata.ATTRIBUTE_UNDERLYING_TYPE;
    /** @type {?} */
    Metadata.ATTRIBUTE_IS_FLAGS;
    /** @type {?} */
    Metadata.ATTRIBUTE_EXTENDS;
    /** @type {?} */
    Metadata.ATTRIBUTE_BASE_TERM;
    /** @type {?} */
    Metadata.ATTRIBUTE_APPLIES_TO;
    /** @type {?} */
    Metadata.prototype.version;
    /** @type {?} */
    Metadata.prototype.references;
    /** @type {?} */
    Metadata.prototype.schemas;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9vZGF0YS12NC1uZy8iLCJzb3VyY2VzIjpbImxpYi9vZGF0YS1yZXNwb25zZS9tZXRhZGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkMsT0FBTyxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDeEcsT0FBTyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsa0JBQWtCLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLFVBQVUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzVJLE9BQU8sRUFBRSxZQUFZLEVBQUUsc0JBQXNCLEVBQUUseUJBQXlCLEVBQUUsWUFBWSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDaEksT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUNuRSxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzNGLE9BQU8sRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ25GLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLHlDQUF5QyxDQUFDOzs7SUFHcEYsWUFBUyxFQUFFLE1BQUc7OztvQkFBZCxTQUFTO29CQUFFLEdBQUc7QUFFbEIsSUFBQTtJQUNJLGVBQW1CLElBQVksRUFBUyxTQUFvQjtRQUF6QyxTQUFJLEdBQUosSUFBSSxDQUFRO1FBQVMsY0FBUyxHQUFULFNBQVMsQ0FBVztLQUFLO2dCQWxCckU7SUFtQkMsQ0FBQTtBQUZELGlCQUVDOzs7Ozs7OztJQWtGRyxrQkFBWSxHQUFXO1FBQ25CLElBQUksQ0FBQzs7WUFDRCxJQUFNLE1BQU0sR0FBYyxJQUFJLFNBQVMsRUFBRSxDQUFDOztZQUMxQyxJQUFNLFVBQVEsR0FBYSxNQUFNLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUVuRSxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVEsQ0FBQyxDQUFDO1lBRTVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUMxRCxVQUFRLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRXpDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFRLENBQUMsZUFBZSxFQUFFLFFBQVEsQ0FBQyxhQUFhLEVBQUU7Z0JBQ2hGLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDdEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2dCQUM5QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDMUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2FBQ3BELENBQUMsQ0FBQzs7WUFFSCxJQUFNLFlBQVksR0FBWSxVQUFRLENBQUMsZUFBZSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFBRTtnQkFDOUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7Z0JBQzVELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDeEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2dCQUNoRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDbkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2dCQUNsRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7Z0JBQy9DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDN0MsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7Z0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2dCQUN0RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7Z0JBQzNDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDbEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2FBQ3BELENBQUMsQ0FBQztTQUNOO1FBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ3pEO0tBQ0o7Ozs7O0lBRVMsK0JBQVk7Ozs7SUFBdEIsVUFBdUIsUUFBa0I7O1FBRXJDLElBQU0sVUFBVSxHQUFpQixRQUFRLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQztRQUNyRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0RBQWdELENBQUMsQ0FBQztTQUNyRTs7UUFDRCxJQUFNLElBQUksR0FBUyxVQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQyxDQUFDO1NBQ3JFOztRQUNELElBQU0sWUFBWSxHQUFXLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDNUMsRUFBRSxDQUFDLENBQUMsWUFBWSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsR0FBRyxZQUFZLEdBQUcsb0JBQW9CLENBQUMsQ0FBQztTQUM1RTtLQUNKOzs7Ozs7O0lBRVMsNkJBQVU7Ozs7OztJQUFwQixVQUFxQixhQUFzQixFQUFFLEdBQVcsRUFBRSxVQUFtQjs7UUFDekUsSUFBSSxPQUFPLENBQVE7O1FBRW5CLElBQU0sUUFBUSxHQUFtQixhQUFhLENBQUMsUUFBUSxDQUFDO1FBQ3hELEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDOztZQUNuRCxJQUFNLE9BQU8sR0FBWSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRTlDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsUUFBUSxDQUFDO2FBQ1o7O1lBRUQsSUFBTSxVQUFVLEdBQWlCLE9BQU8sQ0FBQyxVQUFVLENBQUM7O1lBQ3BELElBQU0sV0FBVyxHQUFVLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNoRixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxPQUFPLEdBQUcsRUFBRSxDQUFDO2FBQ2hCO1lBQ0QsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxhQUFhO29CQUN2QixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUMxQixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNyQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsV0FBVztvQkFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFdBQVcsQ0FDeEIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyx1QkFBdUI7b0JBQ2pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxzQkFBc0IsQ0FDbkMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNyQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsUUFBUTtvQkFDbEIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FDckIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUNqQixDQUFDLENBQUM7b0JBQ0gsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGVBQWU7b0JBQ3pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxlQUFlLENBQzVCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUNqQixDQUFDLENBQUM7b0JBQ0gsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGNBQWM7b0JBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxjQUFjLENBQzNCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQ2pCLENBQUMsQ0FBQztvQkFDSCxLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsVUFBVTtvQkFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQVUsQ0FDdkIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFDZixXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0QixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsYUFBYTtvQkFDdkIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFlBQVksQ0FDekIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGdCQUFnQjtvQkFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGVBQWUsQ0FDNUIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNyQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsZUFBZTtvQkFDekIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGNBQWMsQ0FDM0IsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxZQUFZO29CQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksWUFBWSxDQUN6QixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxVQUFVO29CQUNwQixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksY0FBYyxDQUMzQixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLFlBQVk7b0JBQ3RCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxZQUFZLENBQ3pCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGdCQUFnQjtvQkFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGVBQWUsQ0FDNUIsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyx1QkFBdUI7b0JBQ2pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxzQkFBc0IsQ0FDbkMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLDBCQUEwQjtvQkFDcEMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLHlCQUF5QixDQUN0QyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGFBQWE7b0JBQ3ZCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxhQUFhLENBQzFCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxVQUFVO29CQUNwQixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksVUFBVSxDQUN2QixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGNBQWM7b0JBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxhQUFhLENBQzFCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxhQUFhO29CQUN2QixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUMxQixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxtQkFBbUI7b0JBQzdCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxrQkFBa0IsQ0FDL0IsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDckIsS0FBSyxDQUFDO2dCQUNWLEtBQUssUUFBUSxDQUFDLGlCQUFpQjtvQkFDM0IsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGdCQUFnQixDQUM3QixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQywrQkFBK0I7b0JBQ3pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSw2QkFBNkIsQ0FDMUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxtQkFBbUI7b0JBQzdCLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxrQkFBa0IsQ0FDL0IsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JCLEtBQUssQ0FBQztnQkFDVixTQUFTLE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2FBQ2xEO1NBQ0o7UUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDO0tBQ2xCOzs7Ozs7O0lBRVMsNEJBQVM7Ozs7OztJQUFuQixVQUFvQixhQUFzQixFQUFFLEdBQVcsRUFBRSxVQUFtQjs7UUFDeEUsSUFBSSxNQUFNLENBQU07O1FBRWhCLElBQU0sUUFBUSxHQUFtQixhQUFhLENBQUMsUUFBUSxDQUFDOztRQUN4RCxJQUFJLE9BQU8sQ0FBVTtRQUNyQixHQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQztZQUNuRCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsR0FBRyxHQUFHLENBQUMsQ0FBQztpQkFDMUM7Z0JBQ0QsT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDbEM7U0FDSjtRQUVELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ3ZDLElBQU0sVUFBVSxHQUFpQixPQUFPLENBQUMsVUFBVSxDQUFDOztZQUNwRCxJQUFNLFdBQVcsR0FBVSxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDaEYsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxPQUFPO29CQUNqQixNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JDLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxlQUFlO29CQUN6QixNQUFNLEdBQUcsSUFBSSxjQUFjLENBQ3ZCLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3BCLEtBQUssQ0FBQztnQkFDVixLQUFLLFFBQVEsQ0FBQyxvQkFBb0I7b0JBQzlCLE1BQU0sR0FBRyxJQUFJLG1CQUFtQixDQUM1QixXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDZCxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQ2QsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNwQixLQUFLLENBQUM7Z0JBQ1YsS0FBSyxRQUFRLENBQUMsYUFBYTtvQkFDdkIsTUFBTSxHQUFHLElBQUksWUFBWSxDQUNyQixXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDcEIsS0FBSyxDQUFDO2dCQUNWLFNBQVMsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDLENBQUM7YUFDbEQ7U0FDSjtRQUVELE1BQU0sQ0FBQyxNQUFNLENBQUM7S0FDakI7Ozs7Ozs7SUFFUyxpQ0FBYzs7Ozs7O0lBQXhCLFVBQXlCLE1BQWUsRUFBRSxVQUF3QixFQUFFLE9BQWdCOztRQUNoRixJQUFNLFdBQVcsR0FBVSxFQUFFLENBQUM7O1lBRTlCLEdBQUcsQ0FBQyxDQUFnQixJQUFBLFdBQUEsaUJBQUEsTUFBTSxDQUFBLDhCQUFBO2dCQUFyQixJQUFNLEtBQUssbUJBQUE7Z0JBQ1osRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDcEMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7aUJBQzdEO2dCQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO29CQUNqRCxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztpQkFDdEU7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQzdEO2FBQ0o7Ozs7Ozs7OztRQUVELE1BQU0sQ0FBQyxXQUFXLENBQUM7O0tBQ3RCOzs7Ozs7SUFFUywyQ0FBd0I7Ozs7O0lBQWxDLFVBQW1DLEtBQVksRUFBRSxVQUF3QjtRQUNyRSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNqQixLQUFLLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQztZQUNoQyxLQUFLLFFBQVEsQ0FBQyxhQUFhLENBQUM7WUFDNUIsS0FBSyxRQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDbEMsS0FBSyxRQUFRLENBQUMsZUFBZSxDQUFDO1lBQzlCLEtBQUssUUFBUSxDQUFDLHdCQUF3QixDQUFDO1lBQ3ZDLEtBQUssUUFBUSxDQUFDLGNBQWMsQ0FBQztZQUM3QixLQUFLLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztZQUNsQyxLQUFLLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQztZQUN6QyxLQUFLLFFBQVEsQ0FBQyxjQUFjLENBQUM7WUFDN0IsS0FBSyxRQUFRLENBQUMsY0FBYyxDQUFDO1lBQzdCLEtBQUssUUFBUSxDQUFDLGNBQWMsQ0FBQztZQUM3QixLQUFLLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUN0QyxLQUFLLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQztZQUNoQyxLQUFLLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztZQUNqQyxLQUFLLFFBQVEsQ0FBQyw2QkFBNkIsQ0FBQztZQUM1QyxLQUFLLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztZQUNsQyxLQUFLLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQztZQUN4QyxLQUFLLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQztZQUNwQyxLQUFLLFFBQVEsQ0FBQyxjQUFjLENBQUM7WUFDN0IsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7WUFDL0IsS0FBSyxRQUFRLENBQUMsa0JBQWtCLENBQUM7WUFDakMsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7WUFDL0IsS0FBSyxRQUFRLENBQUMsb0JBQW9CLENBQUM7WUFDbkMsS0FBSyxRQUFRLENBQUMseUJBQXlCLENBQUM7WUFDeEMsS0FBSyxRQUFRLENBQUMsaUJBQWlCLENBQUM7WUFDaEMsS0FBSyxRQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDbEMsS0FBSyxRQUFRLENBQUMsb0JBQW9CO2dCQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDMUQsS0FBSyxRQUFRLENBQUMsa0JBQWtCLENBQUM7WUFDakMsS0FBSyxRQUFRLENBQUMsaUJBQWlCLENBQUM7WUFDaEMsS0FBSyxRQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDbEMsS0FBSyxRQUFRLENBQUMsb0JBQW9CLENBQUM7WUFDbkMsS0FBSyxRQUFRLENBQUMsa0JBQWtCLENBQUM7WUFDakMsS0FBSyxRQUFRLENBQUMsdUJBQXVCLENBQUM7WUFDdEMsS0FBSyxRQUFRLENBQUMseUJBQXlCLENBQUM7WUFDeEMsS0FBSyxRQUFRLENBQUMscUNBQXFDLENBQUM7WUFDcEQsS0FBSyxRQUFRLENBQUMsa0JBQWtCLENBQUM7WUFDakMsS0FBSyxRQUFRLENBQUMsa0JBQWtCO2dCQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdkYsS0FBSyxRQUFRLENBQUMsZUFBZSxDQUFDO1lBQzlCLEtBQUssUUFBUSxDQUFDLG9CQUFvQixDQUFDO1lBQ25DLEtBQUssUUFBUSxDQUFDLG1CQUFtQixDQUFDO1lBQ2xDLEtBQUssUUFBUSxDQUFDLGVBQWU7Z0JBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUN0RixTQUFTLE1BQU0sSUFBSSxLQUFLLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9EO0tBQ0o7Ozs7OztJQUVTLHFDQUFrQjs7Ozs7SUFBNUIsVUFBNkIsS0FBWSxFQUFFLE9BQWdCO1FBQ3ZELE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEtBQUssUUFBUSxDQUFDLFdBQVc7Z0JBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUMzRCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyx1QkFBdUI7Z0JBQ2pDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsd0JBQXdCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDakUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzVELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUN0RSxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxRQUFRO2dCQUNsQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM1RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDaEUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzdELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUMzRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDN0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzVELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDeEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUMxRCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxlQUFlO2dCQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3pELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDakQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQy9ELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLGNBQWM7Z0JBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUMvRCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxhQUFhO2dCQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQzdDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUNsRSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztpQkFDOUQsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsZ0JBQWdCO2dCQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQy9DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUMxRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzVELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUM5RCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxlQUFlO2dCQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQzFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDL0MsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQzFELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM1RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzdELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUM5RCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxZQUFZO2dCQUN0QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQ2xELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUMzRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMseUJBQXlCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDbEUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ2hFLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztpQkFDbkQsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsVUFBVTtnQkFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO2lCQUMzRCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQyxZQUFZO2dCQUN0QixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUMzRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDN0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzVELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDeEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzFELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQ25FLENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLE9BQU87Z0JBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN2QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztpQkFDdEQsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsZ0JBQWdCO2dCQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQzNELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLHVCQUF1QjtnQkFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDM0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzFELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUNsRSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsMEJBQTBCLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDN0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO2lCQUNuRCxDQUFDLENBQUM7WUFDUCxLQUFLLFFBQVEsQ0FBQywwQkFBMEI7Z0JBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDM0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLDZCQUE2QixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQ3pFLENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLGFBQWE7Z0JBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN2QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztpQkFDNUQsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsYUFBYTtnQkFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDM0QsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzdELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM1RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3hELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztpQkFDMUQsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsZUFBZTtnQkFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3ZDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzNELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM3RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN4RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQzFELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLFVBQVU7Z0JBQ3BCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDbEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzNELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUNsRSxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7aUJBQ25ELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLG9CQUFvQjtnQkFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3ZDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzFELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDakQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUNoRCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDdEQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7aUJBQ3ZELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLGNBQWM7Z0JBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM5RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsK0JBQStCLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDbEUsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLHFDQUFxQyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQ2pGLENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLGFBQWE7Z0JBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFO29CQUN4QyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ3ZELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLCtCQUErQixFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7aUJBQ3JFLENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLG1CQUFtQjtnQkFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQzNELElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM3RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMscUNBQXFDLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztpQkFDakYsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxRQUFRLENBQUMsaUJBQWlCO2dCQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDeEMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDekQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQ2hFLENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLCtCQUErQjtnQkFDekMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7aUJBQzVELENBQUMsQ0FBQztZQUNQLEtBQUssUUFBUSxDQUFDLG1CQUFtQjtnQkFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUU7b0JBQ3hDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDdkQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUM7b0JBQ2xFLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUM3RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN4RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztvQkFDMUQsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUN2RCxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUM7aUJBQ3BELENBQUMsQ0FBQztZQUNQLFNBQVMsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pEO0tBQ0o7Ozs7OztJQUVTLG9DQUFpQjs7Ozs7SUFBM0IsVUFBNEIsVUFBd0IsRUFBRSxhQUFxQjs7UUFDdkUsSUFBTSxTQUFTLEdBQVMsVUFBVSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMvRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO1NBQzlCO1FBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQztLQUNwQjs7Ozs7SUFFUyx3Q0FBcUI7Ozs7SUFBL0IsVUFBZ0MsY0FBc0I7UUFDbEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7S0FDM0Y7Ozs7O0lBRVMseUNBQXNCOzs7O0lBQWhDLFVBQWlDLGNBQXNCO1FBQ25ELE1BQU0sQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztLQUM5Rjt3QkF2cUJrQyxXQUFXO2lDQUNGLG1CQUFtQjs2QkFDdkIsZ0JBQWdCOzJCQUNsQixjQUFjO3VDQUNGLHlCQUF5Qjt3QkFDeEMsTUFBTTsrQkFDQyxhQUFhOzhCQUNkLFlBQVk7MEJBQ2hCLFFBQVE7NkJBQ0wsVUFBVTswQkFDYixRQUFRO2dDQUNGLGFBQWE7K0JBQ2QsWUFBWTs0QkFDZixVQUFVO3VCQUNmLEtBQUs7Z0NBQ0ksYUFBYTt1Q0FDTixvQkFBb0I7MENBQ2pCLHVCQUF1Qjs2QkFDcEMsVUFBVTs0QkFDWCxVQUFVOytCQUNQLFlBQVk7NkJBQ2QsV0FBVzswQkFDZCxRQUFRO29DQUNFLGlCQUFpQjs4QkFDdkIsV0FBVzs2QkFDWixXQUFXO21DQUNMLGdCQUFnQjtpQ0FDbEIsY0FBYzsrQ0FDQSwyQkFBMkI7bUNBQ3ZDLGdCQUFnQjtpQ0FHbEIsU0FBUzs2QkFDYixLQUFLOytCQUNILE9BQU87bUNBQ0gsV0FBVzt3Q0FDTixlQUFlO21DQUNwQixXQUFXOzBDQUNKLGlCQUFpQjs4QkFDN0IsTUFBTTs4QkFDTixNQUFNOytCQUNMLE9BQU87bUNBQ0gsVUFBVTttQ0FDVixVQUFVOzhCQUNmLE1BQU07a0NBQ0YsVUFBVTtvQ0FDUixXQUFXO21DQUNaLFdBQVc7K0JBQ2YsT0FBTztpQ0FDTCxTQUFTOzhCQUNaLE1BQU07dUNBQ0csY0FBYztpQ0FDcEIsU0FBUztrQ0FDUixVQUFVOzZDQUNDLG9CQUFvQjtvQ0FDN0IsV0FBVzt5Q0FDTixnQkFBZ0I7a0NBQ3ZCLFNBQVM7eUNBQ0YsZUFBZTt1Q0FDakIsY0FBYztxQ0FDaEIsWUFBWTs4QkFDbkIsTUFBTTtnQ0FDSixRQUFRO2tDQUNOLFVBQVU7Z0NBQ1osUUFBUTtvQ0FDSixXQUFXO3FEQUNNLDBCQUEwQjtrQ0FDN0MsVUFBVTt5Q0FDSCxnQkFBZ0I7a0NBQ3ZCLFNBQVM7aUNBQ1YsU0FBUzttQ0FDUCxVQUFVO29DQUNULFdBQVc7bUJBL0Y5RDs7U0FxQmEsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENzZGxUeXBlRGVmaW5pdGlvbiB9IGZyb20gJy4vY3NkbC9jc2RsLXR5cGUtZGVmaW5pdGlvbic7XG5pbXBvcnQgeyBDc2RsU2NoZW1hIH0gZnJvbSAnLi9jc2RsL2NzZGwtc2NoZW1hJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgQ3NkbEVudW1UeXBlLCBDc2RsRW51bU1lbWJlciB9IGZyb20gJy4vY3NkbC9jc2RsLWVudW0tdHlwZSc7XG5pbXBvcnQgeyBDc2RsRW50aXR5VHlwZSwgQ3NkbFByb3BlcnR5UmVmLCBDc2RsS2V5LCBDc2RsQ29tcGxleFR5cGUgfSBmcm9tICcuL2NzZGwvY3NkbC1zdHJ1Y3R1cmVkLXR5cGUnO1xuaW1wb3J0IHsgQ3NkbEZ1bmN0aW9uLCBDc2RsUGFyYW1ldGVyLCBDc2RsRnVuY3Rpb25JbXBvcnQsIENzZGxBY3Rpb25JbXBvcnQsIENzZGxSZXR1cm5UeXBlLCBDc2RsQWN0aW9uIH0gZnJvbSAnLi9jc2RsL2NzZGwtZnVuY3Rpb24tYWN0aW9uJztcbmltcG9ydCB7IENzZGxQcm9wZXJ0eSwgQ3NkbE5hdmlnYXRpb25Qcm9wZXJ0eSwgQ3NkbFJlZmVyZW50aWFsQ29uc3RyYWludCwgQ3NkbE9uRGVsZXRlIH0gZnJvbSAnLi9jc2RsL2NzZGwtc3RydWN0dXJhbC1wcm9wZXJ0eSc7XG5pbXBvcnQgeyBDc2RsRW50aXR5U2V0IH0gZnJvbSAnLi9jc2RsL2NzZGwtZW50aXR5LXNldCc7XG5pbXBvcnQgeyBDc2RsU2luZ2xldG9uIH0gZnJvbSAnLi9jc2RsL2NzZGwtc2luZ2xldG9uJztcbmltcG9ydCB7IENzZGxFbnRpdHlDb250YWluZXIgfSBmcm9tICcuL2NzZGwvY3NkbC1lbnRpdHktY29udGFpbmVyJztcbmltcG9ydCB7IENzZGxSZWZlcmVuY2UsIENzZGxJbmNsdWRlLCBDc2RsSW5jbHVkZUFubm90YXRpb25zIH0gZnJvbSAnLi9jc2RsL2NzZGwtcmVmZXJlbmNlJztcbmltcG9ydCB7IENzZGxBbm5vdGF0aW9uLCBDc2RsVGVybSwgQ3NkbEFubm90YXRpb25zIH0gZnJvbSAnLi9jc2RsL2NzZGwtYW5ub3RhdGlvbic7XG5pbXBvcnQgeyBDc2RsTmF2aWdhdGlvblByb3BlcnR5QmluZGluZyB9IGZyb20gJy4vY3NkbC9jc2RsLW5hdmlnYXRpb24tcHJvcGVydHktYmluZGluZyc7XG5cbmV4cG9ydCBlbnVtIEZpZWxkVHlwZSB7XG4gICAgQVRUUklCVVRFLCBUQUdcbn1cbmV4cG9ydCBjbGFzcyBGaWVsZCB7XG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHVibGljIGZpZWxkVHlwZTogRmllbGRUeXBlKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE1ldGFkYXRhIHtcbiAgICAvLyBUQUdTXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0VETVggPSAnZWRteDpFZG14JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfREFUQV9TRVJWSUNFUyA9ICdlZG14OkRhdGFTZXJ2aWNlcyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX1JFRkVSRU5DRSA9ICdlZG14OlJlZmVyZW5jZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0lOQ0xVREUgPSAnZWRteDpJbmNsdWRlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfSU5DTFVERV9BTk5PVEFUSU9OUyA9ICdlZG14OkluY2x1ZGVBbm5vdGF0aW9ucyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX1RFUk0gPSAnVGVybSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0FOTk9UQVRJT05TID0gJ0Fubm90YXRpb25zJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfQU5OT1RBVElPTiA9ICdBbm5vdGF0aW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfU0NIRU1BID0gJ1NjaGVtYSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0VOVU1fVFlQRSA9ICdFbnVtVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX01FTUJFUiA9ICdNZW1iZXInO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19DT01QTEVYX1RZUEUgPSAnQ29tcGxleFR5cGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19FTlRJVFlfVFlQRSA9ICdFbnRpdHlUeXBlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfUFJPUEVSVFkgPSAnUHJvcGVydHknO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19LRVkgPSAnS2V5JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfUFJPUEVSVFlfUkVGID0gJ1Byb3BlcnR5UmVmJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfTkFWSUdBVElPTl9QUk9QRVJUWSA9ICdOYXZpZ2F0aW9uUHJvcGVydHknO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19SRUZFUkVOVElBTF9DT05TVFJBSU5UID0gJ1JlZmVyZW50aWFsQ29uc3RyYWludCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX09OX0RFTEVURSA9ICdPbkRlbGV0ZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX0ZVTkNUSU9OID0gJ0Z1bmN0aW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfUkVUVVJOX1RZUEUgPSAnUmV0dXJuVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX1BBUkFNRVRFUiA9ICdQYXJhbWV0ZXInO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19BQ1RJT04gPSAnQWN0aW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfRU5USVRZX0NPTlRBSU5FUiA9ICdFbnRpdHlDb250YWluZXInO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19FTlRJVFlfU0VUID0gJ0VudGl0eVNldCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX1NJTkdMRVRPTiA9ICdTaW5nbGV0b24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19GVU5DVElPTl9JTVBPUlQgPSAnRnVuY3Rpb25JbXBvcnQnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRBR19BQ1RJT05fSU1QT1JUID0gJ0FjdGlvbkltcG9ydCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFHX05BVklHQVRJT05fUFJPUEVSVFlfQklORElORyA9ICdOYXZpZ2F0aW9uUHJvcGVydHlCaW5kaW5nJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBUQUdfVFlQRV9ERUZJTklUSU9OID0gJ1R5cGVEZWZpbml0aW9uJztcblxuICAgIC8vIEFUVFJJQlVURVNcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVkVSU0lPTiA9ICdWZXJzaW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVVJJID0gJ1VyaSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0FMSUFTID0gJ0FsaWFzJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfTkFNRVNQQUNFID0gJ05hbWVzcGFjZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1RFUk1fTkFNRVNQQUNFID0gJ1Rlcm1OYW1lc3BhY2UnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9RVUFMSUZJRVIgPSAnUXVhbGlmaWVyJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfVEFSR0VUX05BTUVTUEFDRSA9ICdUYXJnZXROYW1lc3BhY2UnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9URVJNID0gJ1Rlcm0nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9OQU1FID0gJ05hbWUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9WQUxVRSA9ICdWYWx1ZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0JBU0VfVFlQRSA9ICdCYXNlVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX09QRU5fVFlQRSA9ICdPcGVuVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1RZUEUgPSAnVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX05VTExBQkxFID0gJ051bGxhYmxlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfTUFYX0xFTkdUSCA9ICdNYXhMZW5ndGgnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9QUkVDSVNJT04gPSAnUHJlY2lzaW9uJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfU0NBTEUgPSAnU2NhbGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9VTklDT0RFID0gJ1VuaWNvZGUnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9TUklEID0gJ1NSSUQnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9ERUZBVUxUX1ZBTFVFID0gJ0RlZmF1bHRWYWx1ZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1BBUlRORVIgPSAnUGFydG5lcic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1BST1BFUlRZID0gJ1Byb3BlcnR5JztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfUkVGRVJFTkNFRF9QUk9QRVJUWSA9ICdSZWZlcmVuY2VkUHJvcGVydHknO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9IQVNfU1RSRUFNID0gJ0hhc1N0cmVhbSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0NPTlRBSU5TX1RBUkdFVCA9ICdDb250YWluc1RhcmdldCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0lTX0JPVU5EID0gJ0lzQm91bmQnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9FTlRJVFlfU0VUX1BBVEggPSAnRW50aXR5U2V0UGF0aCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0lTX0NPTVBPU0FCTEUgPSAnSXNDb21wb3NhYmxlJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBBVFRSSUJVVEVfRU5USVRZX1RZUEUgPSAnRW50aXR5VHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1BBVEggPSAnUGF0aCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1RBUkdFVCA9ICdUYXJnZXQnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9GVU5DVElPTiA9ICdGdW5jdGlvbic7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0FDVElPTiA9ICdBY3Rpb24nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9FTlRJVFlfU0VUID0gJ0VudGl0eVNldCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0lOQ0xVREVfSU5fU0VSVklDRV9ET0NVTUVOVCA9ICdJbmNsdWRlSW5TZXJ2aWNlRG9jdW1lbnQnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9BQlNUUkFDVCA9ICdBYnN0cmFjdCc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX1VOREVSTFlJTkdfVFlQRSA9ICdVbmRlcmx5aW5nVHlwZSc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQVRUUklCVVRFX0lTX0ZMQUdTID0gJ0lzRmxhZ3MnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9FWFRFTkRTID0gJ0V4dGVuZHMnO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9CQVNFX1RFUk0gPSAnQmFzZVRlcm0nO1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEFUVFJJQlVURV9BUFBMSUVTX1RPID0gJ0FwcGxpZXNUbyc7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvbjogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSByZWZlcmVuY2VzOiBDc2RsUmVmZXJlbmNlW107XG4gICAgcHVibGljIHJlYWRvbmx5IHNjaGVtYXM6IENzZGxTY2hlbWFbXTtcblxuICAgIGNvbnN0cnVjdG9yKHhtbDogc3RyaW5nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZXI6IERPTVBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50OiBEb2N1bWVudCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sLCAndGV4dC94bWwnKTtcblxuICAgICAgICAgICAgdGhpcy5jaGVja1ZlcnNpb24oZG9jdW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnNpb24gPSB0aGlzLmdldEZpZWxkVmFsdWVCeUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1ZFUlNJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzKTtcblxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gdGhpcy5nZXRPYmplY3RzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgTWV0YWRhdGEuVEFHX1JFRkVSRU5DRSwgW1xuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVVJJLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0lOQ0xVREUsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfSU5DTFVERV9BTk5PVEFUSU9OUywgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGFTZXJ2aWNlczogRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShNZXRhZGF0YS5UQUdfREFUQV9TRVJWSUNFUylbMF07XG4gICAgICAgICAgICB0aGlzLnNjaGVtYXMgPSB0aGlzLmdldE9iamVjdHMoZGF0YVNlcnZpY2VzLCBNZXRhZGF0YS5UQUdfU0NIRU1BLCBbXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FU1BBQ0UsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUxJQVMsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfRU5VTV9UWVBFLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0NPTVBMRVhfVFlQRSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19FTlRJVFlfVFlQRSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19GVU5DVElPTiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BQ1RJT04sIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfRU5USVRZX0NPTlRBSU5FUiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19UWVBFX0RFRklOSVRJT04sIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfVEVSTSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OUywgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBtZXRhZGF0YSwgJyArIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjaGVja1ZlcnNpb24oZG9jdW1lbnQ6IERvY3VtZW50KSB7XG4gICAgICAgIC8vIGNoZWNrIHZlcnNpb25cbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogTmFtZWROb2RlTWFwID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChhdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPRGF0YSB2ZXJzaW9uIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIG1ldGFkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXR0cjogQXR0ciA9IGF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdWZXJzaW9uJyk7XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChhdHRyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPRGF0YSB2ZXJzaW9uIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIG1ldGFkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2RhdGFWZXJzaW9uOiBzdHJpbmcgPSBhdHRyLm5vZGVWYWx1ZTtcbiAgICAgICAgaWYgKG9kYXRhVmVyc2lvbiAhPT0gJzQuMCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT0RhdGEgdmVyc2lvbiBcIicgKyBvZGF0YVZlcnNpb24gKyAnXCIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldE9iamVjdHMocGFyZW50RWxlbWVudDogRWxlbWVudCwgdGFnOiBzdHJpbmcsIGZpZWxkTmFtZXM6IEZpZWxkW10pOiBhbnlbXSB7XG4gICAgICAgIGxldCBvYmplY3RzOiBhbnlbXTtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbjogSFRNTENvbGxlY3Rpb24gPSBwYXJlbnRFbGVtZW50LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gY2hpbGRyZW4uaXRlbShpbmRleCk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lICE9PSB0YWcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlczogTmFtZWROb2RlTWFwID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXM6IGFueVtdID0gdGhpcy5nZXRGaWVsZFZhbHVlcyhmaWVsZE5hbWVzLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZChvYmplY3RzKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUkVGRVJFTkNFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxSZWZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19JTkNMVURFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxJbmNsdWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19JTkNMVURFX0FOTk9UQVRJT05TOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxJbmNsdWRlQW5ub3RhdGlvbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfVEVSTTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsVGVybShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbN10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzldXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OUzpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsQW5ub3RhdGlvbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl1cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FOTk9UQVRJT046XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEFubm90YXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19TQ0hFTUE6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFNjaGVtYShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbN10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzldLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMTBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMTFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0VOVU1fVFlQRTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsRW51bVR5cGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19DT01QTEVYX1RZUEU6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbENvbXBsZXhUeXBlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0VOVElUWV9UWVBFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxFbnRpdHlUeXBlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s3XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19GVU5DVElPTjpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsRnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTUVNQkVSOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxFbnVtTWVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19QUk9QRVJUWTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s2XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbOF0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUFJPUEVSVFlfUkVGOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxQcm9wZXJ0eVJlZihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsTmF2aWdhdGlvblByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNl0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUkVGRVJFTlRJQUxfQ09OU1RSQUlOVDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsUmVmZXJlbnRpYWxDb25zdHJhaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19QQVJBTUVURVI6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFBhcmFtZXRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzZdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FDVElPTjpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s0XSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlRJVFlfU0VUOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxFbnRpdHlTZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19TSU5HTEVUT046XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbFNpbmdsZXRvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19GVU5DVElPTl9JTVBPUlQ6XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgQ3NkbEZ1bmN0aW9uSW1wb3J0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfQUNUSU9OX0lNUE9SVDpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsQWN0aW9uSW1wb3J0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzJdKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX05BVklHQVRJT05fUFJPUEVSVFlfQklORElORzpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG5ldyBDc2RsTmF2aWdhdGlvblByb3BlcnR5QmluZGluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfVFlQRV9ERUZJTklUSU9OOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IENzZGxUeXBlRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbN10pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtud29uIHRhZzonICsgdGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmplY3RzO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRPYmplY3QocGFyZW50RWxlbWVudDogRWxlbWVudCwgdGFnOiBzdHJpbmcsIGZpZWxkTmFtZXM6IEZpZWxkW10pOiBhbnkge1xuICAgICAgICBsZXQgb2JqZWN0OiBhbnk7XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW46IEhUTUxDb2xsZWN0aW9uID0gcGFyZW50RWxlbWVudC5jaGlsZHJlbjtcbiAgICAgICAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5pdGVtKGluZGV4KS5ub2RlTmFtZSA9PT0gdGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIG9uZSAnICsgdGFnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGNoaWxkcmVuLml0ZW0oaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChlbGVtZW50KSkge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlczogTmFtZWROb2RlTWFwID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXM6IGFueVtdID0gdGhpcy5nZXRGaWVsZFZhbHVlcyhmaWVsZE5hbWVzLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfS0VZOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBuZXcgQ3NkbEtleShmaWVsZFZhbHVlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1JFVFVSTl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBuZXcgQ3NkbFJldHVyblR5cGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19FTlRJVFlfQ09OVEFJTkVSOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBuZXcgQ3NkbEVudGl0eUNvbnRhaW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1syXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZXNbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFZhbHVlc1s1XSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX09OX0RFTEVURTpcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gbmV3IENzZGxPbkRlbGV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtud29uIHRhZzonICsgdGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEZpZWxkVmFsdWVzKGZpZWxkczogRmllbGRbXSwgYXR0cmlidXRlczogTmFtZWROb2RlTWFwLCBlbGVtZW50OiBFbGVtZW50KTogYW55W10ge1xuICAgICAgICBjb25zdCBmaWVsZFZhbHVlczogYW55W10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICAgICAgaWYgKGZpZWxkLmZpZWxkVHlwZSA9PT0gRmllbGRUeXBlLlRBRykge1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzLnB1c2godGhpcy5nZXRGaWVsZFZhbHVlQnlUYWcoZmllbGQsIGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQuZmllbGRUeXBlID09PSBGaWVsZFR5cGUuQVRUUklCVVRFKSB7XG4gICAgICAgICAgICAgICAgZmllbGRWYWx1ZXMucHVzaCh0aGlzLmdldEZpZWxkVmFsdWVCeUF0dHJpYnV0ZShmaWVsZCwgYXR0cmlidXRlcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZmllbGQgdHlwZTogJyArIGZpZWxkLmZpZWxkVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZXM7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEZpZWxkVmFsdWVCeUF0dHJpYnV0ZShmaWVsZDogRmllbGQsIGF0dHJpYnV0ZXM6IE5hbWVkTm9kZU1hcCk6IGFueSB7XG4gICAgICAgIHN3aXRjaCAoZmllbGQubmFtZSkge1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVkVSU0lPTjpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1VSSTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX05BTUVTUEFDRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0FMSUFTOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVEVSTV9OQU1FU1BBQ0U6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9URVJNOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfUVVBTElGSUVSOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVEFSR0VUX05BTUVTUEFDRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX05BTUU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9UWVBFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfU1JJRDpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0RFRkFVTFRfVkFMVUU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9QQVJUTkVSOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfUFJPUEVSVFk6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9SRUZFUkVOQ0VEX1BST1BFUlRZOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQkFTRV9UWVBFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfRU5USVRZX1NFVF9QQVRIOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfRU5USVRZX1RZUEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9QQVRIOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVEFSR0VUOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfRlVOQ1RJT046XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9BQ1RJT046XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfU0VUOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVU5ERVJMWUlOR19UWVBFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfRVhURU5EUzpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0JBU0VfVEVSTTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX0FQUExJRVNfVE86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlVmFsdWUoYXR0cmlidXRlcywgZmllbGQubmFtZSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9OVUxMQUJMRTpcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuQVRUUklCVVRFX1VOSUNPREU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9PUEVOX1RZUEU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9IQVNfU1RSRUFNOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfSVNfQk9VTkQ6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9JU19DT01QT1NBQkxFOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQ09OVEFJTlNfVEFSR0VUOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfSU5DTFVERV9JTl9TRVJWSUNFX0RPQ1VNRU5UOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfQUJTVFJBQ1Q6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9JU19GTEFHUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eVZhbHVlVG9Cb29sZWFuKHRoaXMuZ2V0QXR0cmlidXRlVmFsdWUoYXR0cmlidXRlcywgZmllbGQubmFtZSkpO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfVkFMVUU6XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLkFUVFJJQlVURV9NQVhfTEVOR1RIOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfUFJFQ0lTSU9OOlxuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5BVFRSSUJVVEVfU0NBTEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydHlWYWx1ZVRvTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlVmFsdWUoYXR0cmlidXRlcywgZmllbGQubmFtZSkpO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtud29uIGF0dHJpYnV0ZTonICsgZmllbGQubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0RmllbGRWYWx1ZUJ5VGFnKGZpZWxkOiBGaWVsZCwgZWxlbWVudDogRWxlbWVudCk6IGFueVtdIHtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19JTkNMVURFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUVTUEFDRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUxJQVMsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19JTkNMVURFX0FOTk9UQVRJT05TOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RFUk1fTkFNRVNQQUNFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9RVUFMSUZJRVIsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RBUkdFVF9OQU1FU1BBQ0UsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19URVJNOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0JBU0VfVEVSTSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfREVGQVVMVF9WQUxVRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQVBQTElFU19UTywgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTlVMTEFCTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX01BWF9MRU5HVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BSRUNJU0lPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU0NBTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NSSUQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9UQVJHRVQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0FOTk9UQVRJT04sIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1FVQUxJRklFUiwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FOTk9UQVRJT046XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVEVSTSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUVVBTElGSUVSLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5VTV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX01FTUJFUiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVU5ERVJMWUlOR19UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9JU19GTEFHUywgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0NPTVBMRVhfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19QUk9QRVJUWSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQkFTRV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9PUEVOX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0FCU1RSQUNULCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5USVRZX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfS0VZLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19QUk9QRVJUWSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQkFTRV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9PUEVOX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0hBU19TVFJFQU0sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0FCU1RSQUNULCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRlVOQ1RJT046XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfUkVUVVJOX1RZUEUsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0lTX0JPVU5ELCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfU0VUX1BBVEgsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0lTX0NPTVBPU0FCTEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1BBUkFNRVRFUiwgRmllbGRUeXBlLlRBRylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX01FTUJFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9WQUxVRSwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX1BST1BFUlRZOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05VTExBQkxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9NQVhfTEVOR1RILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QUkVDSVNJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NDQUxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9VTklDT0RFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TUklELCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9ERUZBVUxUX1ZBTFVFLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfS0VZOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdChlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfUFJPUEVSVFlfUkVGLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUFJPUEVSVFlfUkVGOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0FMSUFTLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OVUxMQUJMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUEFSVE5FUiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQ09OVEFJTlNfVEFSR0VULCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19SRUZFUkVOVElBTF9DT05TVFJBSU5ULCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19PTl9ERUxFVEUsIEZpZWxkVHlwZS5UQUcpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19SRUZFUkVOVElBTF9DT05TVFJBSU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1BST1BFUlRZLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9SRUZFUkVOQ0VEX1BST1BFUlRZLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfT05fREVMRVRFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdChlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfQUNUSU9OLCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUEFSQU1FVEVSOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1RZUEUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05VTExBQkxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9NQVhfTEVOR1RILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QUkVDSVNJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NDQUxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TUklELCBGaWVsZFR5cGUuQVRUUklCVVRFKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfUkVUVVJOX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0KGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OVUxMQUJMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTUFYX0xFTkdUSCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfUFJFQ0lTSU9OLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TQ0FMRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfU1JJRCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX0FDVElPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19SRVRVUk5fVFlQRSwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfSVNfQk9VTkQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0VOVElUWV9TRVRfUEFUSCwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfUEFSQU1FVEVSLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5USVRZX0NPTlRBSU5FUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3QoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0VYVEVORFMsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX0VOVElUWV9TRVQsIEZpZWxkVHlwZS5UQUcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuVEFHX1NJTkdMRVRPTiwgRmllbGRUeXBlLlRBRyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfRlVOQ1RJT05fSU1QT1JULCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BQ1RJT05fSU1QT1JULCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRU5USVRZX1NFVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9OQU1FLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWV9CSU5ESU5HLCBGaWVsZFR5cGUuVEFHKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9JTkNMVURFX0lOX1NFUlZJQ0VfRE9DVU1FTlQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19TSU5HTEVUT046XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVFlQRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5UQUdfTkFWSUdBVElPTl9QUk9QRVJUWV9CSU5ESU5HLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY2FzZSBNZXRhZGF0YS5UQUdfRlVOQ1RJT05fSU1QT1JUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0ZVTkNUSU9OLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9FTlRJVFlfU0VULCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9JTkNMVURFX0lOX1NFUlZJQ0VfRE9DVU1FTlQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19BQ1RJT05fSU1QT1JUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9iamVjdHMoZWxlbWVudCwgZmllbGQubmFtZSwgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX05BTUUsIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX0FDVElPTiwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfRU5USVRZX1NFVCwgRmllbGRUeXBlLkFUVFJJQlVURSlcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgTWV0YWRhdGEuVEFHX05BVklHQVRJT05fUFJPUEVSVFlfQklORElORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RzKGVsZW1lbnQsIGZpZWxkLm5hbWUsIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QQVRILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9UQVJHRVQsIEZpZWxkVHlwZS5BVFRSSUJVVEUpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjYXNlIE1ldGFkYXRhLlRBR19UWVBFX0RFRklOSVRJT046XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0cyhlbGVtZW50LCBmaWVsZC5uYW1lLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfTkFNRSwgRmllbGRUeXBlLkFUVFJJQlVURSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZChNZXRhZGF0YS5BVFRSSUJVVEVfVU5ERVJMWUlOR19UWVBFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9NQVhfTEVOR1RILCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9QUkVDSVNJT04sIEZpZWxkVHlwZS5BVFRSSUJVVEUpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoTWV0YWRhdGEuQVRUUklCVVRFX1NDQUxFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9VTklDT0RFLCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLkFUVFJJQlVURV9TUklELCBGaWVsZFR5cGUuQVRUUklCVVRFKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKE1ldGFkYXRhLlRBR19BTk5PVEFUSU9OLCBGaWVsZFR5cGUuVEFHKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtud29uIHRhZzonICsgZmllbGQubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0QXR0cmlidXRlVmFsdWUoYXR0cmlidXRlczogTmFtZWROb2RlTWFwLCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGU6IEF0dHIgPSBhdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZChhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlLm5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcm9wZXJ0eVZhbHVlVG9OdW1iZXIoYXR0cmlidXRlVmFsdWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQoYXR0cmlidXRlVmFsdWUpID8gTnVtYmVyKGF0dHJpYnV0ZVZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcHJvcGVydHlWYWx1ZVRvQm9vbGVhbihhdHRyaWJ1dGVWYWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQoYXR0cmlidXRlVmFsdWUpID8gYXR0cmlidXRlVmFsdWUgPT09ICd0cnVlJyA6IHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXX0=