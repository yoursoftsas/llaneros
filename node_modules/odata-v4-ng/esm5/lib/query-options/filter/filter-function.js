/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Utils } from '../../utils/utils';
import { FilterHasProperty } from './filter-has-property';
import { QuotedString } from '../../odata-query/quoted-string';
var FilterFunction = /** @class */ (function (_super) {
    tslib_1.__extends(FilterFunction, _super);
    function FilterFunction(functionName, property, value) {
        var _this = _super.call(this, property) || this;
        Utils.requireNotNullNorUndefined(functionName, 'functionName');
        Utils.requireNotEmpty(functionName, 'functionName');
        Utils.requireNotNullNorUndefined(property, 'property');
        Utils.requireNotEmpty(property, 'property');
        _this.functionName = functionName;
        _this.property = property;
        _this.value = value;
        return _this;
    }
    /**
     * @return {?}
     */
    FilterFunction.prototype.toString = /**
     * @return {?}
     */
    function () {
        if (Utils.isNotNullNorUndefined(this.property) && Utils.isNotNullNorUndefined(this.value)) {
            return this.functionName + "(" + this.property + "," + Utils.getValueURI(this.value, false) + ")";
        }
        else if (Utils.isNotNullNorUndefined(this.property)) {
            return this.functionName + "(" + this.property + ")";
        }
        else if (Utils.isNotNullNorUndefined(this.value)) {
            return this.functionName + "(" + Utils.getValueURI(this.value, false) + ")";
        }
        else {
            return this.functionName + "()";
        }
    };
    /**
     * @return {?}
     */
    FilterFunction.prototype.isEmpty = /**
     * @return {?}
     */
    function () {
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNullOrUndefined(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNotNullNorUndefined(this.value) && Utils.isEmpty(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.value)
            && Utils.isNotNullNorUndefined(this.property) && !this.property.length) {
            return true;
        }
        return false;
    };
    return FilterFunction;
}(FilterHasProperty));
export { FilterFunction };
if (false) {
    /** @type {?} */
    FilterFunction.prototype.functionName;
    /** @type {?} */
    FilterFunction.prototype.value;
}
var FilterFunctionString = /** @class */ (function (_super) {
    tslib_1.__extends(FilterFunctionString, _super);
    function FilterFunctionString(functionName, property, value) {
        return _super.call(this, functionName, property, typeof (value) === 'string'
            ? new QuotedString(value)
            : value instanceof FilterFunctionString ? value.toString() : value) || this;
    }
    return FilterFunctionString;
}(FilterFunction));
export { FilterFunctionString };
var FilterContains = /** @class */ (function (_super) {
    tslib_1.__extends(FilterContains, _super);
    function FilterContains(property, value) {
        var _this = _super.call(this, 'contains', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterContains;
}(FilterFunctionString));
export { FilterContains };
var FilterEndswith = /** @class */ (function (_super) {
    tslib_1.__extends(FilterEndswith, _super);
    function FilterEndswith(property, value) {
        var _this = _super.call(this, 'endswith', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterEndswith;
}(FilterFunctionString));
export { FilterEndswith };
var FilterStartswith = /** @class */ (function (_super) {
    tslib_1.__extends(FilterStartswith, _super);
    function FilterStartswith(property, value) {
        var _this = _super.call(this, 'startswith', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterStartswith;
}(FilterFunctionString));
export { FilterStartswith };
var FilterLength = /** @class */ (function (_super) {
    tslib_1.__extends(FilterLength, _super);
    function FilterLength(property) {
        return _super.call(this, 'length', property) || this;
    }
    return FilterLength;
}(FilterFunctionString));
export { FilterLength };
var FilterIndexof = /** @class */ (function (_super) {
    tslib_1.__extends(FilterIndexof, _super);
    function FilterIndexof(property, value) {
        var _this = _super.call(this, 'indexof', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterIndexof;
}(FilterFunctionString));
export { FilterIndexof };
var FilterSubstring = /** @class */ (function (_super) {
    tslib_1.__extends(FilterSubstring, _super);
    function FilterSubstring(property, value) {
        var _this = _super.call(this, 'substring', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterSubstring;
}(FilterFunctionString));
export { FilterSubstring };
var FilterTolower = /** @class */ (function (_super) {
    tslib_1.__extends(FilterTolower, _super);
    function FilterTolower(property) {
        return _super.call(this, 'tolower', property) || this;
    }
    return FilterTolower;
}(FilterFunctionString));
export { FilterTolower };
var FilterToupper = /** @class */ (function (_super) {
    tslib_1.__extends(FilterToupper, _super);
    function FilterToupper(property) {
        return _super.call(this, 'toupper', property) || this;
    }
    return FilterToupper;
}(FilterFunctionString));
export { FilterToupper };
var FilterTrim = /** @class */ (function (_super) {
    tslib_1.__extends(FilterTrim, _super);
    function FilterTrim(property) {
        return _super.call(this, 'trim', property) || this;
    }
    return FilterTrim;
}(FilterFunctionString));
export { FilterTrim };
var FilterConcat = /** @class */ (function (_super) {
    tslib_1.__extends(FilterConcat, _super);
    function FilterConcat(property, value) {
        var _this = _super.call(this, 'concat', property, value) || this;
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
        return _this;
    }
    return FilterConcat;
}(FilterFunctionString));
export { FilterConcat };

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWZ1bmN0aW9uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vb2RhdGEtdjQtbmcvIiwic291cmNlcyI6WyJsaWIvcXVlcnktb3B0aW9ucy9maWx0ZXIvZmlsdGVyLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRTFDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzFELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUUvRCxJQUFBO0lBQW9DLDBDQUFpQjtJQUlqRCx3QkFBWSxZQUFvQixFQUFFLFFBQWdCLEVBQUUsS0FBZ0Q7UUFBcEcsWUFDSSxrQkFBTSxRQUFRLENBQUMsU0FRbEI7UUFQRyxLQUFLLENBQUMsMEJBQTBCLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQy9ELEtBQUssQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3BELEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDdkQsS0FBSyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDNUMsS0FBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakMsS0FBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsS0FBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7O0tBQ3RCOzs7O0lBRUQsaUNBQVE7OztJQUFSO1FBQ0ksRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RixNQUFNLENBQUksSUFBSSxDQUFDLFlBQVksU0FBSSxJQUFJLENBQUMs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R3RDO1FBRkcsS0FBSyxDQUFDLDBCQUEwQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqRCxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQzs7S0FDekM7MEJBcEdMO0VBK0ZxQyxvQkFBb0IsRUFNeEQsQ0FBQTtBQU5ELDJCQU1DO0FBRUQsSUFBQTtJQUFtQyx5Q0FBb0I7SUFDbkQsdUJBQVksUUFBZ0I7ZUFDeEIsa0JBQU0sU0FBUyxFQUFFLFFBQVEsQ0FBQztLQUM3Qjt3QkExR0w7RUF1R21DLG9CQUFvQixFQUl0RCxDQUFBO0FBSkQseUJBSUM7QUFFRCxJQUFBO0lBQW1DLHlDQUFvQjtJQUNuRCx1QkFBWSxRQUFnQjtlQUN4QixrQkFBTSxTQUFTLEVBQUUsUUFBUSxDQUFDO0tBQzdCO3dCQWhITDtFQTZHbUMsb0JBQW9CLEVBSXRELENBQUE7QUFKRCx5QkFJQztBQUVELElBQUE7SUFBZ0Msc0NBQW9CO0lBQ2hELG9CQUFZLFFBQWdCO2VBQ3hCLGtCQUFNLE1BQU0sRUFBRSxRQUFRLENBQUM7S0FDMUI7cUJBdEhMO0VBbUhnQyxvQkFBb0IsRUFJbkQsQ0FBQTtBQUpELHNCQUlDO0FBRUQsSUFBQTtJQUFrQyx3Q0FBb0I7SUFDbEQsc0JBQVksUUFBZ0IsRUFBRSxLQUFvQztRQUFsRSxZQUNJLGtCQUFNLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLFNBR25DO1FBRkcsS0FBSyxDQUFDLDBCQUEwQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqRCxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQzs7S0FDekM7dUJBOUhMO0VBeUhrQyxvQkFBb0IsRUFNckQsQ0FBQTtBQU5ELHdCQU1DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyBGaWx0ZXJIYXNQcm9wZXJ0eSB9IGZyb20gJy4vZmlsdGVyLWhhcy1wcm9wZXJ0eSc7XG5pbXBvcnQgeyBRdW90ZWRTdHJpbmcgfSBmcm9tICcuLi8uLi9vZGF0YS1xdWVyeS9xdW90ZWQtc3RyaW5nJztcblxuZXhwb3J0IGNsYXNzIEZpbHRlckZ1bmN0aW9uIGV4dGVuZHMgRmlsdGVySGFzUHJvcGVydHkgaW1wbGVtZW50cyBGaWx0ZXIge1xuICAgIHByaXZhdGUgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSB2YWx1ZTogYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IFF1b3RlZFN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZT86IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBRdW90ZWRTdHJpbmcpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydHkpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChmdW5jdGlvbk5hbWUsICdmdW5jdGlvbk5hbWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KGZ1bmN0aW9uTmFtZSwgJ2Z1bmN0aW9uTmFtZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZChwcm9wZXJ0eSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShwcm9wZXJ0eSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25OYW1lID0gZnVuY3Rpb25OYW1lO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHkpICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgke3RoaXMucHJvcGVydHl9LCR7VXRpbHMuZ2V0VmFsdWVVUkkodGhpcy52YWx1ZSwgZmFsc2UpfSlgO1xuICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgke3RoaXMucHJvcGVydHl9KWA7XG4gICAgICAgIH0gZWxzZSBpZiAoVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5mdW5jdGlvbk5hbWV9KCR7VXRpbHMuZ2V0VmFsdWVVUkkodGhpcy52YWx1ZSwgZmFsc2UpfSlgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgpYDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMudmFsdWUpICYmIFV0aWxzLmlzRW1wdHkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy5pc051bGxPclVuZGVmaW5lZCh0aGlzLnZhbHVlKVxuICAgICAgICAgICAgJiYgVXRpbHMuaXNOb3ROdWxsTm9yVW5kZWZpbmVkKHRoaXMucHJvcGVydHkpICYmICF0aGlzLnByb3BlcnR5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uTmFtZTogc3RyaW5nLCBwcm9wZXJ0eT86IHN0cmluZywgdmFsdWU/OiBudW1iZXIgfCBzdHJpbmcgfCBGaWx0ZXJGdW5jdGlvblN0cmluZykge1xuICAgICAgICBzdXBlcihmdW5jdGlvbk5hbWUsIHByb3BlcnR5LCB0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbmV3IFF1b3RlZFN0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgIDogdmFsdWUgaW5zdGFuY2VvZiBGaWx0ZXJGdW5jdGlvblN0cmluZyA/IHZhbHVlLnRvU3RyaW5nKCkgOiB2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyQ29udGFpbnMgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdjb250YWlucycsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJFbmRzd2l0aCBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgRmlsdGVyRnVuY3Rpb25TdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ2VuZHN3aXRoJywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclN0YXJ0c3dpdGggZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdzdGFydHN3aXRoJywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckxlbmd0aCBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdsZW5ndGgnLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVySW5kZXhvZiBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgRmlsdGVyRnVuY3Rpb25TdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ2luZGV4b2YnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyU3Vic3RyaW5nIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoJ3N1YnN0cmluZycsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJUb2xvd2VyIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ3RvbG93ZXInLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyVG91cHBlciBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCd0b3VwcGVyJywgcHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclRyaW0gZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcigndHJpbScsIHByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb25jYXQgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdjb25jYXQnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuIl19