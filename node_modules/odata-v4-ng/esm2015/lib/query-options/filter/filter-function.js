/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import { Utils } from '../../utils/utils';
import { FilterHasProperty } from './filter-has-property';
import { QuotedString } from '../../odata-query/quoted-string';
export class FilterFunction extends FilterHasProperty {
    /**
     * @param {?} functionName
     * @param {?} property
     * @param {?=} value
     */
    constructor(functionName, property, value) {
        super(property);
        Utils.requireNotNullNorUndefined(functionName, 'functionName');
        Utils.requireNotEmpty(functionName, 'functionName');
        Utils.requireNotNullNorUndefined(property, 'property');
        Utils.requireNotEmpty(property, 'property');
        this.functionName = functionName;
        this.property = property;
        this.value = value;
    }
    /**
     * @return {?}
     */
    toString() {
        if (Utils.isNotNullNorUndefined(this.property) && Utils.isNotNullNorUndefined(this.value)) {
            return `${this.functionName}(${this.property},${Utils.getValueURI(this.value, false)})`;
        }
        else if (Utils.isNotNullNorUndefined(this.property)) {
            return `${this.functionName}(${this.property})`;
        }
        else if (Utils.isNotNullNorUndefined(this.value)) {
            return `${this.functionName}(${Utils.getValueURI(this.value, false)})`;
        }
        else {
            return `${this.functionName}()`;
        }
    }
    /**
     * @return {?}
     */
    isEmpty() {
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNullOrUndefined(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.property)
            && Utils.isNotNullNorUndefined(this.value) && Utils.isEmpty(this.value)) {
            return true;
        }
        if (Utils.isNullOrUndefined(this.value)
            && Utils.isNotNullNorUndefined(this.property) && !this.property.length) {
            return true;
        }
        return false;
    }
}
if (false) {
    /** @type {?} */
    FilterFunction.prototype.functionName;
    /** @type {?} */
    FilterFunction.prototype.value;
}
export class FilterFunctionString extends FilterFunction {
    /**
     * @param {?} functionName
     * @param {?=} property
     * @param {?=} value
     */
    constructor(functionName, property, value) {
        super(functionName, property, typeof (value) === 'string'
            ? new QuotedString(value)
            : value instanceof FilterFunctionString ? value.toString() : value);
    }
}
export class FilterContains extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('contains', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
export class FilterEndswith extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('endswith', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
export class FilterStartswith extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('startswith', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
export class FilterLength extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('length', property);
    }
}
export class FilterIndexof extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('indexof', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
export class FilterSubstring extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('substring', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}
export class FilterTolower extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('tolower', property);
    }
}
export class FilterToupper extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('toupper', property);
    }
}
export class FilterTrim extends FilterFunctionString {
    /**
     * @param {?} property
     */
    constructor(property) {
        super('trim', property);
    }
}
export class FilterConcat extends FilterFunctionString {
    /**
     * @param {?} property
     * @param {?} value
     */
    constructor(property, value) {
        super('concat', property, value);
        Utils.requireNotNullNorUndefined(value, 'value');
        Utils.requireNotEmpty(value, 'value');
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWZ1bmN0aW9uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vb2RhdGEtdjQtbmcvIiwic291cmNlcyI6WyJsaWIvcXVlcnktb3B0aW9ucy9maWx0ZXIvZmlsdGVyLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFMUMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBRS9ELE1BQU0scUJBQXNCLFNBQVEsaUJBQWlCOzs7Ozs7SUFJakQsWUFBWSxZQUFvQixFQUFFLFFBQWdCLEVBQUUsS0FBZ0Q7UUFDaEcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hCLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDL0QsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDcEQsS0FBSyxDQUFDLDBCQUEwQixDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN2RCxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztLQUN0Qjs7OztJQUVELFFBQVE7UUFDSixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxD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QUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDOUI7Q0FDSjtBQUVELE1BQU0sb0JBQXFCLFNBQVEsb0JBQW9COzs7O0lBQ25ELFlBQVksUUFBZ0I7UUFDeEIsS0FBSyxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztLQUM5QjtDQUNKO0FBRUQsTUFBTSxpQkFBa0IsU0FBUSxvQkFBb0I7Ozs7SUFDaEQsWUFBWSxRQUFnQjtRQUN4QixLQUFLLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0tBQzNCO0NBQ0o7QUFFRCxNQUFNLG1CQUFvQixTQUFRLG9CQUFvQjs7Ozs7SUFDbEQsWUFBWSxRQUFnQixFQUFFLEtBQW9DO1FBQzlELEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2pDLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDakQsS0FBSyxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDekM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgRmlsdGVySGFzUHJvcGVydHkgfSBmcm9tICcuL2ZpbHRlci1oYXMtcHJvcGVydHknO1xuaW1wb3J0IHsgUXVvdGVkU3RyaW5nIH0gZnJvbSAnLi4vLi4vb2RhdGEtcXVlcnkvcXVvdGVkLXN0cmluZyc7XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJGdW5jdGlvbiBleHRlbmRzIEZpbHRlckhhc1Byb3BlcnR5IGltcGxlbWVudHMgRmlsdGVyIHtcbiAgICBwcml2YXRlIGZ1bmN0aW9uTmFtZTogc3RyaW5nO1xuICAgIHByaXZhdGUgdmFsdWU6IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBRdW90ZWRTdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihmdW5jdGlvbk5hbWU6IHN0cmluZywgcHJvcGVydHk6IHN0cmluZywgdmFsdWU/OiBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgUXVvdGVkU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnR5KTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQoZnVuY3Rpb25OYW1lLCAnZnVuY3Rpb25OYW1lJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eShmdW5jdGlvbk5hbWUsICdmdW5jdGlvbk5hbWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQocHJvcGVydHksICdwcm9wZXJ0eScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkocHJvcGVydHksICdwcm9wZXJ0eScpO1xuICAgICAgICB0aGlzLmZ1bmN0aW9uTmFtZSA9IGZ1bmN0aW9uTmFtZTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KSAmJiBVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmZ1bmN0aW9uTmFtZX0oJHt0aGlzLnByb3BlcnR5fSwke1V0aWxzLmdldFZhbHVlVVJJKHRoaXMudmFsdWUsIGZhbHNlKX0pYDtcbiAgICAgICAgfSBlbHNlIGlmIChVdGlscy5pc05vdE51bGxOb3JVbmRlZmluZWQodGhpcy5wcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmZ1bmN0aW9uTmFtZX0oJHt0aGlzLnByb3BlcnR5fSlgO1xuICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZnVuY3Rpb25OYW1lfSgke1V0aWxzLmdldFZhbHVlVVJJKHRoaXMudmFsdWUsIGZhbHNlKX0pYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmZ1bmN0aW9uTmFtZX0oKWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5wcm9wZXJ0eSlcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5wcm9wZXJ0eSlcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnZhbHVlKSAmJiBVdGlscy5pc0VtcHR5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMuaXNOdWxsT3JVbmRlZmluZWQodGhpcy52YWx1ZSlcbiAgICAgICAgICAgICYmIFV0aWxzLmlzTm90TnVsbE5vclVuZGVmaW5lZCh0aGlzLnByb3BlcnR5KSAmJiAhdGhpcy5wcm9wZXJ0eS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJGdW5jdGlvblN0cmluZyBleHRlbmRzIEZpbHRlckZ1bmN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihmdW5jdGlvbk5hbWU6IHN0cmluZywgcHJvcGVydHk/OiBzdHJpbmcsIHZhbHVlPzogbnVtYmVyIHwgc3RyaW5nIHwgRmlsdGVyRnVuY3Rpb25TdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoZnVuY3Rpb25OYW1lLCBwcm9wZXJ0eSwgdHlwZW9mICh2YWx1ZSkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IG5ldyBRdW90ZWRTdHJpbmcodmFsdWUpXG4gICAgICAgICAgICA6IHZhbHVlIGluc3RhbmNlb2YgRmlsdGVyRnVuY3Rpb25TdHJpbmcgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckNvbnRhaW5zIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBGaWx0ZXJGdW5jdGlvblN0cmluZykge1xuICAgICAgICBzdXBlcignY29udGFpbnMnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyRW5kc3dpdGggZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdlbmRzd2l0aCcsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJTdGFydHN3aXRoIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBGaWx0ZXJGdW5jdGlvblN0cmluZykge1xuICAgICAgICBzdXBlcignc3RhcnRzd2l0aCcsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3ROdWxsTm9yVW5kZWZpbmVkKHZhbHVlLCAndmFsdWUnKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdEVtcHR5KHZhbHVlLCAndmFsdWUnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJMZW5ndGggZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcignbGVuZ3RoJywgcHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlckluZGV4b2YgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IEZpbHRlckZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCdpbmRleG9mJywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclN1YnN0cmluZyBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCdzdWJzdHJpbmcnLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90TnVsbE5vclVuZGVmaW5lZCh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgICAgIFV0aWxzLnJlcXVpcmVOb3RFbXB0eSh2YWx1ZSwgJ3ZhbHVlJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyVG9sb3dlciBleHRlbmRzIEZpbHRlckZ1bmN0aW9uU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCd0b2xvd2VyJywgcHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclRvdXBwZXIgZXh0ZW5kcyBGaWx0ZXJGdW5jdGlvblN0cmluZyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydHk6IHN0cmluZykge1xuICAgICAgICBzdXBlcigndG91cHBlcicsIHByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJUcmltIGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoJ3RyaW0nLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsdGVyQ29uY2F0IGV4dGVuZHMgRmlsdGVyRnVuY3Rpb25TdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBGaWx0ZXJGdW5jdGlvblN0cmluZykge1xuICAgICAgICBzdXBlcignY29uY2F0JywgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgVXRpbHMucmVxdWlyZU5vdE51bGxOb3JVbmRlZmluZWQodmFsdWUsICd2YWx1ZScpO1xuICAgICAgICBVdGlscy5yZXF1aXJlTm90RW1wdHkodmFsdWUsICd2YWx1ZScpO1xuICAgIH1cbn1cbiJdfQ==